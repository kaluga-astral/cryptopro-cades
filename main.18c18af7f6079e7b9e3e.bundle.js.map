{"version":3,"file":"main.18c18af7f6079e7b9e3e.bundle.js","mappings":"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","sources":["webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/cades.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/storeType.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/cryptoProviders.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/oids-dictionary.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/errors/errorCodes.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/certificateParser.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/bufferToHex.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/canAsync.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/deasync.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/output.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/PluginConfig.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/errors/CryptoError.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getLastError.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/Certificate.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getCryptoProviders.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/createObject.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getSystemInfo.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/checkIsSupportedCSPVersion.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/isSupportedCadesVersion.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/checkIsValidSystemSetup.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/afterPluginLoaded.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/setCryptoProperty.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/validateCertificate.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/sign.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/signXml.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/encrypt.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/decrypt.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/openStore.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getCertificates.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/findCertificateBySkid.ts","webpack://cryptopro-cades-example/./src/components/CertificateInfo.tsx","webpack://cryptopro-cades-example/./src/components/CryptoProviderInfo.tsx","webpack://cryptopro-cades-example/./src/App.tsx","webpack://cryptopro-cades-example/./src/index.tsx","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/vendor/cadesplugin_api.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Хранилище персональных сертификатов пользователя.\n */\nexport const CAPICOM_MY_STORE = 'My';\n\n/**\n * Тип подписи XML-документа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_xml_signature_type\n */\nexport enum CADESCOM_XML_SIGNATURE_TYPE {\n  /**\n   * Вложенная подпись.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED = 0,\n\n  /**\n   * Оборачивающая подпись.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING = 1,\n\n  /**\n   * Подпись по шаблону.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE = 2,\n}\n\n/**\n * Тип подписи XAdES-XML-документа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_xades_type\n */\nexport enum CADESCOM_XADES_TYPE {\n  /**\n   * Тип подписи по умолчанию (XAdES-X Long Type 1).\n   */\n  CADESCOM_XADES_DEFAULT = 0x00000010,\n\n  /**\n   * Тип подписи XAdES-A.\n   */\n  CADESCOM_XADES_A = 0x000007d0,\n\n  /**\n   * Тип подписи XAdES BES.\n   */\n  CADESCOM_XADES_BES = 0x00000020,\n\n  /**\n   * Тип подписи XAdES T.\n   */\n  CADESCOM_XADES_T = 0x00000050,\n\n  /**\n   * Тип подписи XAdES-X Long Type 1.\n   */\n  CADESCOM_XADES_X_LONG_TYPE_1 = 0x000005d0,\n\n  /**\n   * Тип подписи XMLDSIG.\n   */\n  CADESCOM_XMLDSIG_TYPE = 0x00000000,\n}\n\n/**\n * Тип усовершенствованной подписи.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_cades_type\n */\nexport const enum CADESCOM_CADES_TYPE {\n  /**\n   * Тип подписи по умолчанию (CAdES-X Long Type 1).\n   */\n  CADESCOM_CADES_DEFAULT = 0,\n\n  /**\n   * Тип подписи CAdES BES.\n   */\n  CADESCOM_CADES_BES = 1,\n\n  /**\n   * Тип подписи CAdES T.\n   */\n  CADESCOM_CADES_T = 0x5,\n\n  /**\n   * Тип подписи CAdES-X Long Type 1.\n   */\n  CADESCOM_CADES_X_LONG_TYPE_1 = 0x5d,\n\n  /**\n   * Тип подписи PKCS7.\n   */\n  CADESCOM_PKCS7_TYPE = 0xffff,\n}\n\n/**\n * Типы криптографических алгоритмов для XmlDsig\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-methods?id=Константы\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-samples/plugin-samples-sign-xml\n */\nexport enum XML_SIGNATURE_GOST_ALGORITHM_TYPE {\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3410Url = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411',\n\n  /**\n   * URL Алгоритм подписи для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3410UrlObsolete = 'http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3411Url = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411',\n\n  /**\n   * URL Алгоритм хеширования для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3411UrlObsolete = 'http://www.w3.org/2001/04/xmldsig-more#gostr3411',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2012 (256).\n   */\n  XmlDsigGost3411Url2012256 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256',\n\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2012 (256).\n   */\n  XmlDsigGost3410Url2012256 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2012 (512).\n   */\n  XmlDsigGost3411Url2012512 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512',\n\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2012 (512).\n   */\n  XmlDsigGost3410Url2012512 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512',\n}\n\n/**\n * The CAPICOM_CERTIFICATE_INCLUDE_OPTION enumeration type defines which certificates in a chain are saved.\n * This enumeration type was introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-certificate-include-option\n */\nexport enum CAPICOM_CERTIFICATE_INCLUDE_OPTION {\n  /**\n   * Saves all certificates in the chain with the exception of the root entity.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT = 0,\n\n  /**\n   * Saves the complete certificate chain.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN = 1,\n\n  /**\n   * Saves only the end entity certificate.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY = 2,\n}\n\n/**\n * Способ кодирования данных для подписи.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_content_encoding_type\n */\nexport enum CADESCOM_ENCODING_TYPE {\n  /**\n   * Data is saved as a base64-encoded string or a pure binary sequence. This encoding type is used only for input data that has an unknown encoding type. Introduced in CAPICOM 2.0.\n   */\n  CADESCOM_ENCODE_ANY = -1,\n\n  /**\n   * Data is saved as a base64-encoded string.\n   */\n  CADESCOM_ENCODE_BASE64 = 0,\n\n  /**\n   * Data is saved as a pure binary sequence.\n   */\n  CADESCOM_ENCODE_BINARY = 1,\n}\n\n/**\n * Enumeration type indicates the encoding type used.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-encoding-type\n */\nexport enum CAPICOM_ENCODING_TYPE {\n  /**\n   * Data is saved as a base64-encoded string or a pure binary sequence. This encoding type is used only for input data that has an unknown encoding type. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_ENCODE_ANY = 0xffffffff,\n\n  /**\n   * Data is saved as a base64-encoded string.\n   */\n  CAPICOM_ENCODE_BASE64 = 0,\n\n  /**\n   * Data is saved as a pure binary sequence.\n   */\n  CAPICOM_ENCODE_BINARY = 1,\n}\n\n/**\n * Используется как параметр при открытии Хранилища через @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/store-open\n * Позволяет задать уровень доступа к открываемому Хранилищу.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-store-open-mode\n */\nexport enum CAPICOM_STORE_OPEN_MODE {\n  /**\n   * Open the store in read-only mode.\n   */\n  CAPICOM_STORE_OPEN_READ_ONLY = 0,\n\n  /**\n   * Open the store in read/write mode.\n   */\n  CAPICOM_STORE_OPEN_READ_WRITE = 1,\n\n  /**\n   * Open the store in read/write mode if the user has read/write permissions. If the user does not have read/write permissions, open the store in read-only mode.\n   */\n  CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED = 2,\n\n  /**\n   * Open existing stores only; do not create a new store. Introduced by CAPICOM 2.0.\n   */\n  CAPICOM_STORE_OPEN_EXISTING_ONLY = 128,\n\n  /**\n   * Include archived certificates when using the store. Introduced by CAPICOM 2.0.\n   */\n  CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED = 256,\n}\n\n/**\n * Типы для указания расположения хранилища сертификатов.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_store_location\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-store-location\n */\nexport enum STORE_LOCATION {\n  /**\n   * Хранилище сертификатов в памяти компьютера. Любые изменения недопустимы.\n   */\n  CAPICOM_MEMORY_STORE = 0,\n  CADESCOM_MEMORY_STORE = 0,\n\n  /**\n   * Хранилище сертификатов компьютера. Если открыто на чтение/запись, то у вас есть права на изменения.\n   */\n  CAPICOM_LOCAL_MACHINE_STORE = 1,\n  CADESCOM_LOCAL_MACHINE_STORE = 1,\n\n  /**\n   * Хранилище сертификатов текущего пользователя. Доступ для изменения доступен для текущего пользователя.\n   */\n  CAPICOM_CURRENT_USER_STORE = 2,\n  CADESCOM_CURRENT_USER_STORE = 2,\n\n  /**\n   * Хранилище сертификатов в Active Directory.. Доступно только для чтения. Нельзя добавить или удалить сертификаты из данного хранилища.\n   */\n  CAPICOM_ACTIVE_DIRECTORY_USER_STORE = 3,\n\n  /**\n   * Хранилище сертификатов на смарткартах (поддерживается только с КриптоПро CSP 5.0.11823 и выше). Объявлено и доступно с CAPICOM 2.0.\n   */\n  CAPICOM_SMART_CARD_USER_STORE = 4,\n\n  /**\n   * Хранилище сертификатов из контейнеров закрытых ключей. В данный Store попадают все сертификаты из контейнеров закрытых ключей, которые доступны в системе в момент открытия.\n   * Доступно с CAdESCOM Plugin 2.0.13292\n   */\n  CADESCOM_CONTAINER_STORE = 100,\n}\n\n/**\n * The CAPICOM_CERT_INFO_TYPE enumeration type defines what information is to be queried from a certificate.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-cert-info-type\n * @type {number}\n */\nexport enum CAPICOM_CERT_INFO_TYPE {\n  /**\n   * Returns the display name from the certificate subject.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME = 0,\n\n  /**\n   * Returns the display name of the issuer of the certificate.\n   */\n  CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME = 1,\n\n  /**\n   * Returns the email address of the certificate subject.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_EMAIL_NAME = 2,\n\n  /**\n   * Returns the email address of the issuer of the certificate.\n   */\n  CAPICOM_CERT_INFO_ISSUER_EMAIL_NAME = 3,\n\n  /**\n   * Returns the UPN of the certificate subject. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_UPN = 4,\n\n  /**\n   * Returns the UPN of the issuer of the certificate. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_ISSUER_UPN = 5,\n\n  /**\n   * Returns the DNS name of the certificate subject. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_DNS_NAME = 6,\n\n  /**\n   * Returns the DNS name of the issuer of the certificate. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_ISSUER_DNS_NAME = 7,\n}\n\n/**\n * The CAPICOM_CERTIFICATE_FIND_TYPE enumeration type defines the type of search criteria used to find specific certificates. This enumeration type was introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-certificate-find-type\n * @type {number}\n */\nexport enum CAPICOM_CERTIFICATE_FIND_TYPE {\n  /**\n   * Returns certificates matching a specified SHA1 hash.\n   */\n  CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0,\n\n  /**\n   * Returns certificates whose subject name exactly or partially matches a specified subject name.\n   */\n  CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1,\n\n  /**\n   * Returns certificates whose issuer name exactly or partially matches a specified issuer name.\n   */\n  CAPICOM_CERTIFICATE_FIND_ISSUER_NAME = 2,\n\n  /**\n   * Returns certificates whose root subject name exactly or partially matches a specified root subject name.\n   */\n  CAPICOM_CERTIFICATE_FIND_ROOT_NAME = 3,\n\n  /**\n   * Returns certificates whose template name matches a specified template name.\n   */\n  CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME = 4,\n\n  /**\n   * Returns certificates that have an extension that matches a specified extension.\n   */\n  CAPICOM_CERTIFICATE_FIND_EXTENSION = 5,\n\n  /**\n   * Returns certificates that have an extended property whose property identifier matches a specified property identifier.\n   */\n  CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6,\n\n  /**\n   * Returns certificates in the store that have either an enhanced key usage extension or property combined with a usage identifier.\n   */\n  CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY = 7,\n\n  /**\n   * Returns certificates containing a specified policy OID.\n   */\n  CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY = 8,\n\n  /**\n   * Returns certificates whose time is valid.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9,\n\n  /**\n   * Returns certificates whose time is not yet valid.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID = 10,\n\n  /**\n   * Returns certificates whose time has expired.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED = 11,\n\n  /**\n   * Returns certificates containing a key that can be used in the specified manner.\n   */\n  CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12,\n}\n\n/**\n * The CAPICOM_KEY_USAGE enumeration defines the ways in which a key can be used. Introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-key-usage\n * @type {number}\n */\nexport enum CAPICOM_KEY_USAGE {\n  /**\n   * The key can be used to create a digital signature.\n   */\n  CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 128,\n\n  // other enums omited.\n}\n\n//region (cert.Find(..)) https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-propid\n/**\n * Возвращает DWORD значение, указывающее на закрытый ключ из\n *  CERT_KEY_CONTEXT_PROP_ID, если он есть.\n *  Иначе, если CERT_KEY_PROV_INFO_PROP_ID есть,\n *  то он будет источником dwKeySpec.\n *  (Find(CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY,CERT_KEY_SPEC_PROP_ID)\n *   - вернет сертификаты, у к-ых есть ссылка на закрытый ключ)\n * @type {number}\n */\nexport const CERT_KEY_SPEC_PROP_ID = 6;\n\n/**\n * Свойства хэш объекта.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-propid\n * @type {number}\n */\nexport enum CAPICOM_PROPID {\n  /**\n   * Неизвестный тип свойства.\n   */\n  CAPICOM_PROPID_UNKNOWN = 0,\n\n  /**\n   * Обработчик ключа контейнера с Криптопровайдером.\n   */\n  CAPICOM_PROPID_KEY_PROV_HANDLE = 1,\n  /**\n   * Вывод только сертификатов с информацией о контейнерах с Криптопровайдером.\n   */\n  CAPICOM_PROPID_KEY_PROV_INFO = 2,\n\n  /**\n   * The properties of a hash object.\n   */\n  CAPICOM_PROPID_HASH_PROP = 3,\n\n  /**\n   * A SHA1 hash object.\n   */\n  CAPICOM_PROPID_SHA1_HASH = 3,\n\n  /**\n   * An MD5 hash object.\n   */\n  CAPICOM_PROPID_MD5_HASH = 4,\n\n  /**\n   * The key context.\n   */\n  CAPICOM_PROPID_KEY_CONTEXT = 5,\n\n  /**\n   * The specifications for a key.\n   */\n  CAPICOM_PROPID_KEY_SPEC = 6,\n\n  /**\n   * Information about whether the hash of the public key is reserved.\n   */\n  CAPICOM_PROPID_PUBKEY_HASH_RESERVED = 8,\n\n  /**\n   * A certificate trust list (CTL) usage.\n   */\n  CAPICOM_PROPID_CTL_USAGE = 9,\n\n  /**\n   * An enhanced key usage (EKU).\n   */\n  CAPICOM_PROPID_ENHKEY_USAGE = 9,\n\n  /**\n   * The location of the next update to the certificate revocation list (CRL).\n   */\n  CAPICOM_PROPID_NEXT_UPDATE_LOCATION = 10,\n\n  /**\n   * A human-readable name.\n   */\n  CAPICOM_PROPID_FRIENDLY_NAME = 11,\n\n  /**\n   * A file that contains a private key.\n   */\n  CAPICOM_PROPID_PVK_FILE = 12,\n\n  /**\n   * A human-readable description.\n   */\n  CAPICOM_PROPID_DESCRIPTION = 13,\n\n  /**\n   * The state of the access.\n   */\n  CAPICOM_PROPID_ACCESS_STATE = 14,\n\n  /**\n   * A hash of the signature.\n   */\n  CAPICOM_PROPID_SIGNATURE_HASH = 15,\n\n  /**\n   * Smart card data.\n   */\n  CAPICOM_PROPID_SMART_CARD_DATA = 16,\n\n  /**\n   * An Encrypting File System (EFS).\n   */\n  CAPICOM_PROPID_EFS = 17,\n\n  /**\n   * Data created using the cryptographic protocols and algorithms owned by the National Institute of Standards and Technology (NIST).\n   */\n  CAPICOM_PROPID_FORTEZZA_DATA = 18,\n\n  /**\n   * Information about whether the object is archived.\n   */\n  CAPICOM_PROPID_ARCHIVED = 19,\n\n  /**\n   * A key identifier.\n   */\n  CAPICOM_PROPID_KEY_IDENTIFIER = 20,\n\n  /**\n   * Auto-enrollment information for a certificate.\n   */\n  CAPICOM_PROPID_AUTO_ENROLL = 21,\n\n  /**\n   * Parameters for a public key algorithm.\n   */\n  CAPICOM_PROPID_PUBKEY_ALG_PARA = 22,\n\n  /**\n   * Information used to update dynamic cross certificates.\n   */\n  CAPICOM_PROPID_CROSS_CERT_DIST_POINTS = 23,\n\n  /**\n   * Information about whether the object is reserved in Internet Explorer 3.0.\n   */\n  CAPICOM_PROPID_ISSUER_PUBLIC_KEY_MD5_HASH = 24,\n\n  /**\n   * The MD5 hash of the subject's public key.\n   */\n  CAPICOM_PROPID_SUBJECT_PUBLIC_KEY_MD5_HASH = 25,\n\n  /**\n   * Information about the certificate's enrollment.\n   */\n  CAPICOM_PROPID_ENROLLMENT = 26,\n\n  /**\n   * A date stamp.\n   */\n  CAPICOM_PROPID_DATE_STAMP = 27,\n\n  /**\n   * The MD5 hash of the issuer's serial number.\n   */\n  CAPICOM_PROPID_ISSUER_SERIAL_NUMBER_MD5_HASH = 28,\n\n  /**\n   * The MD5 hash of the subject's name.\n   */\n  CAPICOM_PROPID_SUBJECT_NAME_MD5_HASH = 29,\n\n  /**\n   * Extended information about an error.\n   */\n  CAPICOM_PROPID_EXTENDED_ERROR_INFO = 30,\n\n  /**\n   * Information about the renewal of a certification authority.\n   */\n  CAPICOM_PROPID_RENEWAL = 64,\n\n  /**\n   * An archived hash of a key.\n   */\n  CAPICOM_PROPID_ARCHIVED_KEY_HASH = 65,\n\n  /**\n   * Information about the first reservation.\n   */\n  CAPICOM_PROPID_FIRST_RESERVED = 66,\n\n  /**\n   * Information about the most recent reservation.\n   */\n  CAPICOM_PROPID_LAST_RESERVED = 0x00007fff,\n\n  /**\n   * Information about the first user.\n   */\n  CAPICOM_PROPID_FIRST_USER = 0x00008000,\n\n  /**\n   * Information about the most recent user.\n   */\n  CAPICOM_PROPID_LAST_USER = 0x0000ffff,\n}\n\nexport const CAPICOM_OID_OTHER = 0;\nexport const CAPICOM_OID_KEY_USAGE_EXTENSION = 10;\n\nexport const CAPICOM_EKU_CLIENT_AUTH = 2;\nexport const CAPICOM_EKU_SMARTCARD_LOGON = 5;\nexport const CAPICOM_EKU_OTHER = 0;\n\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO = 0x100;\nexport const CADESCOM_ATTRIBUTE_OTHER = -1;\n\nexport const CADESCOM_STRING_TO_UCS2LE = 0;\nexport const CADESCOM_BASE64_TO_BINARY = 1;\n\nexport const CADESCOM_DISPLAY_DATA_NONE = 0;\nexport const CADESCOM_DISPLAY_DATA_CONTENT = 1;\nexport const CADESCOM_DISPLAY_DATA_ATTRIBUTE = 2;\n\nexport const CADESCOM_ENCRYPTION_ALGORITHM_RC2 = 0;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_RC4 = 1;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_DES = 2;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_3DES = 3;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_AES = 4;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89 = 25;\n\nexport const CADESCOM_HASH_ALGORITHM_SHA1 = 0;\nexport const CADESCOM_HASH_ALGORITHM_MD2 = 1;\nexport const CADESCOM_HASH_ALGORITHM_MD4 = 2;\nexport const CADESCOM_HASH_ALGORITHM_MD5 = 3;\nexport const CADESCOM_HASH_ALGORITHM_SHA_256 = 4;\nexport const CADESCOM_HASH_ALGORITHM_SHA_384 = 5;\nexport const CADESCOM_HASH_ALGORITHM_SHA_512 = 6;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411 = 100;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256 = 101;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512 = 102;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC = 110;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC = 111;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC = 112;\n\nexport const CADESCOM_AllowNone = 0;\nexport const CADESCOM_AllowNoOutstandingRequest = 0x1;\nexport const CADESCOM_AllowUntrustedCertificate = 0x2;\nexport const CADESCOM_AllowUntrustedRoot = 0x4;\nexport const CADESCOM_SkipInstallToStore = 0x10000000;\nexport const CADESCOM_InstallCertChainToContainer = 0x20000000;\nexport const CADESCOM_UseContainerStore = 0x40000000;\n\nexport const ENABLE_CARRIER_TYPE_CSP = 0x01;\nexport const ENABLE_CARRIER_TYPE_FKC_NO_SM = 0x02;\nexport const ENABLE_CARRIER_TYPE_FKC_SM = 0x04;\nexport const ENABLE_ANY_CARRIER_TYPE = 0x07;\n\nexport const DISABLE_EVERY_CARRIER_OPERATION = 0x00;\nexport const ENABLE_CARRIER_OPEN_ENUM = 0x01;\nexport const ENABLE_CARRIER_CREATE = 0x02;\nexport const ENABLE_ANY_OPERATION = 0x03;\n\nexport const CADESCOM_PRODUCT_CSP = 0;\nexport const CADESCOM_PRODUCT_OCSP = 1;\nexport const CADESCOM_PRODUCT_TSP = 2;\n\n/**\n * Тип медиа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_media_type\n */\nexport const enum CADESCOM_MEDIA_TYPE {\n  /**\n   * Реестр.\n   */\n  MEDIA_TYPE_REGISTRY = 0x00000001,\n\n  /**\n   * Жесткий диск.\n   */\n  MEDIA_TYPE_HDIMAGE = 0x00000002,\n\n  /**\n   * Облачный носитель.\n   */\n  MEDIA_TYPE_CLOUD = 0x00000004,\n\n  /**\n   * Смарт-карта или любое другое устройство с интерфейсом смарт-карты.\n   */\n  MEDIA_TYPE_SCARD = 0x00000008,\n}\n\nexport const XCN_CRYPT_STRING_BASE64HEADER = 0;\nexport const AT_KEYEXCHANGE = 1;\nexport const AT_SIGNATURE = 2;\n\nexport const CARRIER_FLAG_REMOVABLE = 1;\nexport const CARRIER_FLAG_UNIQUE = 2;\nexport const CARRIER_FLAG_PROTECTED = 4;\nexport const CARRIER_FLAG_FUNCTIONAL_CARRIER = 8;\nexport const CARRIER_FLAG_SECURE_MESSAGING = 16;\nexport const CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE = 64;\nexport const CARRIER_FLAG_VIRTUAL = 128;\n\n/**\n * OID (атрибут) сертификата.\n * The OID object represents an object identifier (OID) that is used by several CAPICOM properties.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/oid\n */\nexport interface CAPICOM_OID {\n  readonly CAPICOM_OID_OTHER: 0;\n  readonly CAPICOM_OID_KEY_USAGE_EXTENSION: 10;\n  readonly CAPICOM_OID_AUTHORITY_KEY_IDENTIFIER_EXTENSION: 1;\n  readonly CAPICOM_OID_KEY_ATTRIBUTES_EXTENSION: 2;\n  readonly CAPICOM_OID_CERT_POLICIES_95_EXTENSION: 3;\n  readonly CAPICOM_OID_KEY_USAGE_RESTRICTION_EXTENSION: 4;\n  readonly CAPICOM_OID_LEGACY_POLICY_MAPPINGS_EXTENSION: 5;\n  readonly CAPICOM_OID_SUBJECT_ALT_NAME_EXTENSION: 6;\n  readonly CAPICOM_OID_ISSUER_ALT_NAME_EXTENSION: 7;\n  readonly CAPICOM_OID_BASIC_CONSTRAINTS_EXTENSION: 8;\n  readonly CAPICOM_OID_SUBJECT_KEY_IDENTIFIER_EXTENSION: 9;\n  readonly CAPICOM_OID_PRIVATEKEY_USAGE_PERIOD_EXTENSION: 11;\n  readonly CAPICOM_OID_SUBJECT_ALT_NAME2_EXTENSION: 12;\n  readonly CAPICOM_OID_ISSUER_ALT_NAME2_EXTENSION: 13;\n  readonly CAPICOM_OID_BASIC_CONSTRAINTS2_EXTENSION: 14;\n  readonly CAPICOM_OID_NAME_CONSTRAINTS_EXTENSION: 15;\n  readonly CAPICOM_OID_CRL_DIST_POINTS_EXTENSION: 16;\n  readonly CAPICOM_OID_CERT_POLICIES_EXTENSION: 17;\n  readonly CAPICOM_OID_POLICY_MAPPINGS_EXTENSION: 18;\n  readonly CAPICOM_OID_AUTHORITY_KEY_IDENTIFIER2_EXTENSION: 19;\n  readonly CAPICOM_OID_POLICY_CONSTRAINTS_EXTENSION: 20;\n  readonly CAPICOM_OID_ENHANCED_KEY_USAGE_EXTENSION: 21;\n  readonly CAPICOM_OID_CERTIFICATE_TEMPLATE_EXTENSION: 22;\n  readonly CAPICOM_OID_APPLICATION_CERT_POLICIES_EXTENSION: 23;\n  readonly CAPICOM_OID_APPLICATION_POLICY_MAPPINGS_EXTENSION: 24;\n  readonly CAPICOM_OID_APPLICATION_POLICY_CONSTRAINTS_EXTENSION: 25;\n  readonly CAPICOM_OID_AUTHORITY_INFO_ACCESS_EXTENSION: 26;\n  readonly CAPICOM_OID_SERVER_AUTH_EKU: 100;\n  readonly CAPICOM_OID_CLIENT_AUTH_EKU: 101;\n  readonly CAPICOM_OID_CODE_SIGNING_EKU: 102;\n  readonly CAPICOM_OID_EMAIL_PROTECTION_EKU: 103;\n  readonly CAPICOM_OID_IPSEC_END_SYSTEM_EKU: 104;\n  readonly CAPICOM_OID_IPSEC_TUNNEL_EKU: 105;\n  readonly CAPICOM_OID_IPSEC_USER_EKU: 106;\n  readonly CAPICOM_OID_TIME_STAMPING_EKU: 107;\n  readonly CAPICOM_OID_CTL_USAGE_SIGNING_EKU: 108;\n  readonly CAPICOM_OID_TIME_STAMP_SIGNING_EKU: 109;\n  readonly CAPICOM_OID_SERVER_GATED_CRYPTO_EKU: 110;\n  readonly CAPICOM_OID_ENCRYPTING_FILE_SYSTEM_EKU: 111;\n  readonly CAPICOM_OID_EFS_RECOVERY_EKU: 112;\n  readonly CAPICOM_OID_WHQL_CRYPTO_EKU: 113;\n  readonly CAPICOM_OID_NT5_CRYPTO_EKU: 114;\n  readonly CAPICOM_OID_OEM_WHQL_CRYPTO_EKU: 115;\n  readonly CAPICOM_OID_EMBEDED_NT_CRYPTO_EKU: 116;\n  readonly CAPICOM_OID_ROOT_LIST_SIGNER_EKU: 117;\n  readonly CAPICOM_OID_QUALIFIED_SUBORDINATION_EKU: 118;\n  readonly CAPICOM_OID_KEY_RECOVERY_EKU: 119;\n  readonly CAPICOM_OID_DIGITAL_RIGHTS_EKU: 120;\n  readonly CAPICOM_OID_LICENSES_EKU: 121;\n  readonly CAPICOM_OID_LICENSE_SERVER_EKU: 122;\n  readonly CAPICOM_OID_SMART_CARD_LOGON_EKU: 123;\n  readonly CAPICOM_OID_PKIX_POLICY_QUALIFIER_CPS: 124;\n  readonly CAPICOM_OID_PKIX_POLICY_QUALIFIER_USERNOTICE: 125;\n}\n\n/**\n * Список крипто-объектов для передачи в createObject, (cadesplugin|capicom).CreateObject|CreateObjectAsync()\n */\nexport const enum CRYPTO_OBJECTS {\n  /**\n   * Объект позволяющий взаимодействовать с хранилищем сертификатов.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/store\n   */\n  store = 'CAdESCOM.Store',\n\n  /**\n   * Объект задающий параметры создания и содержащий информацию об усовершенствованной подписи.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpsigner\n   */\n  signer = 'CAdESCOM.CPSigner',\n\n  /**\n   * Объект задающий способ подписания Xml файла.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/signedxml\n   */\n  signedXml = 'CAdESCOM.SignedXML',\n\n  /**\n   * Объект предоставляет свойства и методы для работы с подписанным документом XML.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/about\n   */\n  about = 'CAdESCOM.About',\n\n  /**\n   * Объект предоставляет функционал по усовершенствованной подписи.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cadessigneddata\n   */\n  signedData = 'CAdESCOM.CadesSignedData',\n\n  /**\n   * Объект предоставляет функционал по шифрованию/расшифровке сообщения.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpenvelopeddata\n   */\n  envelopedData = 'CAdESCOM.CPEnvelopedData',\n\n  /**\n   * Объект сертификат.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpcertificate\n   */\n  certificate = 'CAdESCOM.Certificate',\n}\n","/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Источники сертификатов (Где искать сертификаты?).\n */\nexport enum STORE_TYPE {\n  ALL = 'ALL',\n  USB_TOKEN = 'USB_TOKEN',\n  REGISTRY = 'REGISTRY',\n}\n","import { ICryptoProvider } from '../types';\n\n/**\n * Справочник типок криптопровайдеров, с которыми работает плагин (для проверки поддержки).\n */\nexport const CRYPTO_PROVIDERS: ICryptoProvider[] = [\n  {\n    ProviderType: 75,\n    ProviderName: 'Crypto-Pro GOST R 34.10-2001 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 80,\n    ProviderName: 'Crypto-Pro GOST R 34.10-2012 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 81,\n    ProviderName:\n      'Crypto-Pro GOST R 34.10-2012 Strong Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 2,\n    ProviderName: 'Infotecs Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 77,\n    ProviderName: 'Infotecs GOST 2012/512 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 78,\n    ProviderName: 'Infotecs GOST 2012/1024 Cryptographic Service Provider',\n  },\n].map((c) => ({\n  ProviderName: c.ProviderName,\n  ProviderType: c.ProviderType,\n}));\n\n/**\n * Криптопровайдер по-умолчанию.\n */\nexport const DEFAULT_CRYPTO_PROVIDER = {\n  Default: CRYPTO_PROVIDERS.find((t) => t.ProviderType === 80)!,\n  Fallback: CRYPTO_PROVIDERS.find((t) => t.ProviderType === 2)!,\n};\n\n/**\n * Криптопровайдеры VipNet.\n */\nexport const VIP_NET_CRYPTO_PROVIDER_TYPES = Object.freeze([2, 77, 78]);\n\n/**\n * Криптопровайдеры КриптоПРО.\n */\nexport const CRYPTO_PRO_CRYPTO_PROVIDER_TYPES = Object.freeze([75, 80, 81]);\n","/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Типы ГОСТовских алгоритмов.\n */\nexport enum GOST_KEY_ALGORITHM_TYPES {\n  /**\n   * Алгоритм ГОСТ Р 34.10-2012 для ключей длины 256 бит.\n   */\n  GOST_R3410_12_256 = '1.2.643.7.1.1.1.1',\n\n  /**\n   * Алгоритм ГОСТ Р 34.10-2012 для ключей длины 512 бит\n   */\n  GOST_R3410_12_512 = '1.2.643.7.1.1.1.2',\n}\n\n/**\n * OID ГОСТовских алгоритмов.\n */\nexport const GOST_KEY_ALGORITHM_OIDS: string[] = Object.values(\n  GOST_KEY_ALGORITHM_TYPES\n);\n\n/**\n * OID SubjectKeyId расширения в сертификате.\n */\nexport const subjectKeyIdExtensionOid = '2.5.29.14';\n\n/**\n * OID атрибутов сертификата.\n */\nexport const attributeOids = {\n  commonName: '2.5.4.3',\n  surname: '2.5.4.4',\n  name: '2.5.4.42',\n  country: '2.5.4.6',\n  locality: '2.5.4.7',\n  region: '2.5.4.8',\n  street: '2.5.4.9',\n  organisation: '2.5.4.10',\n  department: '2.5.4.11',\n  post: '2.5.4.12',\n  ogrnip: '1.2.643.100.5',\n  ogrn: '1.2.643.100.1',\n  snils: '1.2.643.100.3',\n  inn: '1.2.643.3.131.1.1',\n  innLe: '1.2.643.100.4',\n  email: '1.2.840.113549.1.9.1',\n};\n","/**\n * Список возможных ошибок при работе с API CryptoPro Browser Plugin.\n * Это ошибки могут быть как от криптопровайдера (CSP), так и от операционной системы пользователя.\n * Часть ошибок описана тут @see https://docs.cryptopro.ru/pki/introduction/dllerrors\n * @type {{code: string, message: string}[]}\n */\nexport const CRYPTO_PRO_ERRORS = Object.freeze([\n  {\n    code: '0x80090008',\n    message:\n      'Указан неверный алгоритм. Операционная система не смогла выполнить операцию, так как криптопровайдер не установлен или установлен некорректно. Для устранения ошибки рекомендуется переустановить сертификат и проверить привязку к закрытому ключу, если не поможет, то переустановить криптопровайдер.',\n    // original: 'Код ошибки: 0x80090008 (Указан неверный алгоритм)'\n  },\n  {\n    code: '0x80090017',\n    message:\n      'Криптопровайдер не установлен или установлен некорректно. Для устранения ошибки рекомендуется переустановить криптопровайдер.',\n  },\n  {\n    code: '0x8007064A',\n    message:\n      'Возможно криптопровайдер КриптоПро частично удален с рабочего места или установлена устаревшая версия. Для устранения ошибки рекомендуется установить версию КриптоПро 4.0 и выше.',\n    // original: 'Ошибка КриптоПро CSP Загрузка информации о лицензии Код ошибки: 0x8007064A (Данные настройки для этого продукта повреждены. Обратитесь в службу поддержки организации)'\n  },\n  {\n    code: '0x80090019',\n    message:\n      'Набор ключей не определен. Проверьте на корректность сертификат и убедитесь что на машине установлен необходимый для него криптопровайдер.',\n    // original: 'Код ошибки: 0x80090019 (Набор ключей не определен.)'\n    // возникает так же если не установлен на компе криптопро\n  },\n  {\n    code: '0x8007139F',\n    message:\n      'Внутренняя ошибка КриптоПро. Группа или ресурс не находятся в нужном состоянии для выполнения требуемой операции. Вероятно не работает TSP сервер (служба штампов времени).',\n  },\n  {\n    code: '0x80070002',\n    message:\n      'Внутренняя ошибка КриптоПро. Если вы подписываете с помощью усовершенствованной подписи, убедитесь что ваши версии TSP client и OCSP client имеют неограниченную лицензию.',\n  },\n  {\n    code: '0xc2110128',\n    message:\n      'Внутренняя ошибка КриптоПро. Не удалось получить статус отзыва ЭП. Попробуйте повторить операцию позднее.',\n  },\n  {\n    code: '0xC2100121',\n    message:\n      'Внутренняя ошибка КриптоПро. Не задан адрес службы штампов времени.',\n  },\n  {\n    code: '0xC2110121',\n    message: 'Внутренняя ошибка КриптоПро. Не задан адрес службы OCSP.',\n  },\n  {\n    code: '0x80090020',\n    message:\n      'Внутренняя ошибка КриптоПро. Убедитесь, что на машине установлен только один криптопровайдер во избежание конфликтов ПО.',\n  },\n  {\n    code: '0x800B010A',\n    message:\n      'Не установлен корневой сертификат. Произведите установку корневого сертификата Удостоверяющего Центра, выдавшего вашу электронную подпись.',\n  },\n  {\n    code: '0x800B0109',\n    message:\n      'Не установлен корневой сертификат. Произведите установку корневого сертификата Удостоверяющего Центра, выдавшего вашу электронную подпись.',\n  },\n  {\n    code: '0x8007065B',\n    message: 'Истекла лицензия КриптоПро CSP',\n  },\n  {\n    code: '0x80092004',\n    message:\n      'Не установлена связь с закрытым ключом, привяжите личный сертификат к закрытому ключу.',\n  },\n  {\n    code: '0x8009200B',\n    message: 'Закрытый ключ не найден.',\n  },\n  {\n    code: '0x8000FFFF', // обычно если USB токен не вставлен\n    message: 'Закрытый ключ не найден.',\n    // original: 'Код ошибки: 0x8000FFFF (Не удалось создать подпись из-за ошибки: Internal error)'\n  },\n  {\n    code: '0x80090016',\n    message: 'Закрытый ключ не найден.',\n    // original: 'Код ошибки: 0x80090016 (Набор ключей не существует)'\n  },\n  {\n    code: '0x8009000D',\n    message:\n      'Ключ не существует. Для устранения ошибки рекомендуемся переустановить сертификат с повторной привязкой к закрытому ключу.',\n    // original: 'Код ошибки: 0x8009000D (Ключ не существует.)'\n  },\n  {\n    code: '0x8009200C',\n    message:\n      'Не удалось найти закрытый ключ для расшифровки зашифрованного документа.',\n  },\n  {\n    code: '0xC2110126',\n    message: 'Сертификат отозван.',\n  },\n  {\n    code: '0x80090010',\n    message:\n      'Отказано в доступе. Убедитесь, что подпись производится действующим сертификатом.',\n  },\n  {\n    code: '0x000004C7',\n    message:\n      'Операция отменена пользователем. Необходимо обновить страницу и предоставить доступ к криптопровайдеру.',\n  },\n  {\n    code: '0x800704C7',\n    message: 'Операция отменена пользователем.',\n  },\n  {\n    code: '0x8010006E',\n    message: 'Операция отменена пользователем.',\n  },\n  {\n    code: '0x800705B9',\n    message: 'Ошибка разбора XML файла. Документ имеет некорректный формат.',\n    // original: '0x800705B9: Windows was unable to parse the requested XML data. (0x800705B9)'\n  },\n]);\n\n/**\n * Список кастомных ошибок для различных ситуаций.\n */\nexport const PLUGIN_ERRORS = Object.freeze({\n  'CBP-0': 'Неизвестная ошибка при работе с КриптоПро ЭЦП Browser plug-in.',\n  'CBP-1': 'Не удалось инициализировать КриптоПро ЭЦП Browser plug-in.',\n  'CBP-2':\n    'Ошибка инициализации библиотеки для работы с КриптоПро ЭЦП Browser plug-in.',\n  'CBP-3':\n    'Используется устаревшая версия КриптоПро ЭЦП Browser Plug-in. Необходимо провести обновление до последней доступной версии.',\n  'CBP-4':\n    'Используется устаревшая версия КриптоПро CSP. Необходимо провести обновление до версии 4.0 и выше.',\n  'CBP-5': 'Ошибка формата данных.',\n  'CBP-6': 'Сертификат не прошёл проверку, использование невозможно.',\n  'CBP-7': 'Неверные входные параметры.',\n  'CBP-8': 'Не установлен ни один криптопровайдер.',\n  'CBP-9': 'Неизвестный алгоритм ключа.',\n  'CBP-10': 'Не удалось прочитать данные сертификата.',\n});\n","import { Buffer } from 'buffer';\n\n// @ts-ignore // TOOD: разобраться почему не находит модуль.\nimport { Certificate as x509Certificate } from 'pkijs';\nimport { fromBER } from 'asn1js';\n\nimport { Certificate } from '../Certificate';\nimport {\n  GOST_KEY_ALGORITHM_OIDS,\n  attributeOids,\n  subjectKeyIdExtensionOid,\n} from '../constants/oids-dictionary';\nimport { CryptoError } from '../errors';\n\nimport { bufferToHex } from './bufferToHex';\n\n/**\n * Получить данные из сертификата.\n * @param target Объект данных (issuer или subject).\n * @param attributeName Наименование извлекаемого атрибута.\n * @throws {CryptoError} в случае ошибки.\n * @returns Извлеченные данные.\n */\nfunction parseValue(target: any, attributeName: string): string {\n  if (!target) {\n    const errorMessage = `Не задан объект для извлечения атрибута ${attributeName}`;\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n\n  return target?.typesAndValues?.find(\n    ({ type }: { type: string }): boolean =>\n      type == attributeOids[attributeName]\n  )?.value?.valueBlock?.value;\n}\n\n/**\n * Нормализовать ИНН.\n * @param inn ИНН.\n * @returns нормализованный ИНН.\n * @example\n * in 004028031214, out 4028031214\n * in 402701356218, out 402701356218\n */\nfunction normalizeInn(inn: string | null): string | null {\n  return inn && inn.length == 12 && inn.startsWith('00')\n    ? inn.substring(2, 12)\n    : inn;\n}\n\n/**\n * Парсит данные сертификата.\n * @param certificate Сертификат.\n * @throws {CryptoError} в случае ошибки.\n */\nexport function parseCertificate(certificate: Certificate) {\n  if (!certificate.certificateBase64Data) {\n    const errorMessage = 'Не загружена открытая часть сертификата.';\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n\n  try {\n    const asn1 = fromBER(\n      new Uint8Array(Buffer.from(certificate.certificateBase64Data, 'base64'))\n        .buffer\n    );\n    const parsedCert = new x509Certificate({ schema: asn1.result });\n\n    const publishKeyAlgorithm =\n      parsedCert.subjectPublicKeyInfo.algorithm.algorithmId;\n    certificate.algorithm = publishKeyAlgorithm;\n    certificate.isGost = GOST_KEY_ALGORITHM_OIDS.includes(publishKeyAlgorithm);\n\n    const subjectKeyIdentifierExtension = parsedCert.extensions.find(\n      ({ extnID }: { extnID: string }): boolean =>\n        extnID === subjectKeyIdExtensionOid\n    );\n    certificate.subjectKeyId = bufferToHex(\n      subjectKeyIdentifierExtension?.parsedValue?.valueBlock?.valueHex\n    );\n\n    Object.keys(certificate.issuer).forEach((key) => {\n      certificate.issuer[key] = parseValue(parsedCert.issuer, key);\n    });\n\n    Object.keys(certificate.subject).forEach((key) => {\n      certificate.subject[key] = parseValue(parsedCert.subject, key);\n    });\n\n    certificate.issuer.inn = normalizeInn(certificate.issuer.inn);\n    certificate.subject.innLe = normalizeInn(certificate.subject.innLe);\n    certificate.subject.inn = normalizeInn(certificate.subject.inn);\n\n    // TODO: здесь можно допарсить данные из открытой части сертификата\n  } catch (error) {\n    throw CryptoError.create(\n      'CBP-10',\n      'Не удалось распарсить данные сертификата.',\n      error\n    );\n  }\n}\n","/**\n * Конвертировать массив байт в строкове 16-ричное представление.\n * @param buffer массив байт.\n * @returns строка в 16-ричном представлении.\n */\nexport function bufferToHex(buffer: ArrayBuffer): string | null {\n  if (!buffer) {\n    return null;\n  }\n\n  let result = '';\n  const int8Buffer = new Uint8Array(buffer);\n\n  for (let i = 0; i < int8Buffer.length; i++) {\n    const str = int8Buffer[i].toString(16).toUpperCase();\n    result += (str.length === 1 ? '0' : '') + str;\n  }\n  return result.trim();\n}\n","/**\n * Проверка доступности асинхронной функциональности.\n * @returns {boolean} true, если нужно выполнять асинхронно.\n */\nexport function canAsync(): boolean {\n  // !!window.Promise || !!Iterator\n  return !!window.cadesplugin?.CreateObjectAsync;\n}\n","import { canAsync } from '../api/internal/canAsync';\nimport { CryptoError } from '../errors';\n\n/**\n * Обёртка для вызова асинхронной функции в синхронном контексте.\n * @param {Promise<*>} fn - функция или иное свойство от Promise.\n * @returns {*|Promise<*>} .\n */\nexport function deasync(fn: Promise<any>): any {\n  let result = fn;\n  if (canAsync()) {\n    (async () => {\n      try {\n        result = await fn;\n      } catch (err) {\n        throw CryptoError.create('CBP-0', 'deasync', err);\n      }\n    })();\n  }\n  return result;\n}\n","import PluginConfig from '../PluginConfig';\n\n/**\n * Подготовить данные для логирования.\n * @param args данные.\n * @returns Объект готовый для логирования.\n */\nconst prepareArgs = (args: (string | any)[]): any => {\n  const context = '[cryptopro-cades]: ';\n\n  if (typeof args[0] == 'string') {\n    args[0] = context + args[0];\n  } else {\n    args.unshift(context);\n  }\n\n  return args;\n};\n\n/**\n * Логировать информацию (если включен Debug)\n * @param args\n */\nexport const outputDebug = (...args: (string | any)[]): void => {\n  if (PluginConfig.Debug) {\n    console.log(...prepareArgs(args));\n  }\n};\n\n/**\n * Логировать ошибку.\n * @param args параметры.\n */\nexport const outputError = (...args: (string | any)[]): void => {\n  console.error(...prepareArgs(args));\n};\n","import { CryptoError } from './errors';\nimport { outputError } from './utils';\nimport { CRYPTO_PROVIDERS } from './constants';\nimport { ICryptoProvider } from './types';\n\n/**\n * Настройки плагина.\n */\nclass PluginConfig {\n  /**\n   * Список подписчиков возникающих ошибок в системе.\n   */\n  private errorListeners: ((error: CryptoError) => void)[] = [];\n\n  /**\n   * Функция для проверки (переопределения проверки) версии криптопровайдера.\n   * Если вернуть null, считаем что версия прошла проверку.\n   */\n  checkCspVersionFunc:\n    | ((cryptoProvider: ICryptoProvider) => string | null)\n    | null = null;\n\n  /**\n   * Выводить дебаг-информацию.\n   */\n  Debug: boolean = false;\n\n  /**\n   * Выводить дебаг информацию по криптопро плагину.\n   */\n  DebugCryptoProBrowserPlugin: boolean = false;\n\n  /**\n   * Проверять систему при инициализации.\n   */\n  CheckSystemSetup: boolean = true;\n\n  /**\n   * Список криптопровайдеров для проверки и работы.\n   */\n  CheckCryptoProviders: ICryptoProvider[] = CRYPTO_PROVIDERS;\n\n  /**\n   * Зарегистрировать подписчика ошибок.\n   * @param cb Функция обратного вызова.\n   * @remarks Подписчики ошибок будут вызваны в обратном порядке.\n   */\n  public addErrorListener(cb: (error: CryptoError) => void) {\n    this.errorListeners.unshift(cb);\n  }\n\n  /**\n   * Уведомить подписчиков об ошибке.\n   * @param error Ошибка.\n   */\n  public notifyError(error: CryptoError) {\n    this.errorListeners.forEach((cb) => cb(error));\n  }\n}\n\nconst pluginConfig = new PluginConfig();\n\n/**\n * Функция логирования всех возникающих ошибок.\n * @param error Ошибка.\n */\nconst logErrorWhenInDebug = (error: CryptoError): void => {\n  if (pluginConfig.Debug && error) {\n    const errors = [];\n    let err: any = error;\n    while (err != null) {\n      errors.push(err);\n      if (err instanceof CryptoError) {\n        err = err.InnerError;\n      } else {\n        err = null;\n      }\n    }\n\n    if (errors?.length) {\n      outputError('Ошибка >>', errors);\n    }\n  }\n};\n\npluginConfig.addErrorListener(logErrorWhenInDebug);\n\nexport { pluginConfig };\nexport default pluginConfig;\n","import { getLastError } from '../api/getLastError';\nimport { IAnyError, ICryptoError, IErrorObject } from '../types';\n\nimport { CRYPTO_PRO_ERRORS, PLUGIN_ERRORS } from './errorCodes';\nimport PluginConfig from './../PluginConfig';\n\n/**\n * Описывает ошибку криптографического модуля.\n *\n *  @example\n *  try{...}\n *  catch(err){\n *    throw CryptoError.createCadesError(err, \"Ошибка инициализации контейнера\")\n *  }\n *\n * @class feature/crypto/CryptoError\n * @extends Error\n */\nexport class CryptoError extends Error implements ICryptoError {\n  /**\n   * Исходный объект ошибки.\n   */\n  public InnerError: IErrorObject | null;\n\n  /**\n   * Правило для выяснения типа ошибки (источника ошибки).\n   */\n  private static _RULE_MATCHING_CODE: RegExp =\n    /^(.*?)(?:(?:\\.?\\s?\\(?0x)|(?:\\.?$))/;\n\n  /**\n   * Код ошибки. Максимальная длина 16 символов.\n   * Для идентификации также смотрите @see #title @see #type.\n   */\n  code: string = '';\n\n  /**\n   * Название ошибки (Основной/короткий текст ошибки).\n   * По нему можно идентифицировать ошибку для изменения #message согласно\n   *  требованиям системы.\n   */\n  title: string = '';\n\n  /**\n   * Текст сообщения об ошибке. Для пользователя.\n   */\n  message: string = '';\n\n  /**\n   * Тип ошибки (обычный - Error, от CAdESCOM plugin - CAdES,...)\n   */\n  type: string = 'Error';\n\n  /**\n   * Унаследовано от родительского класса Error.\n   */\n  name: string = '';\n\n  /**\n   * Приватный конструктор. Для создания экземпляра используйте статические методы @createCadesError и @create\n   * @param err Объект ошибки.\n   */\n  private constructor(err: IErrorObject | null) {\n    super();\n    this.InnerError = err;\n    this.message = err?.message;\n    this.stack = err?.stack;\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CryptoError);\n    }\n  }\n\n  /**\n   * Формирует текстовое представление ошибки в формате Код ошибки: Сообщение для пользователя\n   * @returns\n   */\n  toString() {\n    return [this.code, this.message].filter(Boolean).join(': ');\n  }\n\n  /**\n   * Создает ошибку на основе ошибки от CryptoPro Browser Plugin.\n   * @param err Объект ошибки.\n   * @param title Описание ошибки (не показывается пользователю)\n   * @returns {CryptoError} Объект ошибки криптографического модуля.\n   */\n  public static createCadesError(\n    err: IErrorObject,\n    title: string\n  ): CryptoError {\n    const cryptoError = new CryptoError(err);\n\n    err = err as IAnyError;\n    cryptoError.code = err.code || CryptoError._extractCode(err);\n    if (typeof cryptoError.code === 'string' && cryptoError.code.length > 16) {\n      cryptoError.code = '';\n    }\n    let extractedMsg = '';\n    if (!err.message) {\n      extractedMsg = cryptoError._extractMessage(err);\n    }\n    cryptoError.title = title ?? err.message ?? extractedMsg;\n    cryptoError.type = err.type ?? 'CAdES';\n    cryptoError.type += ' < @astral/cades-plugin';\n    cryptoError.message =\n      CRYPTO_PRO_ERRORS.find((res) => res.code == cryptoError.code)?.message ??\n      err.message ??\n      extractedMsg;\n\n    PluginConfig.notifyError(cryptoError);\n\n    return cryptoError;\n  }\n\n  /**\n   * Создает формализованную ошибку криптографического модуля с указанным кодом ошибки.\n   * @param errorCode Объект ошибки.\n   * @param title Описание ошибки (не показывается пользователю).\n   * @param err Объект ошибки.\n   * @param overrideMessage Текст ошибки который будет указан вместо стандартного из справочника.\n   * @returns {CryptoError} Объект ошибки криптографического модуля.\n   */\n  public static create(\n    errorCode: keyof typeof PLUGIN_ERRORS,\n    title: string,\n    err: IErrorObject | null,\n    overrideMessage?: string\n  ): CryptoError {\n    const cryptoError = new CryptoError(err);\n    cryptoError.InnerError = err;\n    cryptoError.type = 'Error';\n    cryptoError.code = errorCode;\n    cryptoError.title = title; // не показываем пользователю\n    cryptoError.message = overrideMessage ?? PLUGIN_ERRORS[cryptoError.code];\n\n    PluginConfig.notifyError(cryptoError);\n\n    return cryptoError;\n  }\n\n  /**\n   * Извлекаем код ошибки плагина (если это ошибка крипты).\n   * @param {Error} err - объект ошибки.\n   * @returns {number|string} .\n   * @private\n   */\n  private static _extractCode(err: IErrorObject): number | string {\n    const result =\n      (err.message?.match(/\\(?0x.{2,8}\\)?/) ||\n        err.message?.match(CryptoError._RULE_MATCHING_CODE) ||\n        [])[0] || '';\n    return result.replace(/[()]/g, '');\n  }\n\n  /**\n   * Выдираем из объекта Ошибки сообщение.\n   * @param {string|Error} err - объект ошибки, откуда вытащить собщение.\n   * @returns {*|string} .\n   * @private\n   */\n  private _extractMessage(err: IErrorObject): string | any {\n    const fullErrorData = getLastError(err);\n    const msg = typeof err === 'string' ? err : err.message;\n\n    return (fullErrorData?.message || msg || '').replace(` (${this.code})`, '');\n  }\n}\n","import { IAnyError, ICryptoError } from '../types';\n\n/**\n * Возвращает строку с описанием ошибки из исключения, порождённого плагином.\n * Для Firefox данный метод является единственным способом получения кода ошибки и её текстового описания от плагина.\n * @param {Error} error - ошибка, по которой нужно получить информацию.\n * @returns {Error | undefined} объект ошибки, если имеется.\n */\nexport function getLastError(\n  error: ICryptoError | Error | IAnyError\n): Error | undefined {\n  return window.cadesplugin?.getLastError(error);\n}\n","import { CAPICOM_ENCODING_TYPE } from './constants';\nimport { CryptoError } from './errors';\nimport { ICertificate } from './types';\nimport { parseCertificate } from './utils/certificateParser';\n\n/**\n * Класс объекта Сертификата для удобной работы.\n * !!! НЕ является имплементацией @see ICertificate (к-ый является интерфейсом Крипто системы ОС).\n * @class Certificate\n */\nexport class Certificate {\n  /**\n   * Данные о владельце сертификата.\n   * @remarks названия полей должны совпадать с @attributeOids в oids-dictionary.ts\n   */\n  subject: {\n    commonName: string | null;\n    surname: string | null;\n    name: string | null;\n    country: string | null;\n    region: string | null;\n    locality: string | null;\n    street: string | null;\n    organization: string | null;\n    department: string | null;\n    post: string | null;\n    ogrnip: string | null;\n    ogrn: string | null;\n    snils: string | null;\n    innLe: string | null;\n    inn: string | null;\n    email: string | null;\n  } = {\n    commonName: null,\n    surname: null,\n    name: null,\n    country: null,\n    region: null,\n    locality: null,\n    street: null,\n    organization: null,\n    department: null,\n    post: null,\n    ogrnip: null,\n    ogrn: null,\n    snils: null,\n    innLe: null,\n    inn: null,\n    email: null,\n  };\n\n  /**\n   * Данные об издателе сертификата.\n   * @remarks названия полей должны совпадать с @attributeOids в oids-dictionary.ts\n   */\n  issuer: {\n    commonName: string | null;\n    inn: string | null;\n    innLe: string | null;\n  } = {\n    commonName: null,\n    inn: null,\n    innLe: null,\n  };\n\n  /**\n   *  Отпечаток сертификата (хэш SHA-1).\n   * @property {string|null}\n   */\n  thumbprint: string | null = null;\n\n  /**\n   *  Дата-время с которого сертификат вступает в силу.\n   * @property {Date|null}\n   */\n  notBefore: Date | null = null;\n\n  /**\n   * Дата-время до которого сертификат действует.\n   * @property {Date|null}\n   */\n  notAfter: Date | null = null;\n\n  /**\n   * Имя владельца сертификата.\n   * @property {string|null}\n   */\n  subjectName: string | null = null;\n\n  /**\n   *  Идентификатор субъекта сертификата.\n   * @property {string|null}\n   */\n  subjectKeyId: string | null = null;\n\n  /**\n   * Base64 строка открытой части сертификата.\n   * @property {string|null}\n   */\n  certificateBase64Data: string | null = null;\n\n  /**\n   * Исходный сертификат из плагина.\n   * @property {ICertificate|null}\n   */\n  certificateBin: ICertificate | null = null;\n\n  /**\n   * Имя криптопровайдера.\n   * @property {string|null}\n   */\n  providerName: string | null = null;\n\n  /**\n   * Тип криптопровайдера.\n   * @property {number|null}\n   */\n  providerType: number | null = null;\n\n  /**\n   * Есть ли закрытый ключ.\n   * @property {boolean}\n   */\n  hasPrivateKey: boolean = false;\n\n  /**\n   * Гостовский ключ или нет.\n   */\n  isGost: boolean = false;\n\n  /**\n   * OID алгоритма ключа.\n   */\n  algorithm: string | null = null;\n\n  /**\n   * Приватный конструктор.\n   * @param cfg сертификат из @see IStore.\n   */\n  private constructor(cfg: ICertificate) {\n    this.certificateBin = cfg;\n  }\n\n  /**\n   * Распарсить сертификат из исходного объекта.\n   * @param {ICertificate} cert исходный сертификат.\n   * @throws {CryptoError} в случае ошибки.\n   * @returns {Promise<Certificate>} распрасенный сертификат.\n   */\n  public static async CreateFrom(cert: ICertificate): Promise<Certificate> {\n    if (!cert) {\n      const errorMessage = 'Не указаны данные исходного сертификата.';\n      throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n    }\n    if (cert instanceof Certificate) {\n      return cert;\n    }\n    const certificate = new Certificate(cert);\n\n    if (cert.SubjectName instanceof Promise) {\n      certificate.subjectName = await cert.SubjectName;\n      certificate.thumbprint = await cert.Thumbprint;\n      certificate.notAfter = await cert.ValidToDate;\n      certificate.notBefore = await cert.ValidFromDate;\n      certificate.certificateBase64Data = await cert.Export(\n        CAPICOM_ENCODING_TYPE.CAPICOM_ENCODE_BASE64\n      );\n      try {\n        certificate.hasPrivateKey = await cert.HasPrivateKey();\n        const oPrivateKey = await cert.PrivateKey;\n        certificate.providerName = await oPrivateKey.ProviderName;\n        certificate.providerType = await oPrivateKey.ProviderType;\n      } catch (error) {\n        // ошибка не критична, просто создаем ошибку (в дебаге оно залогируется само)\n        CryptoError.createCadesError(\n          error,\n          `Ошибка получения информации о приватном ключе сертификата ${certificate.thumbprint}.`\n        );\n        certificate.hasPrivateKey = false;\n      }\n    } else {\n      certificate.subjectName = cert.SubjectName;\n      certificate.thumbprint = cert.Thumbprint as string;\n      certificate.notAfter = cert.ValidToDate as Date;\n      certificate.notBefore = cert.ValidFromDate as Date;\n      certificate.certificateBase64Data = cert.Export(\n        CAPICOM_ENCODING_TYPE.CAPICOM_ENCODE_BASE64\n      );\n\n      try {\n        certificate.hasPrivateKey = cert.HasPrivateKey();\n        const oPrivateKey = cert.PrivateKey;\n        certificate.providerName = oPrivateKey.ProviderName;\n        certificate.providerType = oPrivateKey.ProviderType;\n      } catch (error) {\n        // ошибка не критична, просто создаем ошибку (в дебаге оно залогируется само)\n        CryptoError.createCadesError(\n          error,\n          `Ошибка получения информации о приватном ключе сертификата ${certificate.thumbprint}.`\n        );\n        certificate.hasPrivateKey = false;\n      }\n    }\n\n    parseCertificate(certificate);\n\n    return certificate;\n  }\n}\n","import { CRYPTO_OBJECTS } from '../constants';\nimport { IAbout, ICryptoProvider, IVersion } from '../types';\nimport { outputDebug } from '../utils';\nimport pluginConfig from '../PluginConfig';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\n\n/**\n * Кэш из запрошенных сертификатов.\n */\nlet cryptoProvidersCache: ICryptoProvider[] | null;\n\n/**\n * Получить список криптопровайдеров.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<ICryptoProvider[]>} Bнформация о типе, наименовании и версии криптопровайдеров.\n */\nexport function getCryptoProviders(\n  resetCache: boolean = false\n): Promise<ICryptoProvider[]> {\n  if (cryptoProvidersCache && !resetCache) {\n    return Promise.resolve(cryptoProvidersCache);\n  }\n\n  return afterPluginLoaded(async () => {\n    if (cryptoProvidersCache && !resetCache) {\n      return Promise.resolve(cryptoProvidersCache);\n    }\n    const availableCryptoProviders: ICryptoProvider[] = [];\n    const logData = [];\n    try {\n      for (const {\n        ProviderType,\n        ProviderName,\n      } of pluginConfig.CheckCryptoProviders) {\n        try {\n          const cadesAbout: IAbout = await createObject(CRYPTO_OBJECTS.about);\n          const cspVersion: IVersion = await cadesAbout.CSPVersion(\n            ProviderName,\n            ProviderType\n          );\n          availableCryptoProviders.push({\n            ProviderName: ProviderName,\n            ProviderType: ProviderType,\n            BuildVersion: await cspVersion.BuildVersion,\n            MajorVersion: await cspVersion.MajorVersion,\n            MinorVersion: await cspVersion.MinorVersion,\n          });\n        } catch (error) {\n          logData.push({\n            errorMessage: `Ошибка получения информации о криптопровайдере ${ProviderName} с типом ${ProviderType}.`,\n            error,\n          });\n        }\n      }\n      return (cryptoProvidersCache = availableCryptoProviders);\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ availableCryptoProviders });\n      outputDebug('getCryptoProviders >>', logData);\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\nimport { deasync } from '../utils';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { canAsync } from './internal/canAsync';\n\n/**\n * Создание криптографического объекта.\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-activation\n * @param {string} objectIdentifier. наименование создаваемого объекта. Объекты указываются в @see CRYPTO_OBJECTS.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<object|null|undefined>} Созданный объект.\n */\nexport function createObject(objectIdentifier: string): Promise<any | never> {\n  return afterPluginLoaded(() => {\n    if (!objectIdentifier) {\n      throw CryptoError.create(\n        'CBP-7',\n        'Не указан идентификатор объекта',\n        null\n      );\n    }\n    try {\n      const object = canAsync()\n        ? window.cadesplugin.CreateObjectAsync(objectIdentifier)\n        : window.cadesplugin.CreateObject(objectIdentifier);\n\n      return deasync(object);\n    } catch (error) {\n      throw CryptoError.createCadesError(\n        error,\n        `Ошибка при создании объекта ${objectIdentifier}`\n      );\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\nimport {\n  CRYPTO_OBJECTS,\n  CRYPTO_PRO_CRYPTO_PROVIDER_TYPES,\n  DEFAULT_CRYPTO_PROVIDER,\n  VIP_NET_CRYPTO_PROVIDER_TYPES,\n} from '../constants';\nimport { outputDebug } from '../utils';\nimport { IAbout, ISystemInfo } from '../types';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { getCryptoProviders } from './getCryptoProviders';\n\n/**\n * Кэш информации о системе.\n */\nlet systemInfoCache: ISystemInfo | null = null;\n\n/**\n * Предоставляет информацию о системе.\n *\n * @returns информацию о CSP и плагине.\n */\nexport const getSystemInfo = (): Promise<ISystemInfo> => {\n  if (systemInfoCache) {\n    return Promise.resolve(systemInfoCache);\n  }\n\n  return afterPluginLoaded(async () => {\n    if (systemInfoCache) {\n      return Promise.resolve(systemInfoCache);\n    }\n    const sysInfo: ISystemInfo = {\n      cadesVersion: '',\n      cspVersion: null,\n      cryptoProInstalled: false,\n      vipNetInstalled: false,\n      cryptoProviderName: null,\n    };\n    const logData = [];\n    try {\n      const cadesAbout: IAbout = await createObject(CRYPTO_OBJECTS.about);\n\n      for (const cryptoProvider of await getCryptoProviders()) {\n        if (\n          VIP_NET_CRYPTO_PROVIDER_TYPES.includes(cryptoProvider.ProviderType)\n        ) {\n          sysInfo.vipNetInstalled = true;\n          sysInfo.cryptoProviderName =\n            DEFAULT_CRYPTO_PROVIDER.Fallback.ProviderName;\n          sysInfo.cspVersion =\n            cryptoProvider.MajorVersion + '.' + cryptoProvider.MinorVersion;\n        }\n        if (\n          CRYPTO_PRO_CRYPTO_PROVIDER_TYPES.includes(cryptoProvider.ProviderType)\n        ) {\n          sysInfo.cryptoProInstalled = true;\n          sysInfo.cryptoProviderName =\n            DEFAULT_CRYPTO_PROVIDER.Default.ProviderName;\n          sysInfo.cspVersion =\n            cryptoProvider.MajorVersion +\n            '.' +\n            cryptoProvider.MinorVersion +\n            '.' +\n            cryptoProvider.BuildVersion;\n        }\n      }\n\n      try {\n        const pluginVersion = await cadesAbout.PluginVersion;\n\n        if (pluginVersion) {\n          sysInfo.cadesVersion = await pluginVersion.toString();\n        }\n        if (!sysInfo.cadesVersion) {\n          sysInfo.cadesVersion = await cadesAbout.Version;\n        }\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при получении информации о системе'\n        );\n      }\n\n      return (systemInfoCache = sysInfo);\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ sysInfo });\n      outputDebug('getSystemInfo >>', logData);\n    }\n  })();\n};\n","import {\n  CRYPTO_PRO_CRYPTO_PROVIDER_TYPES,\n  VIP_NET_CRYPTO_PROVIDER_TYPES,\n} from '../../constants';\nimport { getCryptoProviders } from '../getCryptoProviders';\nimport { pluginConfig } from '../../PluginConfig';\nimport { CryptoError } from '../../errors';\nimport { getSystemInfo } from '../getSystemInfo';\n\nconst oldestSupportedCryptoProCSPVersion = 4;\nconst oldestSupportedVipnetCSPVersion = 4.4;\n\n/**\n * В данный момент имеется версия не меньше указанной версия Крипто-Провайдера.\n * @throws {CryptoError} в случае ошибки.\n * @returns {boolean} true, если поддерживается.\n */\nexport const checkIsSupportedCSPVersion = async (): Promise<void> => {\n  const systemInfo = await getSystemInfo();\n  const cryptoProviders = await getCryptoProviders();\n\n  let haveValidCryptoProCSPVersion = false;\n  let haveValidVipNetCSPVersion = false;\n\n  if (pluginConfig.checkCspVersionFunc) {\n    for (const cryptoProvider of cryptoProviders) {\n      if (\n        pluginConfig.CheckCryptoProviders.find(\n          (cp) =>\n            cp.ProviderType === cryptoProvider.ProviderType &&\n            cp.ProviderName === cryptoProvider.ProviderName\n        )\n      ) {\n        const errorMessage = pluginConfig.checkCspVersionFunc(cryptoProvider);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-4',\n            'Не поддерживаемая версия CSP',\n            null,\n            errorMessage\n          );\n        }\n      }\n    }\n  } else {\n    if (systemInfo.cryptoProInstalled) {\n      const cryptoProCSP = cryptoProviders.find((cp) =>\n        CRYPTO_PRO_CRYPTO_PROVIDER_TYPES.includes(cp.ProviderType)\n      );\n\n      if (\n        cryptoProCSP?.MajorVersion &&\n        cryptoProCSP?.MajorVersion >= oldestSupportedCryptoProCSPVersion\n      ) {\n        haveValidCryptoProCSPVersion = true;\n      }\n    }\n\n    if (systemInfo.vipNetInstalled) {\n      const vipNetCSP = cryptoProviders.find((cp) =>\n        VIP_NET_CRYPTO_PROVIDER_TYPES.includes(cp.ProviderType)\n      );\n\n      if (vipNetCSP?.MajorVersion) {\n        const version = parseFloat(\n          vipNetCSP?.MajorVersion + '.' + vipNetCSP?.MinorVersion\n        );\n\n        haveValidVipNetCSPVersion = version >= oldestSupportedVipnetCSPVersion;\n      }\n    }\n\n    if (!(haveValidVipNetCSPVersion || haveValidCryptoProCSPVersion)) {\n      throw CryptoError.create('CBP-4', 'Не поддерживаемая версия CSP', null);\n    }\n  }\n};\n","/**\n * В данный момент имеется версия не меньше указанной версия CAdESCOM Плагина.\n * @param {string} version полная версия Плагина для сверки.\n * @returns {boolean} .\n */\nexport function isSupportedCadesVersion(version: string): boolean {\n  const match = version.match(/(\\d+)\\.(\\d+)\\.(\\d+)/);\n\n  if (!match) {\n    return false;\n  }\n\n  let [, major, minor, patch] = match;\n  // @ts-ignore\n  major = parseInt(major);\n  // @ts-ignore\n  minor = parseInt(minor);\n  // @ts-ignore\n  patch = parseInt(patch);\n\n  return (\n    // @ts-ignore\n    major > 2 ||\n    !(parseInt(major) === 2 && parseInt(minor) === 0 && parseInt(patch) < 13292)\n  );\n}\n","import { CryptoError } from '../errors';\nimport { ISystemInfo } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { getSystemInfo } from './getSystemInfo';\nimport { checkIsSupportedCSPVersion } from './internal/checkIsSupportedCSPVersion';\nimport { isSupportedCadesVersion } from './internal/isSupportedCadesVersion';\n\n/**\n * Проверяет корректность настроек ЭП на машине.\n * @throws {CryptoError} в случае обнаружения ошибок, если не установлен криптопровайдер или версия не поддерживается.\n */\nexport const checkIsValidSystemSetup = async (): Promise<void> => {\n  let systemInfo: ISystemInfo | null = null;\n  const logData = [];\n  try {\n    try {\n      systemInfo = await getSystemInfo();\n    } catch (error) {\n      throw CryptoError.createCadesError(\n        error,\n        'Настройки ЭП на данной машине не верны'\n      );\n    }\n\n    if (!isSupportedCadesVersion(systemInfo.cadesVersion)) {\n      throw CryptoError.create(\n        'CBP-3',\n        'Не поддерживаемая версия плагина.',\n        null\n      );\n    }\n\n    if (!(systemInfo.cryptoProInstalled || systemInfo.vipNetInstalled)) {\n      throw CryptoError.create(\n        'CBP-8',\n        'Не установлен ни один криптопровайдер.',\n        null\n      );\n    }\n\n    await checkIsSupportedCSPVersion();\n  } catch (error) {\n    logData.push({ error });\n    throw error;\n  } finally {\n    outputDebug(\n      'checkIsValidSystemSetup >>',\n      logData.length === 0 ? 'ok' : logData\n    );\n  }\n};\n","import { checkIsValidSystemSetup } from '../checkIsValidSystemSetup';\n\nimport { CryptoError } from './../../errors';\nimport PluginConfig from './../../PluginConfig';\n\n/**\n * Сохранение статуса во избежание повторных инициализаций.\n */\nlet isPluginReady: boolean = false;\n\n/**\n * Обёртка для подготовки плагина перед вызовом функциональности.\n * @param {Function|Promise} cb - функция обратного вызова.\n * @returns {Promise} .функция ожидания.\n */\nexport function afterPluginLoaded(\n  cb: Function\n): (...args: any) => Promise<any> {\n  return async (...args) => {\n    const isAlreadyLoaded = isPluginReady;\n    if (!isPluginReady) {\n      try {\n        // eslint-disable-next-line import/extensions\n        require('./../../vendor/cadesplugin_api.js');\n      } catch (err) {\n        throw CryptoError.create(\n          'CBP-2',\n          'Ошибка загрузки библиотеки cadesplugin.js',\n          err\n        );\n      }\n\n      isPluginReady = true;\n    }\n\n    if (!window.cadesplugin) {\n      throw CryptoError.create(\n        'CBP-1',\n        'Не инициализирован модуль для работы с cadesplugin',\n        null\n      );\n    }\n\n    try {\n      if (window.cadesplugin instanceof Promise) {\n        await window.cadesplugin;\n      }\n    } catch (err) {\n      throw CryptoError.create(\n        'CBP-1',\n        'Ошибка при инициализации модуля для работы с cadesplugin',\n        err\n      );\n    }\n\n    if (PluginConfig.DebugCryptoProBrowserPlugin) {\n      window.cadesplugin.set_log_level(window.cadesplugin.LOG_LEVEL_DEBUG);\n    }\n\n    // для исключения зацикливания, проверку валидности системы делаем единожды.\n    if (PluginConfig.CheckSystemSetup && !isAlreadyLoaded) {\n      await checkIsValidSystemSetup();\n    }\n\n    const callbackResult = cb.apply(null, args);\n\n    if (callbackResult instanceof Promise) {\n      await callbackResult;\n    }\n\n    return callbackResult;\n  };\n}\n","import { CryptoError } from '../../errors';\nimport { deasync } from '../../utils/deasync';\n\nimport { canAsync } from './canAsync';\n\n/**\n * описываем структуру параметр OBJ функции ниже.\n * интерфейс ради интерфейса >_<\n */\ninterface ICryptoObject {\n  [key: string]: any;\n}\n\n/**\n * Устанавливаем значение в указанное свойство переданного объекта.\n * @param {object} obj - объект-цель.\n * @param {string} key - имя свойства.\n * @param {*} value - значение для свойства.\n * @returns {void} .\n */\nexport function setCryptoProperty(\n  obj: ICryptoObject,\n  key: string,\n  value: any\n): void {\n  try {\n    if (canAsync()) {\n      deasync(obj[`propset_${key}`](value));\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = value;\n    }\n  } catch (err) {\n    throw CryptoError.createCadesError(\n      err,\n      `Не удалось установить значение в поле ${key}`\n    );\n  }\n}\n","import { Certificate } from '../Certificate';\nimport { ICertificate } from '../types';\n\n/**\n * Валидация сертификата.\n *\n *  @example\n *  validateCertificate(cert, async (cert) => await (await cert.IsValid()).Result)\n *\n * @param {ICertificate|Certificate} certificate - собственно сертификат.\n * @param {Function} customValidationFunc - иные условия валидации сертификата.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string|null>} .null, если сертификат валиден.\n */\nexport async function validateCertificate(\n  certificate: Certificate | ICertificate,\n  customValidationFunc?: (\n    cert: Certificate | ICertificate\n  ) => Promise<string | null>\n): Promise<string | null> {\n  let result: string | null = null;\n  const cert: Certificate =\n    certificate instanceof Certificate\n      ? certificate\n      : // парсим если пришло сырое\n        await Certificate.CreateFrom(certificate);\n\n  if (customValidationFunc) {\n    result = await customValidationFunc(cert);\n  } else {\n    const errors = [];\n    if (!cert.hasPrivateKey) {\n      errors.push('закрытый ключ недоступен');\n    }\n    const now = new Date();\n    if (cert.notAfter && now < cert.notAfter) {\n      errors.push('истёк срок его действия');\n    }\n    if (cert.notBefore && now > cert.notBefore) {\n      errors.push('срок действия не наступил');\n    }\n    if (!cert.isGost) {\n      errors.push('алгоритмы ГОСТ не поддерживаются');\n    }\n\n    if (errors.length) {\n      result = 'Сертификат не прошел проверки: ' + errors.join(', ');\n    }\n  }\n\n  return result;\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_BASE64_TO_BINARY,\n  CADESCOM_CADES_TYPE,\n  CAPICOM_CERTIFICATE_INCLUDE_OPTION,\n  CRYPTO_OBJECTS,\n} from '../constants';\nimport { CPSigner, CadesSignedData, ICertificate } from '../types';\nimport { Certificate } from '../Certificate';\nimport { outputDebug } from '../utils';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { validateCertificate } from './validateCertificate';\n\n/**\n * Подписать входные данные указанным сертификатом в формате CMS.\n * @param {ICertificate | Certificate} certificate -сертификат пользователя.\n * @param {ArrayBuffer | string} data -входные данные для подписи в формате Base64 или ArrayBuffer.\n * @param {boolean} [detach=true] присоединять подпись к данным или отдельно?\n * @param {boolean} [includeCertChain=true] - включать в результат всю цепочку сертификатов.\n * @param {boolean} [doNotValidate=false] - не проводить валидацию сертификатов.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} файл подписи в кодировке Base64.\n */\nexport function sign(\n  certificate: ICertificate | Certificate,\n  data: ArrayBuffer | string,\n  detach: boolean = true,\n  includeCertChain: boolean = true,\n  doNotValidate: boolean = false\n): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({\n      certificate,\n      data,\n      detach,\n      includeCertChain,\n      doNotValidate,\n    });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для подписания.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n      if (!certificate) {\n        const errorMessage =\n          'Не указан сертификат для вычисления электронной подписи.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      let cert: ICertificate | null = null;\n      if (certificate instanceof Certificate) {\n        cert = certificate?.certificateBin;\n      } else {\n        cert = certificate;\n      }\n\n      if (!doNotValidate && !!cert) {\n        const errorMessage = await validateCertificate(cert);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-6',\n            'Сертификат не прошел проверку при подписи.',\n            null,\n            errorMessage\n          );\n        }\n      }\n\n      const signer: CPSigner = await createObject(CRYPTO_OBJECTS.signer);\n      const signedData: CadesSignedData = await createObject(\n        CRYPTO_OBJECTS.signedData\n      );\n\n      // заполнение параметров для подписи\n      try {\n        setCryptoProperty(signer, 'Certificate', cert);\n        if (includeCertChain) {\n          setCryptoProperty(\n            signer,\n            'Options',\n            CAPICOM_CERTIFICATE_INCLUDE_OPTION.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN\n          );\n        }\n\n        setCryptoProperty(\n          signedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        setCryptoProperty(signedData, 'Content', base64String);\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при заполнении параметров подписания.'\n        );\n      }\n\n      try {\n        const signResult = signedData.SignCades(\n          signer,\n          CADESCOM_CADES_TYPE.CADESCOM_CADES_BES,\n          detach\n        );\n\n        const sig =\n          signResult instanceof Promise ? await signResult : signResult;\n\n        logData.push({ sig });\n\n        return sig;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при вычислении электронной подписи.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('sign >>', logData);\n    }\n  })();\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_XML_SIGNATURE_TYPE,\n  CRYPTO_OBJECTS,\n  GOST_KEY_ALGORITHM_TYPES,\n  XML_SIGNATURE_GOST_ALGORITHM_TYPE,\n} from '../constants';\nimport { CPSigner, ICertificate, ISignedXml } from '../types';\nimport { Certificate } from '../Certificate';\nimport { outputDebug } from '../utils';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { validateCertificate } from './validateCertificate';\n\n/**\n * Получить алгоритм вычисления подписи для Xml.\n * @param {Certificate} certificate сертификат.\n * @throws {CryptoError} в случае ошибки.\n * @returns {string} алгоритм вычисления подписи.\n */\nexport const getXmlSignAlgorithmType = (certificate: Certificate): string => {\n  switch (certificate.algorithm) {\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_256:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3410Url2012256;\n\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_512:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3410Url2012512;\n\n    default:\n      throw CryptoError.create(\n        'CBP-9',\n        `Неизвестный алгоритм (${certificate.algorithm}) при выборе типа алгоритма подписи XmlDSig.`,\n        null\n      );\n  }\n};\n\n/**\n * Получить алгоритм вычисления хэша.\n * @param {Certificate} certificate сертификат.\n * @throws {CryptoError} в случае ошибки.\n * @returns {string} алгоритм вычисления хэша.\n */\nexport const getXmlHashAlgorithmType = (certificate: Certificate): string => {\n  switch (certificate.algorithm) {\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_256:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3411Url2012256;\n\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_512:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3411Url2012512;\n\n    default:\n      throw CryptoError.create(\n        'CBP-9',\n        `Неизвестный алгоритм (${certificate.algorithm}) при выборе типа алгоритма хэширования xml.`,\n        null\n      );\n  }\n};\n\n/**\n * Подписать входные данные указанным сертификатом в формате XmlDSig.\n * @param {ICertificate | Certificate} certificate -сертификат пользователя.\n * @param {ArrayBuffer | string} data -входные данные для подписи в формате Base64 или ArrayBuffer.\n * @param {CADESCOM_XML_SIGNATURE_TYPE} xmlSignatureType - тип xml подписи.\n * @param {boolean} [doNotValidate=false] - не проводить валидацию сертификата.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} файл подписи в кодировке Base64.\n */\nexport const signXml = (\n  certificate: ICertificate | Certificate,\n  data: ArrayBuffer | string,\n  xmlSignatureType: CADESCOM_XML_SIGNATURE_TYPE = CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED,\n  doNotValidate: boolean = false\n): Promise<string> => {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ certificate, data, xmlSignatureType, doNotValidate });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для подписания.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n      if (!certificate) {\n        const errorMessage =\n          'Не указан сертификат для вычисления электронной подписи.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      const cert: Certificate =\n        certificate instanceof Certificate\n          ? certificate\n          : // парсим если пришло сырое\n            await Certificate.CreateFrom(certificate);\n\n      if (!doNotValidate && !!cert) {\n        const errorMessage = await validateCertificate(cert);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-6',\n            'Сертификат не прошел проверку при подписи.',\n            null,\n            errorMessage\n          );\n        }\n      }\n\n      const signer: CPSigner = await createObject(CRYPTO_OBJECTS.signer);\n      const signedData: ISignedXml = await createObject(\n        CRYPTO_OBJECTS.signedXml\n      );\n\n      // заполнение параметров для подписи\n      try {\n        setCryptoProperty(signer, 'Certificate', cert.certificateBin);\n\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        setCryptoProperty(signedData, 'Content', base64String);\n\n        // указываем тип подписи\n        setCryptoProperty(signedData, 'SignatureType', xmlSignatureType);\n\n        // указываем алгоритм подписи\n        setCryptoProperty(\n          signedData,\n          'SignatureMethod',\n          getXmlSignAlgorithmType(cert)\n        );\n\n        // указываем алгоритм хэширования\n        setCryptoProperty(\n          signedData,\n          'DigestMethod',\n          getXmlHashAlgorithmType(cert)\n        );\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров подписания.'\n        );\n      }\n\n      try {\n        const signResult = signedData.Sign(signer);\n\n        const sig =\n          signResult instanceof Promise ? await signResult : signResult;\n\n        logData.push({ sig });\n\n        return sig;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при вычислении электронной подписи.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('signXml >>', logData);\n    }\n  })();\n};\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_BASE64_TO_BINARY,\n  CAPICOM_ENCODING_TYPE,\n  CRYPTO_OBJECTS,\n} from '../constants';\nimport { CPEnvelopedData, ICertificate, IRecipients } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\n\n/**\n * Зашировать данные на указанные сертификаты.\n * @param {string} data -входные данные для расшифровки в формате Base64 или ArrayBuffer.\n * @param {ICertificate[]} recipientCertificates -список сертификатов получателей шифрованного сообщения.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} .Зашифрованная строка в кодировке Base64.\n */\nexport function encrypt(\n  data: ArrayBuffer | string,\n  recipientCertificates: ICertificate[]\n): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ data, recipientCertificates });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для шифрования.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      if (!recipientCertificates || recipientCertificates?.length === 0) {\n        const errorMessage =\n          'Не указаны сертификаты получателей шифрованного сообщения.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      const envelopedData: CPEnvelopedData = await createObject(\n        CRYPTO_OBJECTS.envelopedData\n      );\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        setCryptoProperty(\n          envelopedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n        setCryptoProperty(envelopedData, 'Content', base64String);\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров шифрования.'\n        );\n      }\n\n      try {\n        const recipients: IRecipients = await envelopedData.Recipients;\n\n        for (const recipientCertificate of recipientCertificates) {\n          await recipients.Add(recipientCertificate);\n        }\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при установке сертификатов получателей шифрованного сообщения.'\n        );\n      }\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому расшифровываем предварительно конвертированный в Base64\n\n        const encryptResult = envelopedData.Encrypt(\n          CAPICOM_ENCODING_TYPE.CAPICOM_ENCODE_BASE64\n        );\n\n        const encryptedData =\n          encryptResult instanceof Promise\n            ? await encryptResult\n            : encryptResult;\n\n        logData.push({ encryptedData });\n\n        return encryptedData;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при шифровании данных.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('encrypt >>', logData);\n    }\n  })();\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport { CADESCOM_BASE64_TO_BINARY, CRYPTO_OBJECTS } from '../constants';\nimport { CPEnvelopedData } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\n\n/**\n * Расшифровать данные.\n * @param {string} encryptedData -входные данные для расшифровки в формате Base64 или ArrayBuffer.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} .Расшифрованная строка в кодировке Base64.\n */\nexport function decrypt(encryptedData: ArrayBuffer | string): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ encryptedData });\n\n    try {\n      if (!encryptedData) {\n        const errorMessage = 'Не указаны данные для расшифровки.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        encryptedData instanceof ArrayBuffer\n          ? Buffer.from(encryptedData).toString('base64')\n          : encryptedData;\n\n      logData.push({ base64String });\n\n      const envelopedData: CPEnvelopedData = await createObject(\n        CRYPTO_OBJECTS.envelopedData\n      );\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        setCryptoProperty(\n          envelopedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров расшифровки.'\n        );\n      }\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому расшифровываем предварительно конвертированный в Base64\n        const decryptResult = envelopedData.Decrypt(base64String);\n        if (decryptResult instanceof Promise) {\n          await decryptResult;\n        }\n\n        const decryptedData =\n          envelopedData.Content instanceof Promise\n            ? await envelopedData.Content\n            : envelopedData.Content;\n\n        logData.push({ decryptedData });\n\n        return decryptedData;\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при расшифровке данных.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('decrypt >>', logData);\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\nimport { IStore } from '../types';\nimport {\n  CAPICOM_MY_STORE,\n  CAPICOM_STORE_OPEN_MODE,\n  CRYPTO_OBJECTS,\n  STORE_LOCATION,\n} from '../constants';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\n\n/**\n * Открывает хранилище с сертификатами.\n * @returns {IStore} store хранилище с сертификатами.\n * @param {STORE_LOCATION} storeLocation - расположение хранилища.\n * @param {string} storeName - (!)будет проигнорирован если storeLocation = CAPICOM_SMART_CARD_USER_STORE.\n * @param {CAPICOM_STORE_OPEN_MODE} openMode - режим открытия хранилища.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<IStore>} .\n */\nexport function openStore(\n  storeLocation: STORE_LOCATION = STORE_LOCATION.CAPICOM_CURRENT_USER_STORE,\n  storeName: string = CAPICOM_MY_STORE,\n  openMode: CAPICOM_STORE_OPEN_MODE = CAPICOM_STORE_OPEN_MODE.CAPICOM_STORE_OPEN_EXISTING_ONLY\n): Promise<IStore> {\n  return afterPluginLoaded(async () => {\n    const store: IStore = await createObject(CRYPTO_OBJECTS.store);\n\n    try {\n      const res = store.Open(storeLocation, storeName, openMode);\n\n      await res;\n    } catch (err) {\n      throw CryptoError.createCadesError(\n        err,\n        'Ошибка открытия хранилища сертификатов.'\n      );\n    }\n\n    return store;\n  })();\n}\n","import {\n  CAPICOM_MY_STORE,\n  CAPICOM_STORE_OPEN_MODE,\n  STORE_LOCATION,\n  STORE_TYPE,\n} from '../constants';\nimport { Certificate } from '../Certificate';\nimport { ICertificate, ICertificates, IStore } from '../types';\nimport { outputDebug } from '../utils';\nimport { CryptoError } from '../errors';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { openStore } from './openStore';\n\n/**\n * Кэш из запрошенных сертификатов.\n */\nconst certificatesCache = {};\n\n/**\n * Возвращает список сертификатов из указанного хранилища.\n * @param {IStore} store Хранилище\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов.\n */\nasync function getCertificatesFromStore(store: IStore): Promise<Certificate[]> {\n  const result: Certificate[] = [];\n  let certificates: ICertificates;\n  let certificatesCount = 0;\n  try {\n    certificates = await store.Certificates;\n    certificatesCount = await certificates.Count;\n  } catch (err) {\n    throw CryptoError.createCadesError(\n      err,\n      'Ошибка получения списка сертификатов.'\n    );\n  }\n\n  // проверяем пригодность и превращаем сертификаты в наш внутренний тип\n  while (certificatesCount) {\n    try {\n      const certBin: ICertificate = await certificates.Item(\n        certificatesCount--\n      );\n      const cert: Certificate = await Certificate.CreateFrom(certBin);\n\n      // работаем только с гостовскими сертами\n      if (cert.isGost) {\n        result.push(cert);\n      }\n    } catch (err) {\n      // не критичная ошибка, просто логируем\n      CryptoError.createCadesError(err, 'Ошибка получения сертификата.');\n    }\n  }\n\n  return result;\n}\n\n/**\n * Получить сертификаты из USB токенов.\n * @param {STORE_TYPE} storeType Тип хранилища ключей.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов из USB токенов.\n */\nasync function ReadCertificatesFromUsbToken(): Promise<Certificate[]> {\n  let store: IStore | null = null;\n  try {\n    store = await openStore(STORE_LOCATION.CADESCOM_CONTAINER_STORE);\n    return await getCertificatesFromStore(store);\n  } finally {\n    await store?.Close();\n  }\n}\n\n/**\n * Получить сертификаты из реестра.\n * @param {STORE_TYPE} storeType Тип хранилища ключей.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов из реестра.\n */\nasync function ReadCertificatesFromRegistry(): Promise<Certificate[]> {\n  let store: IStore | null = null;\n  try {\n    store = await openStore(\n      STORE_LOCATION.CAPICOM_CURRENT_USER_STORE,\n      CAPICOM_MY_STORE,\n      CAPICOM_STORE_OPEN_MODE.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED\n    );\n    return await getCertificatesFromStore(store);\n  } finally {\n    await store?.Close();\n  }\n}\n\n/**\n * Возвращает список валидных доступных для работы сертификатов.\n *\n * @param {STORE_TYPE} storeType из какого хранилища требуется получить сертификаты (из токена, реестра, все...).\n * @param {resetCache} resetCache перезапросить данные, игнорируя закэшированные данные.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .сертификаты.\n */\nexport function getCertificates(\n  storeType: STORE_TYPE = STORE_TYPE.ALL,\n  resetCache: boolean = false\n): Promise<Certificate[]> {\n  if (certificatesCache[storeType] && !resetCache) {\n    return Promise.resolve(certificatesCache[storeType]);\n  }\n  return afterPluginLoaded(async () => {\n    if (certificatesCache[storeType] && !resetCache) {\n      return certificatesCache[storeType];\n    }\n    const logData = [];\n    let result: Certificate[] = [];\n\n    try {\n      switch (storeType) {\n        case STORE_TYPE.USB_TOKEN:\n          result = await ReadCertificatesFromUsbToken();\n          logData.push({ storeType, result });\n          break;\n\n        case STORE_TYPE.REGISTRY:\n          result = await ReadCertificatesFromRegistry();\n          logData.push({ storeType, result });\n          break;\n\n        case STORE_TYPE.ALL:\n          const usbTokenCertificates = await ReadCertificatesFromUsbToken();\n          logData.push({ storeType: 'usb', usbTokenCertificates });\n          const certificatesFromRegistry = await ReadCertificatesFromRegistry();\n          logData.push({ storeType: 'registry', certificatesFromRegistry });\n\n          result = usbTokenCertificates.concat(certificatesFromRegistry);\n\n          result = result.filter(\n            (cert, index) =>\n              result.findIndex((c) => c.thumbprint === cert.thumbprint) ===\n              index\n          );\n          break;\n\n        default:\n          let store: IStore | null = null;\n          try {\n            store = await openStore();\n\n            result = await getCertificatesFromStore(store);\n            logData.push({ storeType: 'default', result });\n          } finally {\n            await store?.Close();\n          }\n          break;\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ result });\n      outputDebug(`getCertificates(${storeType}) >>`, logData);\n    }\n\n    return (certificatesCache[storeType] = result);\n  })();\n}\n","import { Certificate } from '../Certificate';\nimport { CryptoError } from '../errors';\n\nimport { getCertificates } from './../api';\n\n/**\n * Поиск в хранилищах сертификата.\n * @param {string} subjectKeyId -идентификатор ключа субъекта.\n * @throws {CryptoError} в случае ошибки.\n * @returns {@Promise<Certificate | undefined>} сертификат.\n */\nexport async function findCertificateBySkid(\n  subjectKeyId: string\n): Promise<Certificate | undefined> {\n  if (!subjectKeyId) {\n    const errorMessage =\n      'Не указан идентификатор ключа субъекта искомого сертификата.';\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n  try {\n    return (await getCertificates()).find(\n      (c) => c.subjectKeyId == subjectKeyId\n    );\n  } catch (err) {\n    throw CryptoError.createCadesError(err, 'Ошибка получения сертификата.');\n  }\n}\n","import { Certificate } from '@astral/cryptopro-cades';\n\ntype CertificateInfoProps = {\n  certificate: Certificate;\n  onSelect?: Function;\n};\n\nexport const CertificateInfo = ({\n  certificate,\n  onSelect,\n}: CertificateInfoProps) =>\n  certificate ? (\n    <div onClick={(e) => onSelect && onSelect(certificate.subjectKeyId)}>\n      <span>\n        <b>\n          =========================\n          <a\n            download={`${certificate.subject.commonName}.cer`}\n            href={`data:application/x-x509-ca-cert;base64,${certificate.certificateBase64Data}`}\n          >\n            {certificate.subject.commonName}\n          </a>\n          =========================\n        </b>\n        <br />\n        <b>subjectKeyId: </b>\n        <span\n          onClick={(e) =>\n            navigator.clipboard.writeText(certificate.subjectKeyId!)\n          }\n        >\n          {certificate.subjectKeyId}\n        </span>\n      </span>\n      {Object.keys(certificate)\n        .filter(\n          (key) =>\n            ![\n              'certificateBase64Data',\n              'certificateBin',\n              'subjectKeyId',\n            ].includes(key)\n        )\n        .map((key, index) => (\n          <span style={{ display: 'block' }} key={index}>\n            <b>{key}:</b>{' '}\n            {certificate[key] instanceof Object\n              ? JSON.stringify(certificate[key])\n              : certificate[key]?.toString() ?? 'null'}\n          </span>\n        ))}\n    </div>\n  ) : null;\n","import { ICryptoProvider } from '@astral/cryptopro-cades';\n\ntype CryptoProviderProps = {\n  cryptoProvider: ICryptoProvider;\n};\n\nexport const CryptoProviderInfo = ({ cryptoProvider }: CryptoProviderProps) => (\n  <>\n    <span style={{ display: 'block' }}>\n      <b>Имя:</b> {cryptoProvider.ProviderName}\n    </span>\n    <span style={{ display: 'block' }}>\n      <b>Тип:</b> {cryptoProvider.ProviderType}\n    </span>\n    <span style={{ display: 'block' }}>\n      <b>Версия:</b> {cryptoProvider.MajorVersion}.{cryptoProvider.MinorVersion}\n      .{cryptoProvider.BuildVersion}\n    </span>\n  </>\n);\n","import { Buffer } from 'buffer';\n\nimport { useEffect, useState } from 'react';\nimport {\n  Certificate,\n  STORE_TYPE,\n  decrypt,\n  encrypt,\n  findCertificateBySkid,\n  getCertificates,\n  getCryptoProviders,\n  getSystemInfo,\n  outputError,\n  pluginConfig,\n  sign,\n  signXml,\n  CADESCOM_XML_SIGNATURE_TYPE,\n  createObject,\n  CRYPTO_OBJECTS,\n  ICertificate,\n  ICryptoProvider,\n  ISystemInfo,\n  checkIsValidSystemSetup,\n} from '@astral/cryptopro-cades';\n\nimport { CertificateInfo } from './components/CertificateInfo';\nimport { CryptoProviderInfo } from './components/CryptoProviderInfo';\n\nconst CryptoApp = () => {\n  pluginConfig.CheckSystemSetup = true;\n  pluginConfig.Debug = true;\n\n  const [certificates, setCertificates] = useState<Certificate[]>([]);\n  const [versionInfo, setVersionInfo] = useState<ISystemInfo>();\n  const [cryptoProviders, setCryptoProviders] = useState<ICryptoProvider[]>([]);\n  const [showCertificates, setShowCertificates] = useState<boolean>();\n  const [showCryptoProviders, setShowCryptoProviders] = useState<boolean>();\n  const [selectedCertificate, setSelectedCertificate] = useState<Certificate>();\n  const [selectedFile, setSelectedFile] = useState<File>();\n  const [selectedEncryptCert, setSelectedEncryptCert] =\n    useState<ICertificate>();\n  const [selectedEncryptCertBase64, setSelectedEncryptCertBase64] =\n    useState<string>();\n\n  useEffect(() => {\n    async function fetchSystemInfo() {\n      try {\n        const systemInfo = await getSystemInfo();\n        setVersionInfo(systemInfo);\n      } catch (error) {\n        window.alert(error);\n      }\n    }\n    async function fetchCertificates() {\n      const fetchedCertificates = await getCertificates(STORE_TYPE.ALL);\n\n      setCertificates(fetchedCertificates);\n\n      // автоматически берем первый валидный серт если еще выбран\n      if (!selectedCertificate) {\n        setSelectedCertificate(\n          fetchedCertificates.find((c) => c.isGost && c.hasPrivateKey)\n        );\n      }\n    }\n    async function fetchCryptoProviders() {\n      const cryptoProviders = await getCryptoProviders();\n      setCryptoProviders(cryptoProviders);\n    }\n\n    if (showCryptoProviders) {\n      fetchCryptoProviders();\n    }\n    if (showCertificates) {\n      fetchCertificates();\n    }\n    fetchSystemInfo();\n  }, [showCryptoProviders, showCertificates, selectedCertificate]);\n\n  /**\n   * Попытаться найти сертификат с указанным skid.\n   * @param skid Идентификатор ключа субъекта.\n   */\n  const trySelectCertificate = async (skid: string) => {\n    if (skid) {\n      const certificate = await findCertificateBySkid(skid);\n      if (certificate) {\n        setSelectedCertificate(certificate);\n      }\n    }\n  };\n\n  /**\n   * Скачать файл.\n   * @param blob Блоб\n   * @param name Наименование файла.\n   */\n  const dowloadFile = (blob: Blob, name: string): void => {\n    const url = window.URL.createObjectURL(blob);\n    const a = window.document.createElement('a');\n    a.style.display = 'hidden';\n    window.document.body.appendChild(a);\n    a.href = url;\n    a.download = name;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  };\n\n  /**\n   * Подписать файл в формате CMS.\n   */\n  const signFile = async (): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для подписи не выбран');\n      return;\n    }\n\n    try {\n      const sig = await sign(\n        selectedCertificate,\n        await selectedFile.arrayBuffer() // либо Base64 строку\n      );\n\n      dowloadFile(await convertBase64toBlob(sig), selectedFile.name + '.sig');\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Подписать файл в формате XmlDSig.\n   */\n  const signXmlFile = async (\n    xmlSignatureType: CADESCOM_XML_SIGNATURE_TYPE\n  ): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для подписи не выбран');\n      return;\n    }\n\n    try {\n      const sig = await signXml(\n        selectedCertificate,\n        await selectedFile.arrayBuffer(), // либо Base64 строку\n        xmlSignatureType\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(sig),\n        selectedFile.name.replace('.xml', '') + '.sig.xml'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Зашифровать файл в формате CMS.\n   */\n  const encryptFileCms = async (): Promise<void> => {\n    if (!selectedEncryptCert) {\n      window.alert('Сертификат получателя не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для шифрования не выбран');\n      return;\n    }\n\n    try {\n      const encryptedData = await encrypt(\n        await selectedFile.arrayBuffer(), // либо Base64 строку\n        [selectedEncryptCert]\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(encryptedData),\n        selectedFile.name + '.enc'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Зашифровать файл в формате CMS.\n   */\n  const decryptFileCms = async (): Promise<void> => {\n    if (!selectedFile) {\n      window.alert('Файл для расшифровки не выбран');\n      return;\n    }\n\n    try {\n      const decryptedData = await decrypt(\n        await selectedFile.arrayBuffer() // либо Base64 строку\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(decryptedData),\n        selectedFile.name + '.decrypted'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Проверить шифрование и расшифровку, зашифровав данные на свой серт.\n   */\n  const checkEncryptDecrypt = async (): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    const originalData = 'Hello world!';\n\n    try {\n      const encryptedData = await encrypt(\n        Buffer.from(originalData).toString('base64'),\n        [selectedCertificate.certificateBin!]\n      );\n\n      const decryptedData = await decrypt(encryptedData);\n      const isOk =\n        Buffer.from(decryptedData, 'base64').toString('utf-8') === originalData;\n\n      window.alert(\n        isOk ? 'Шифрование-расшифровка прошла успешно' : 'Данные не совпали'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error.toString());\n    }\n  };\n\n  /**\n   *\n   * @param base64 строка в формате Base64.\n   * @param type Тип данных.\n   * @returns {Promise<Blob>} Блоб.\n   */\n  const convertBase64toBlob = (\n    base64: string,\n    type: string = 'application/octet-stream'\n  ): Promise<Blob> =>\n    window\n      .fetch(`data:${type};base64,${base64}`)\n      .then((res: Response) => res.blob());\n\n  /**\n   * Выполняет импорт сертификата.\n   * @param data\n   */\n  const importCertificate = async (\n    data: string | ArrayBuffer\n  ): Promise<void> => {\n    if (!data) {\n      setSelectedEncryptCertBase64(undefined);\n      setSelectedEncryptCert(undefined);\n      return;\n    }\n\n    const arrayBufferToString = (buffer) => {\n      return new TextDecoder().decode(buffer);\n    };\n\n    const parseFromArrayBuffer = async (buffer: ArrayBuffer) => {\n      const certificate: ICertificate = await createObject(\n        CRYPTO_OBJECTS.certificate\n      );\n      const base64 = Buffer.from(buffer).toString('base64');\n      await certificate.Import(base64);\n      setSelectedEncryptCertBase64(base64);\n      setSelectedEncryptCert(certificate);\n      return certificate;\n    };\n\n    const parseFromBase64String = async (base64: string) => {\n      const certificate: ICertificate = await createObject(\n        CRYPTO_OBJECTS.certificate\n      );\n      await certificate.Import(base64);\n      setSelectedEncryptCertBase64(base64);\n      setSelectedEncryptCert(certificate);\n      return certificate;\n    };\n    try {\n      if (data instanceof ArrayBuffer) {\n        try {\n          await parseFromArrayBuffer(data);\n        } catch (error) {\n          outputError(error);\n          await parseFromBase64String(arrayBufferToString(data));\n        }\n      } else {\n        try {\n          await parseFromArrayBuffer(Buffer.from(data));\n        } catch (error) {\n          outputError(error);\n          await parseFromBase64String(data);\n        }\n      }\n    } catch (error) {\n      outputError(error);\n      window.alert(error.message);\n    }\n  };\n\n  /**\n   * Проверить систему.\n   */\n  async function checkSystem() {\n    try {\n      await checkIsValidSystemSetup();\n      window.alert('checkSystem: ok');\n    } catch (error) {\n      outputError(error);\n      window.alert(error.toString());\n    }\n  }\n\n  return (\n    <>\n      <p>Версия плагина {versionInfo?.cadesVersion}</p>\n      <p>Версия криптопровайдера {versionInfo?.cspVersion}</p>\n      <button onClick={() => checkSystem()}>Проверить систему</button>\n      <button onClick={() => setShowCryptoProviders(!showCryptoProviders)}>\n        {!showCryptoProviders\n          ? 'Показать криптопровайдеры'\n          : 'Скрыть криптопровайдеры'}\n      </button>\n      <button onClick={() => setShowCertificates(!showCertificates)}>\n        {!showCertificates ? 'Показать сертификаты' : 'Скрыть сертификаты'}\n      </button>\n      <div style={{ display: showCryptoProviders ? '' : 'none' }}>\n        Криптопровайдеры:\n        {cryptoProviders?.map((cryptoProvider, index) => {\n          return (\n            <p key={index}>\n              <CryptoProviderInfo cryptoProvider={cryptoProvider} />\n            </p>\n          );\n        })}\n      </div>\n      <div style={{ display: showCertificates ? '' : 'none' }}>\n        Сертификаты:\n        {certificates?.map((certInfo, index) => {\n          return (\n            <p key={index}>\n              <CertificateInfo\n                certificate={certInfo}\n                onSelect={(skid) => trySelectCertificate(skid)}\n              />\n            </p>\n          );\n        }) ?? 'Ничего нет :('}\n      </div>\n      <br />\n      <br />\n      <br />\n      <div>\n        <b>\n          ========================= Операции с сертификатами\n          =========================\n        </b>\n        <br />\n        <br />\n        skid:\n        <input\n          style={{ width: 350 }}\n          placeholder=\"Введите skid серта\"\n          onChange={(e) => trySelectCertificate(e.target.value)}\n          value={selectedCertificate?.subjectKeyId!}\n        />\n        {selectedCertificate ? (\n          <>\n            <p>Выбранный сертификат</p>\n            <CertificateInfo certificate={selectedCertificate} />\n          </>\n        ) : null}\n        {selectedCertificate ? (\n          <>\n            <br />\n            <br />\n            <button onClick={(_) => checkEncryptDecrypt()}>\n              Проверить шифрование/расшифровку\n            </button>\n            <br />\n          </>\n        ) : null}\n        <br />\n        <br />\n        Выберите файл для криптооперации:\n        <input\n          type=\"file\"\n          onChange={(e) => setSelectedFile(e.target.files![0])}\n        />\n        <br />\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button onClick={(_) => signFile()}>Подписать CMS</button>\n          </>\n        ) : null}\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button\n              onClick={(_) =>\n                signXmlFile(\n                  CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED\n                )\n              }\n            >\n              Подписать XmlDSig (enveloped)\n            </button>\n          </>\n        ) : null}\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button\n              onClick={(_) =>\n                signXmlFile(\n                  CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE\n                )\n              }\n            >\n              Подписать XmlDSig (template)\n            </button>\n          </>\n        ) : null}\n        <br />\n        {selectedFile ? (\n          <>\n            <button onClick={(_) => decryptFileCms()}>Расшифровать CMS</button>\n            <br />\n          </>\n        ) : null}\n        <br />\n        <br />\n        Укажите Base64 сертификата на которого зашифровать\n        <br /> или выберите серт из файла:\n        <input\n          type=\"file\"\n          onChange={async (e) =>\n            await importCertificate(await e.target.files![0].arrayBuffer())\n          }\n        />\n        <br />\n        <textarea\n          style={{ width: 500, height: 200 }}\n          value={selectedEncryptCertBase64}\n          onChange={async (e) => await importCertificate(e.target.value)}\n        />\n        {selectedEncryptCert && selectedFile ? (\n          <>\n            <br />\n            <button onClick={(_) => encryptFileCms()}>Зашифровать CMS</button>\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nconst App = () => (\n  <div className=\"App\">\n    <CryptoApp />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","// 2.0.14530 от 16.02.2022\n// ГОСТ: 8FE58D912E985DBFA1BB573D102DA68192B442278C586D1BE183A7CEA49C6C19\n// MD5: d0282c948e2b5f6a02f3944a16ebc7e3\n// https://www.cryptopro.ru/sites/default/files/products/cades/current_release_2_0/cadesplugin_api.js.zip\n\n/**\n * @class window.cadesplugin\n */\n;(function () {\n    //already loaded\n    if(window.cadesplugin)\n        return;\n\n    var pluginObject;\n    var plugin_resolved = 0;\n    var plugin_reject;\n    var plugin_resolve;\n    var isOpera = 0;\n    var isFireFox = 0;\n    var isSafari = 0;\n    var isYandex = 0;\n    var canPromise = !!window.Promise;\n    var cadesplugin_loaded_event_recieved = false;\n    var isFireFoxExtensionLoaded = false;\n\n    /**\n    * @class window.cadesplugin\n    */\n    var cadesplugin;\n\n    if(canPromise)\n    {\n        cadesplugin = new Promise(function(resolve, reject)\n        {\n            plugin_resolve = resolve;\n            plugin_reject = reject;\n        });\n    } else\n    {\n        cadesplugin = {};\n    }\n\n    function check_browser() {\n        var ua= navigator.userAgent, tem, M= ua.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n        if(/trident/i.test(M[1])){\n            tem =  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n            return { name:'IE', version:(tem[1] || '')};\n        }\n        if(M[1] === 'Chrome'){\n            tem = ua.match(/\\b(OPR|Edg|YaBrowser)\\/(\\d+)/);\n            if (tem != null)\n                return { name: tem[1].replace('OPR', 'Opera'), version: tem[2] };\n        }\n        M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\n        if ((tem = ua.match(/version\\/(\\d+)/i)) != null)\n            M.splice(1, 1, tem[1]);\n        return {name:M[0],version:M[1]};\n    }\n    var browserSpecs = check_browser();\n\n    function cpcsp_console_log(level, msg){\n        //IE9 не может писать в консоль если не открыта вкладка developer tools\n        if(typeof(console) === 'undefined')\n            return;\n        if (level <= cadesplugin.current_log_level ){\n            if (level === cadesplugin.LOG_LEVEL_DEBUG)\n                console.log(\"DEBUG: %s\", msg);\n            if (level === cadesplugin.LOG_LEVEL_INFO)\n                console.info(\"INFO: %s\", msg);\n            if (level === cadesplugin.LOG_LEVEL_ERROR)\n                console.error(\"ERROR: %s\", msg);\n            return;\n        }\n    }\n\n    function set_log_level(level){\n        if (!((level === cadesplugin.LOG_LEVEL_DEBUG) ||\n            (level === cadesplugin.LOG_LEVEL_INFO) ||\n            (level === cadesplugin.LOG_LEVEL_ERROR))){\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"cadesplugin_api.js: Incorrect log_level: \" + level);\n            return;\n        }\n        cadesplugin.current_log_level = level;\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = DEBUG\");\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = INFO\");\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = ERROR\");\n        if(isNativeMessageSupported())\n        {\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG)\n                window.postMessage(\"set_log_level=debug\", \"*\");\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO)\n                window.postMessage(\"set_log_level=info\", \"*\");\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR)\n                window.postMessage(\"set_log_level=error\", \"*\");\n        }\n    }\n\n    function set_constantValues()\n    {\n        cadesplugin.CAPICOM_MEMORY_STORE = 0;\n        cadesplugin.CAPICOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CAPICOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CAPICOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_MEMORY_STORE = 0;\n        cadesplugin.CADESCOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CADESCOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CADESCOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_CONTAINER_STORE = 100;\n\n        cadesplugin.CAPICOM_MY_STORE = \"My\";\n\n        cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED = 2;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED = 0;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING = 1;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE = 2;\n\n        cadesplugin.CADESCOM_XADES_DEFAULT = 0x00000010;\n        cadesplugin.CADESCOM_XADES_BES = 0x00000020;\n        cadesplugin.CADESCOM_XADES_T = 0x00000050;\n        cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1 = 0x000005d0;\n        cadesplugin.CADESCOM_XMLDSIG_TYPE = 0x00000000;\n\n        cadesplugin.XmlDsigGost3410UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr3411\";\n        cadesplugin.XmlDsigGost3410Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411\";\n        \n        cadesplugin.XmlDsigGost3411Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256\";\n        cadesplugin.XmlDsigGost3410Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256\";\n        cadesplugin.XmlDsigGost3411Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512\";\n        cadesplugin.XmlDsigGost3410Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512\";\n\n        cadesplugin.CADESCOM_CADES_DEFAULT = 0;\n        cadesplugin.CADESCOM_CADES_BES = 1;\n        cadesplugin.CADESCOM_CADES_T = 0x5;\n        cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1 = 0x5d;\n        cadesplugin.CADESCOM_PKCS7_TYPE = 0xffff;\n\n        cadesplugin.CADESCOM_ENCODE_BASE64 = 0;\n        cadesplugin.CADESCOM_ENCODE_BINARY = 1;\n        cadesplugin.CADESCOM_ENCODE_ANY = -1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY = 2;\n\n        cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME = 0;\n        cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME = 1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME = 2;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME = 3;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME = 4;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION = 5;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY = 7;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY = 8;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID = 10;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED = 11;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12;\n\n        cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 128;\n\n        cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE = 9;\n\n        cadesplugin.CAPICOM_OID_OTHER = 0;\n        cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION = 10;\n\n        cadesplugin.CAPICOM_EKU_CLIENT_AUTH = 2;\n        cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON = 5;\n        cadesplugin.CAPICOM_EKU_OTHER = 0;\n\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO = 0x100;\n        cadesplugin.CADESCOM_ATTRIBUTE_OTHER = -1;\n\n        cadesplugin.CADESCOM_STRING_TO_UCS2LE = 0;\n        cadesplugin.CADESCOM_BASE64_TO_BINARY = 1;\n\n        cadesplugin.CADESCOM_DISPLAY_DATA_NONE = 0;\n        cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT = 1;\n        cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE = 2;\n\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2 = 0;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4 = 1;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES = 2;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES = 3;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES = 4;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89 = 25;\n\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1 = 0;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD2 = 1;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD4 = 2;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD5 = 3;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256 = 4;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384 = 5;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512 = 6;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411 = 100;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256 = 101;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512 = 102;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC = 110;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC = 111;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC = 112;\n\n        cadesplugin.LOG_LEVEL_DEBUG = 4;\n        cadesplugin.LOG_LEVEL_INFO = 2;\n        cadesplugin.LOG_LEVEL_ERROR = 1;\n\n        cadesplugin.CADESCOM_AllowNone = 0;\n        cadesplugin.CADESCOM_AllowNoOutstandingRequest = 0x1;\n        cadesplugin.CADESCOM_AllowUntrustedCertificate = 0x2;\n        cadesplugin.CADESCOM_AllowUntrustedRoot = 0x4;\n        cadesplugin.CADESCOM_SkipInstallToStore = 0x10000000;\n        cadesplugin.CADESCOM_InstallCertChainToContainer = 0x20000000;\n        cadesplugin.CADESCOM_UseContainerStore = 0x40000000;\n\n        cadesplugin.ENABLE_CARRIER_TYPE_CSP = 0x01;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM = 0x02;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM = 0x04;\n        cadesplugin.ENABLE_ANY_CARRIER_TYPE = 0x07;\n\n        cadesplugin.DISABLE_EVERY_CARRIER_OPERATION = 0x00;\n        cadesplugin.ENABLE_CARRIER_OPEN_ENUM = 0x01;\n        cadesplugin.ENABLE_CARRIER_CREATE = 0x02;\n        cadesplugin.ENABLE_ANY_OPERATION = 0x03;\n\n        cadesplugin.CADESCOM_PRODUCT_CSP = 0;\n        cadesplugin.CADESCOM_PRODUCT_OCSP = 1;\n        cadesplugin.CADESCOM_PRODUCT_TSP = 2;\n\n        cadesplugin.MEDIA_TYPE_REGISTRY = 0x00000001;\n        cadesplugin.MEDIA_TYPE_HDIMAGE = 0x00000002;\n        cadesplugin.MEDIA_TYPE_CLOUD = 0x00000004;\n        cadesplugin.MEDIA_TYPE_SCARD = 0x00000008;\n\n        cadesplugin.XCN_CRYPT_STRING_BASE64HEADER = 0;\n        cadesplugin.AT_KEYEXCHANGE = 1;\n        cadesplugin.AT_SIGNATURE = 2;\n\n        cadesplugin.CARRIER_FLAG_REMOVABLE = 1;\n        cadesplugin.CARRIER_FLAG_UNIQUE = 2;\n        cadesplugin.CARRIER_FLAG_PROTECTED = 4;\n        cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER = 8;\n        cadesplugin.CARRIER_FLAG_SECURE_MESSAGING = 16;\n        cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE = 64;\n        cadesplugin.CARRIER_FLAG_VIRTUAL = 128;\n    }\n\n    function async_spawn(generatorFunc) {\n        function continuer(verb, arg) {\n            var result;\n            try {\n                result = generator[verb](arg);\n            } catch (err) {\n                return Promise.reject(err);\n            }\n            if (result.done) {\n                return result.value;\n            } else {\n                return Promise.resolve(result.value).then(onFulfilled, onRejected);\n            }\n        }\n        var generator = generatorFunc(Array.prototype.slice.call(arguments, 1));\n        var onFulfilled = continuer.bind(continuer, \"next\");\n        var onRejected = continuer.bind(continuer, \"throw\");\n        return onFulfilled();\n    }\n\n    function isIE() {\n        // var retVal = ((\"Microsoft Internet Explorer\" == navigator.appName) || // IE < 11\n        //     navigator.userAgent.match(/Trident\\/./i)); // IE 11\n        return (browserSpecs.name === 'IE' || browserSpecs.name === 'MSIE');\n    }\n\n    function isIOS() {\n        return (navigator.userAgent.match(/ipod/i) ||\n            navigator.userAgent.match(/ipad/i) ||\n            navigator.userAgent.match(/iphone/i));\n    }\n\n    function isNativeMessageSupported()\n    {\n        // В IE работаем через NPAPI\n        if(isIE())\n            return false;\n        // В Edge работаем через NativeMessage\n        if (browserSpecs.name === 'Edg') {\n            return true;\n        }\n        if (browserSpecs.name === 'YaBrowser') {\n            isYandex = true;\n            return true;\n        }\n        // В Chrome, Firefox, Safari и Opera работаем через асинхронную версию в зависимости от версии\n        if(browserSpecs.name === 'Opera') {\n            isOpera = true;\n            if(browserSpecs.version >= 33){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        if(browserSpecs.name === 'Firefox') {\n            isFireFox = true;\n            if(browserSpecs.version >= 52){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        if(browserSpecs.name === 'Chrome') {\n            if(browserSpecs.version >= 42){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        //В Сафари начиная с 12 версии нет NPAPI\n        if(browserSpecs.name === 'Safari') {\n            isSafari = true;\n            if(browserSpecs.version >= 12) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    // Функция активации объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObject(name) {\n        if (isIOS()) {\n            // На iOS для создания объектов используется функция\n            // call_ru_cryptopro_npcades_10_native_bridge, определенная в IOS_npcades_supp.js\n            return call_ru_cryptopro_npcades_10_native_bridge(\"CreateObject\", [name]);\n        }\n        if (isIE()) {\n            // В Internet Explorer создаются COM-объекты\n            if (name.match(/X509Enrollment/i)) {\n                try {\n                    // Объекты CertEnroll пробуем создавать через нашу фабрику,\n                    // если не получилось то через CX509EnrollmentWebClassFactory\n                    var objCertEnrollClassFactory = document.getElementById(\"webClassFactory\");\n                    return objCertEnrollClassFactory.CreateObject(name);\n                }\n                catch (e) {\n                    try {\n                        var objWebClassFactory = document.getElementById(\"certEnrollClassFactory\");\n                        return objWebClassFactory.CreateObject(name);\n                    }\n                    catch (err) {\n                        throw (\"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS\");\n                    }\n                }\n            }\n            // Объекты CAPICOM и CAdESCOM создаются через CAdESCOM.WebClassFactory\n            try {\n                var objWebClassFactory = document.getElementById(\"webClassFactory\");\n                return objWebClassFactory.CreateObject(name);\n            }\n            catch (e) {\n                // Для версий плагина ниже 2.0.12538\n        return new ActiveXObject(name); // eslint-disable-line\n            }\n        }\n        // создаются объекты NPAPI\n        return pluginObject.CreateObject(name);\n    }\n\n    function decimalToHexString(number) {\n        if (number < 0) {\n            number = 0xFFFFFFFF + number + 1;\n        }\n\n        return number.toString(16).toUpperCase();\n    }\n\n    function GetMessageFromException(e) {\n        var err = e.message;\n        if (!err) {\n            err = e;\n        } else if (e.number) {\n            err += \" (0x\" + decimalToHexString(e.number) + \")\";\n        }\n        return err;\n    }\n\n    function getLastError(exception) {\n        if(isNativeMessageSupported() || isIE() || isIOS() ) {\n            return GetMessageFromException(exception);\n        }\n\n        try {\n            return pluginObject.getLastError();\n        } catch(e) {\n            return GetMessageFromException(exception);\n        }\n    }\n\n    // Функция для удаления созданных объектов\n    function ReleasePluginObjects() {\n    return cpcsp_chrome_nmcades.ReleasePluginObjects(); // eslint-disable-line\n    }\n\n    // Функция активации асинхронных объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObjectAsync(name) {\n        return pluginObject.CreateObjectAsync(name);\n    }\n\n    //Функции для IOS\n    var ru_cryptopro_npcades_10_native_bridge = {\n        callbacksCount : 1,\n        callbacks : {},\n\n        // Automatically called by native layer when a result is available\n        resultForCallback : function resultForCallback(callbackId, resultArray) {\n            var callback = ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId];\n            if (!callback) return;\n            callback.apply(null,resultArray);\n        },\n\n        // Use this in javascript to request native objective-c code\n        // functionName : string (I think the name is explicit :p)\n        // args : array of arguments\n        // callback : function with n-arguments that is going to be called when the native code returned\n        call : function call(functionName, args, callback) {\n            var hasCallback = callback && typeof callback === \"function\";\n            var callbackId = hasCallback ? ru_cryptopro_npcades_10_native_bridge.callbacksCount++ : 0;\n\n            if (hasCallback)\n                ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId] = callback;\n\n            var iframe = document.createElement(\"IFRAME\");\n            var arrObjs = new Array(\"_CPNP_handle\");\n            try{\n                iframe.setAttribute(\"src\", \"cpnp-js-call:\" + functionName + \":\" + callbackId+ \":\" + encodeURIComponent(JSON.stringify(args, arrObjs)));\n            } catch(e){\n                alert(e);\n            }\n            document.documentElement.appendChild(iframe);\n            iframe.parentNode.removeChild(iframe);\n            iframe = null;\n        }\n    };\n\n    function call_ru_cryptopro_npcades_10_native_bridge(functionName, array){\n        var tmpobj;\n        var ex;\n        ru_cryptopro_npcades_10_native_bridge.call(functionName, array, function(e, response){\n            ex = e;\n            var str='tmpobj='+response;\n            eval(str);\n            if (typeof (tmpobj) === \"string\"){\n                tmpobj = tmpobj.replace(/\\\\\\n/gm, \"\\n\");\n                tmpobj = tmpobj.replace(/\\\\\\r/gm, \"\\r\");\n            }\n        });\n        if(ex)\n            throw ex;\n        return tmpobj;\n    }\n\n    function show_firefox_missing_extension_dialog()\n    {\n        if (!window.cadesplugin_skip_extension_install)\n        {\n            var ovr = document.createElement('div');\n            ovr.id = \"cadesplugin_ovr\";\n            ovr.style = \"visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)\";\n            ovr.innerHTML = \"<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'>\" +\n                \"<button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button>\" +\n                \"<p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.\" +\n                \"<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p>\" +\n                \"</div>\";\n            document.getElementsByTagName(\"Body\")[0].appendChild(ovr);\n            document.getElementById(\"cadesplugin_close_install\").addEventListener('click',function()\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n\n            ovr.addEventListener('click',function()\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n            ovr.style.visibility=\"visible\";\n        }\n    }\n    function firefox_or_safari_nmcades_onload() {\n        if (window.cadesplugin_extension_loaded_callback)\n            window.cadesplugin_extension_loaded_callback();\n        isFireFoxExtensionLoaded = true;\n        cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error); // eslint-disable-line\n    }\n\n    function nmcades_api_onload() {\n        if (!isIE() && !isFireFox && !isSafari) {\n            if (window.cadesplugin_extension_loaded_callback)\n                window.cadesplugin_extension_loaded_callback();\n        }\n        window.postMessage(\"cadesplugin_echo_request\", \"*\");\n        window.addEventListener(\"message\", function (event){\n            if (typeof(event.data) !== \"string\" || !event.data.match(\"cadesplugin_loaded\"))\n                return;\n            if (cadesplugin_loaded_event_recieved)\n                return;\n            if(isFireFox || isSafari)\n            {\n                // Для Firefox, Сафари вместе с сообщением cadesplugin_loaded прилетает url для загрузки nmcades_plugin_api.js\n                var url = event.data.substring(event.data.indexOf(\"url:\") + 4);\n                if (!url.match(\"^moz-extension://[a-zA-Z0-9-]+/nmcades_plugin_api.js$\")\n                    && !url.match(\"^safari-extension://[a-zA-Z0-9-]+/[a-zA-Z0-9]+/nmcades_plugin_api.js$\"))\n                {\n                    cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"Bad url \\\"\" + url + \"\\\" for load CryptoPro Extension for CAdES Browser plug-in\");\n                    plugin_loaded_error();\n                    return;\n                }\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", url);\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = firefox_or_safari_nmcades_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            }else {\n                cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error); // eslint-disable-line\n            }\n            cadesplugin_loaded_event_recieved = true;\n        }, false);\n    }\n\n    //Загружаем расширения для Chrome, Opera, YaBrowser, FireFox, Edge, Safari\n    function load_extension()\n    {\n        if(isFireFox || isSafari){\n            // вызываем callback руками т.к. нам нужно узнать ID расширения. Он уникальный для браузера.\n            nmcades_api_onload();\n        } else {\n            // в асинхронном варианте для Yandex и Opera подключаем расширение из Opera store.\n            if (isOpera || isYandex) {\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", \"chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js\");\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = nmcades_api_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            } else {\n                // для Chrome, Chromium, Chromium Edge расширение из Chrome store\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", \"chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js\");\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = nmcades_api_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            }\n        }\n    }\n\n    //Загружаем плагин для NPAPI\n    function load_npapi_plugin()\n    {\n        var elem = document.createElement('object');\n        elem.setAttribute(\"id\", \"cadesplugin_object\");\n        elem.setAttribute(\"type\", \"application/x-cades\");\n        elem.setAttribute(\"style\", \"visibility: hidden\");\n        document.getElementsByTagName(\"body\")[0].appendChild(elem);\n        pluginObject = document.getElementById(\"cadesplugin_object\");\n        if(isIE())\n        {\n            var elem1 = document.createElement('object');\n            elem1.setAttribute(\"id\", \"certEnrollClassFactory\");\n            elem1.setAttribute(\"classid\", \"clsid:884e2049-217d-11da-b2a4-000e7bbb2b09\");\n            elem1.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem1);\n            var elem2 = document.createElement('object');\n            elem2.setAttribute(\"id\", \"webClassFactory\");\n            elem2.setAttribute(\"classid\", \"clsid:B04C8637-10BD-484E-B0DA-B8A039F60024\");\n            elem2.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem2);\n        }\n    }\n\n    //Отправляем событие что все ок.\n    function plugin_loaded()\n    {\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_resolve();\n        }else {\n            window.postMessage(\"cadesplugin_loaded\", \"*\");\n        }\n    }\n\n    //Отправляем событие что сломались.\n    function plugin_loaded_error(msg)\n    {\n        if(typeof(msg) === 'undefined' || typeof(msg) === 'object')\n            msg = \"Плагин недоступен\";\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_reject(msg);\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n    }\n\n    //проверяем что у нас хоть какое то событие ушло, и если не уходило кидаем еще раз ошибку\n    function check_load_timeout()\n    {\n        if(plugin_resolved === 1)\n            return;\n        if(isFireFox)\n        {\n            if (!isFireFoxExtensionLoaded)\n                show_firefox_missing_extension_dialog();\n        }\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_reject(\"Истекло время ожидания загрузки плагина\");\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n\n    }\n\n    //Вспомогательная функция для NPAPI\n    function createPromise(arg)\n    {\n        return new Promise(arg);\n    }\n\n    function check_npapi_plugin (){\n        try {\n            var oAbout = CreateObject(\"CAdESCOM.About\");\n            plugin_loaded();\n        }\n        catch (err) {\n            document.getElementById(\"cadesplugin_object\").style.display = 'none';\n            // Объект создать не удалось, проверим, установлен ли\n            // вообще плагин. Такая возможность есть не во всех браузерах\n            var mimetype = navigator.mimeTypes[\"application/x-cades\"];\n            if (mimetype) {\n                var plugin = mimetype.enabledPlugin;\n                if (plugin) {\n                    plugin_loaded_error(\"Плагин загружен, но не создаются обьекты\");\n                }else\n                {\n                    plugin_loaded_error(\"Ошибка при загрузке плагина\");\n                }\n            }else\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n            }\n        }\n    }\n\n    //Проверяем работает ли плагин\n    function check_plugin_working()\n    {\n        var div = document.createElement(\"div\");\n        div.innerHTML = \"<!--[if lt IE 9]><i></i><![endif]-->\";\n        var isIeLessThan9 = (div.getElementsByTagName(\"i\").length === 1);\n        if (isIeLessThan9) {\n            plugin_loaded_error(\"Internet Explorer версии 8 и ниже не поддерживается\");\n            return;\n        }\n\n        if(isNativeMessageSupported())\n        {\n            load_extension();\n        }else if(!canPromise) {\n            window.addEventListener(\"message\", function (event){\n                    if (event.data !== \"cadesplugin_echo_request\")\n                        return;\n                    load_npapi_plugin();\n                    check_npapi_plugin();\n                },\n                false);\n        }else\n        {\n            if(document.readyState === \"complete\"){\n                load_npapi_plugin();\n                check_npapi_plugin();\n            } else {\n                window.addEventListener(\"load\", function (event) {\n                    load_npapi_plugin();\n                    check_npapi_plugin();\n                }, false);\n            }\n        }\n    }\n\n    function set_pluginObject(obj)\n    {\n        pluginObject = obj;\n    }\n\n    function is_capilite_enabled()\n    {\n        if ((typeof (cadesplugin.EnableInternalCSP) !== 'undefined') && cadesplugin.EnableInternalCSP)\n            return true;\n        return false;\n    };\n\n    //Export\n    cadesplugin.JSModuleVersion = \"2.3.2\";\n    cadesplugin.async_spawn = async_spawn;\n    cadesplugin.set = set_pluginObject;\n    cadesplugin.set_log_level = set_log_level;\n    cadesplugin.getLastError = getLastError;\n    cadesplugin.is_capilite_enabled = is_capilite_enabled;\n\n    if(isNativeMessageSupported())\n    {\n        cadesplugin.CreateObjectAsync = CreateObjectAsync;\n        cadesplugin.ReleasePluginObjects = ReleasePluginObjects;\n    }\n\n    if(!isNativeMessageSupported())\n    {\n        cadesplugin.CreateObject = CreateObject;\n    }\n\n    if(window.cadesplugin_load_timeout)\n    {\n        setTimeout(check_load_timeout, window.cadesplugin_load_timeout);\n    }\n    else\n    {\n        setTimeout(check_load_timeout, 20000);\n    }\n\n    set_constantValues();\n\n    cadesplugin.current_log_level = cadesplugin.LOG_LEVEL_ERROR;\n    window.cadesplugin = cadesplugin;\n    check_plugin_working();\n}());\n\nexport default window.cadesplugin;\n"],"names":["CADESCOM_XML_SIGNATURE_TYPE","CADESCOM_XADES_TYPE","CADESCOM_CADES_TYPE","XML_SIGNATURE_GOST_ALGORITHM_TYPE","CAPICOM_CERTIFICATE_INCLUDE_OPTION","CADESCOM_ENCODING_TYPE","CAPICOM_ENCODING_TYPE","CAPICOM_STORE_OPEN_MODE","STORE_LOCATION","CAPICOM_CERT_INFO_TYPE","CAPICOM_CERTIFICATE_FIND_TYPE","CAPICOM_KEY_USAGE","CAPICOM_MY_STORE","CAPICOM_PROPID","CADESCOM_MEDIA_TYPE","CRYPTO_OBJECTS","STORE_TYPE","GOST_KEY_ALGORITHM_TYPES","CRYPTO_PROVIDERS","ProviderType","ProviderName","map","c","DEFAULT_CRYPTO_PROVIDER","Default","find","t","Fallback","VIP_NET_CRYPTO_PROVIDER_TYPES","Object","freeze","CRYPTO_PRO_CRYPTO_PROVIDER_TYPES","GOST_KEY_ALGORITHM_OIDS","values","attributeOids","commonName","surname","name","country","locality","region","street","organisation","department","post","ogrnip","ogrn","snils","inn","innLe","email","CRYPTO_PRO_ERRORS","code","message","PLUGIN_ERRORS","parseValue","target","attributeName","errorMessage","CryptoError","typesAndValues","type","value","valueBlock","normalizeInn","length","startsWith","substring","parseCertificate","certificate","certificateBase64Data","asn1","fromBER","Uint8Array","Buffer","buffer","parsedCert","x509Certificate","schema","result","publishKeyAlgorithm","subjectPublicKeyInfo","algorithm","algorithmId","isGost","includes","subjectKeyIdentifierExtension","extensions","extnID","subjectKeyId","int8Buffer","i","str","toString","toUpperCase","trim","bufferToHex","parsedValue","valueHex","keys","issuer","forEach","key","subject","error","canAsync","window","cadesplugin","CreateObjectAsync","deasync","fn","prepareArgs","args","context","unshift","outputDebug","PluginConfig","console","log","outputError","pluginConfig","cb","this","errorListeners","addErrorListener","Debug","errors","err","push","InnerError","stack","Error","captureStackTrace","filter","Boolean","join","fullErrorData","getLastError","msg","replace","title","cryptoError","_extractCode","extractedMsg","_extractMessage","res","errorCode","overrideMessage","match","_RULE_MATCHING_CODE","cryptoProvidersCache","Certificate","cfg","organization","certificateBin","cert","SubjectName","Promise","subjectName","Thumbprint","thumbprint","ValidToDate","notAfter","ValidFromDate","notBefore","Export","CAPICOM_ENCODE_BASE64","HasPrivateKey","hasPrivateKey","PrivateKey","oPrivateKey","providerName","providerType","createObject","objectIdentifier","afterPluginLoaded","CreateObject","getCryptoProviders","resetCache","resolve","availableCryptoProviders","logData","about","cadesAbout","CSPVersion","cspVersion","BuildVersion","MajorVersion","MinorVersion","systemInfoCache","getSystemInfo","sysInfo","cadesVersion","cryptoProInstalled","vipNetInstalled","cryptoProviderName","cryptoProvider","PluginVersion","pluginVersion","Version","checkIsSupportedCSPVersion","systemInfo","cryptoProviders","haveValidCryptoProCSPVersion","haveValidVipNetCSPVersion","checkCspVersionFunc","CheckCryptoProviders","cp","cryptoProCSP","vipNetCSP","version","parseFloat","isSupportedCadesVersion","major","minor","patch","parseInt","checkIsValidSystemSetup","isPluginReady","isAlreadyLoaded","require","set_log_level","LOG_LEVEL_DEBUG","callbackResult","apply","setCryptoProperty","obj","validateCertificate","customValidationFunc","now","Date","sign","data","detach","includeCertChain","doNotValidate","base64String","ArrayBuffer","signer","signedData","CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN","signResult","SignCades","CADESCOM_CADES_BES","sig","getXmlSignAlgorithmType","GOST_R3410_12_256","XmlDsigGost3410Url2012256","GOST_R3410_12_512","XmlDsigGost3410Url2012512","getXmlHashAlgorithmType","XmlDsigGost3411Url2012256","XmlDsigGost3411Url2012512","signXml","xmlSignatureType","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED","signedXml","Sign","encrypt","recipientCertificates","envelopedData","Recipients","recipients","recipientCertificate","Add","encryptResult","Encrypt","encryptedData","decrypt","decryptResult","Decrypt","Content","decryptedData","openStore","storeLocation","CAPICOM_CURRENT_USER_STORE","storeName","openMode","CAPICOM_STORE_OPEN_EXISTING_ONLY","store","Open","certificatesCache","getCertificatesFromStore","certificatesCount","Certificates","certificates","Count","Item","certBin","ReadCertificatesFromUsbToken","CADESCOM_CONTAINER_STORE","Close","ReadCertificatesFromRegistry","CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED","getCertificates","storeType","ALL","USB_TOKEN","REGISTRY","usbTokenCertificates","certificatesFromRegistry","concat","index","findIndex","findCertificateBySkid","CertificateInfo","onSelect","onClick","e","download","href","navigator","clipboard","writeText","style","display","JSON","stringify","CryptoProviderInfo","CryptoApp","CheckSystemSetup","useState","setCertificates","versionInfo","setVersionInfo","setCryptoProviders","showCertificates","setShowCertificates","showCryptoProviders","setShowCryptoProviders","selectedCertificate","setSelectedCertificate","selectedFile","setSelectedFile","selectedEncryptCert","setSelectedEncryptCert","selectedEncryptCertBase64","setSelectedEncryptCertBase64","useEffect","alert","fetchedCertificates","fetchCryptoProviders","fetchCertificates","fetchSystemInfo","trySelectCertificate","skid","dowloadFile","blob","url","URL","createObjectURL","a","document","createElement","body","appendChild","click","revokeObjectURL","remove","signFile","arrayBuffer","convertBase64toBlob","signXmlFile","encryptFileCms","decryptFileCms","checkEncryptDecrypt","originalData","isOk","base64","fetch","then","importCertificate","undefined","arrayBufferToString","TextDecoder","decode","parseFromArrayBuffer","Import","parseFromBase64String","checkSystem","certInfo","width","placeholder","onChange","_","files","CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE","height","className","ReactDOM","getElementById","render","pluginObject","plugin_resolved","plugin_reject","plugin_resolve","isOpera","isFireFox","isSafari","isYandex","canPromise","cadesplugin_loaded_event_recieved","isFireFoxExtensionLoaded","reject","browserSpecs","check_browser","ru_cryptopro_npcades_10_native_bridge","callbacksCount","callbacks","resultForCallback","callbackId","resultArray","callback","call","functionName","hasCallback","iframe","arrObjs","Array","setAttribute","encodeURIComponent","documentElement","parentNode","removeChild","JSModuleVersion","async_spawn","set","set_pluginObject","is_capilite_enabled","isNativeMessageSupported","ReleasePluginObjects","cadesplugin_load_timeout","setTimeout","check_load_timeout","set_constantValues","current_log_level","LOG_LEVEL_ERROR","check_plugin_working","tem","ua","userAgent","M","test","exec","appName","appVersion","splice","cpcsp_console_log","level","LOG_LEVEL_INFO","postMessage","CAPICOM_MEMORY_STORE","CAPICOM_LOCAL_MACHINE_STORE","CAPICOM_SMART_CARD_USER_STORE","CADESCOM_MEMORY_STORE","CADESCOM_LOCAL_MACHINE_STORE","CADESCOM_CURRENT_USER_STORE","CADESCOM_SMART_CARD_USER_STORE","CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING","CADESCOM_XADES_DEFAULT","CADESCOM_XADES_BES","CADESCOM_XADES_T","CADESCOM_XADES_X_LONG_TYPE_1","CADESCOM_XMLDSIG_TYPE","XmlDsigGost3410UrlObsolete","XmlDsigGost3411UrlObsolete","XmlDsigGost3410Url","XmlDsigGost3411Url","CADESCOM_CADES_DEFAULT","CADESCOM_CADES_T","CADESCOM_CADES_X_LONG_TYPE_1","CADESCOM_PKCS7_TYPE","CADESCOM_ENCODE_BASE64","CADESCOM_ENCODE_BINARY","CADESCOM_ENCODE_ANY","CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT","CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY","CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME","CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME","CAPICOM_CERTIFICATE_FIND_SHA1_HASH","CAPICOM_CERTIFICATE_FIND_ISSUER_NAME","CAPICOM_CERTIFICATE_FIND_ROOT_NAME","CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME","CAPICOM_CERTIFICATE_FIND_EXTENSION","CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY","CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY","CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY","CAPICOM_CERTIFICATE_FIND_TIME_VALID","CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID","CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED","CAPICOM_CERTIFICATE_FIND_KEY_USAGE","CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE","CAPICOM_PROPID_ENHKEY_USAGE","CAPICOM_OID_OTHER","CAPICOM_OID_KEY_USAGE_EXTENSION","CAPICOM_EKU_CLIENT_AUTH","CAPICOM_EKU_SMARTCARD_LOGON","CAPICOM_EKU_OTHER","CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO","CADESCOM_ATTRIBUTE_OTHER","CADESCOM_STRING_TO_UCS2LE","CADESCOM_BASE64_TO_BINARY","CADESCOM_DISPLAY_DATA_NONE","CADESCOM_DISPLAY_DATA_CONTENT","CADESCOM_DISPLAY_DATA_ATTRIBUTE","CADESCOM_ENCRYPTION_ALGORITHM_RC2","CADESCOM_ENCRYPTION_ALGORITHM_RC4","CADESCOM_ENCRYPTION_ALGORITHM_DES","CADESCOM_ENCRYPTION_ALGORITHM_3DES","CADESCOM_ENCRYPTION_ALGORITHM_AES","CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89","CADESCOM_HASH_ALGORITHM_SHA1","CADESCOM_HASH_ALGORITHM_MD2","CADESCOM_HASH_ALGORITHM_MD4","CADESCOM_HASH_ALGORITHM_MD5","CADESCOM_HASH_ALGORITHM_SHA_256","CADESCOM_HASH_ALGORITHM_SHA_384","CADESCOM_HASH_ALGORITHM_SHA_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","CADESCOM_AllowNone","CADESCOM_AllowNoOutstandingRequest","CADESCOM_AllowUntrustedCertificate","CADESCOM_AllowUntrustedRoot","CADESCOM_SkipInstallToStore","CADESCOM_InstallCertChainToContainer","CADESCOM_UseContainerStore","ENABLE_CARRIER_TYPE_CSP","ENABLE_CARRIER_TYPE_FKC_NO_SM","ENABLE_CARRIER_TYPE_FKC_SM","ENABLE_ANY_CARRIER_TYPE","DISABLE_EVERY_CARRIER_OPERATION","ENABLE_CARRIER_OPEN_ENUM","ENABLE_CARRIER_CREATE","ENABLE_ANY_OPERATION","CADESCOM_PRODUCT_CSP","CADESCOM_PRODUCT_OCSP","CADESCOM_PRODUCT_TSP","MEDIA_TYPE_REGISTRY","MEDIA_TYPE_HDIMAGE","MEDIA_TYPE_CLOUD","MEDIA_TYPE_SCARD","XCN_CRYPT_STRING_BASE64HEADER","AT_KEYEXCHANGE","AT_SIGNATURE","CARRIER_FLAG_REMOVABLE","CARRIER_FLAG_UNIQUE","CARRIER_FLAG_PROTECTED","CARRIER_FLAG_FUNCTIONAL_CARRIER","CARRIER_FLAG_SECURE_MESSAGING","CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE","CARRIER_FLAG_VIRTUAL","generatorFunc","continuer","verb","arg","generator","done","onFulfilled","onRejected","prototype","slice","arguments","bind","isIE","isIOS","call_ru_cryptopro_npcades_10_native_bridge","ActiveXObject","decimalToHexString","number","GetMessageFromException","exception","cpcsp_chrome_nmcades","array","tmpobj","ex","response","eval","show_firefox_missing_extension_dialog","cadesplugin_skip_extension_install","ovr","id","innerHTML","getElementsByTagName","addEventListener","plugin_loaded_error","visibility","firefox_or_safari_nmcades_onload","cadesplugin_extension_loaded_callback","check_chrome_plugin","plugin_loaded","nmcades_api_onload","event","indexOf","fileref","onerror","onload","load_extension","load_npapi_plugin","elem","elem1","elem2","createPromise","check_npapi_plugin","mimetype","mimeTypes","enabledPlugin","div","readyState","EnableInternalCSP"],"sourceRoot":""}