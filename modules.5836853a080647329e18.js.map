{"version":3,"file":"modules.5836853a080647329e18.js","mappings":"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","sources":["webpack://cryptopro-cades-example/../../node_modules/asn1js/build/index.es.js","webpack://cryptopro-cades-example/../../node_modules/base64-js/index.js","webpack://cryptopro-cades-example/../../node_modules/buffer/index.js","webpack://cryptopro-cades-example/../../node_modules/ieee754/index.js","webpack://cryptopro-cades-example/../../node_modules/bytestreamjs/build/mjs/byte_stream.js","webpack://cryptopro-cades-example/../../node_modules/bytestreamjs/build/mjs/seq_stream.js","webpack://cryptopro-cades-example/../../node_modules/pkijs/build/index.es.js","webpack://cryptopro-cades-example/../../node_modules/pvtsutils/build/index.js","webpack://cryptopro-cades-example/../../node_modules/pvutils/build/utils.es.js","webpack://cryptopro-cades-example/../../node_modules/scheduler/cjs/scheduler.production.min.js","webpack://cryptopro-cades-example/../../node_modules/scheduler/index.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/construct.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://cryptopro-cades-example/../../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js"],"sourcesContent":["/*!\n * Copyright (c) 2014, GMO GlobalSign\n * Copyright (c) 2015-2022, Peculiar Ventures\n * All rights reserved.\n * \n * Author 2014-2019, Yury Strozhevsky\n * \n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n * \n * * Redistributions of source code must retain the above copyright notice, this\n *   list of conditions and the following disclaimer.\n * \n * * Redistributions in binary form must reproduce the above copyright notice, this\n *   list of conditions and the following disclaimer in the documentation and/or\n *   other materials provided with the distribution.\n * \n * * Neither the name of the copyright holder nor the names of its\n *   contributors may be used to endorse or promote products derived from\n *   this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n * \n */\n\nimport * as pvtsutils from 'pvtsutils';\nimport * as pvutils from 'pvutils';\n\nfunction assertBigInt() {\r\n    if (typeof BigInt === \"undefined\") {\r\n        throw new Error(\"BigInt is not defined. Your environment doesn't implement BigInt.\");\r\n    }\r\n}\r\nfunction concat(buffers) {\r\n    let outputLength = 0;\r\n    let prevLength = 0;\r\n    for (let i = 0; i < buffers.length; i++) {\r\n        const buffer = buffers[i];\r\n        outputLength += buffer.byteLength;\r\n    }\r\n    const retView = new Uint8Array(outputLength);\r\n    for (let i = 0; i < buffers.length; i++) {\r\n        const buffer = buffers[i];\r\n        retView.set(new Uint8Array(buffer), prevLength);\r\n        prevLength += buffer.byteLength;\r\n    }\r\n    return retView.buffer;\r\n}\r\nfunction checkBufferParams(baseBlock, inputBuffer, inputOffset, inputLength) {\r\n    if (!(inputBuffer instanceof Uint8Array)) {\r\n        baseBlock.error = \"Wrong parameter: inputBuffer must be 'Uint8Array'\";\r\n        return false;\r\n    }\r\n    if (!inputBuffer.byteLength) {\r\n        baseBlock.error = \"Wrong parameter: inputBuffer has zero length\";\r\n        return false;\r\n    }\r\n    if (inputOffset < 0) {\r\n        baseBlock.error = \"Wrong parameter: inputOffset less than zero\";\r\n        return false;\r\n    }\r\n    if (inputLength < 0) {\r\n        baseBlock.error = \"Wrong parameter: inputLength less than zero\";\r\n        return false;\r\n    }\r\n    if ((inputBuffer.byteLength - inputOffset - inputLength) < 0) {\r\n        baseBlock.error = \"End of input reached before message was fully decoded (inconsistent offset and length values)\";\r\n        return false;\r\n    }\r\n    return true;\r\n}\n\nclass ViewWriter {\r\n    constructor() {\r\n        this.items = [];\r\n    }\r\n    write(buf) {\r\n        this.items.push(buf);\r\n    }\r\n    final() {\r\n        return concat(this.items);\r\n    }\r\n}\n\nconst powers2 = [new Uint8Array([1])];\r\nconst digitsString = \"0123456789\";\r\nconst NAME = \"name\";\r\nconst VALUE_HEX_VIEW = \"valueHexView\";\r\nconst IS_HEX_ONLY = \"isHexOnly\";\r\nconst ID_BLOCK = \"idBlock\";\r\nconst TAG_CLASS = \"tagClass\";\r\nconst TAG_NUMBER = \"tagNumber\";\r\nconst IS_CONSTRUCTED = \"isConstructed\";\r\nconst FROM_BER = \"fromBER\";\r\nconst TO_BER = \"toBER\";\r\nconst LOCAL = \"local\";\r\nconst EMPTY_STRING = \"\";\r\nconst EMPTY_BUFFER = new ArrayBuffer(0);\r\nconst EMPTY_VIEW = new Uint8Array(0);\r\nconst END_OF_CONTENT_NAME = \"EndOfContent\";\r\nconst OCTET_STRING_NAME = \"OCTET STRING\";\r\nconst BIT_STRING_NAME = \"BIT STRING\";\n\nfunction HexBlock(BaseClass) {\r\n    var _a;\r\n    return _a = class Some extends BaseClass {\r\n            constructor(...args) {\r\n                var _a;\r\n                super(...args);\r\n                const params = args[0] || {};\r\n                this.isHexOnly = (_a = params.isHexOnly) !== null && _a !== void 0 ? _a : false;\r\n                this.valueHexView = params.valueHex ? pvtsutils.BufferSourceConverter.toUint8Array(params.valueHex) : EMPTY_VIEW;\r\n            }\r\n            get valueHex() {\r\n                return this.valueHexView.slice().buffer;\r\n            }\r\n            set valueHex(value) {\r\n                this.valueHexView = new Uint8Array(value);\r\n            }\r\n            fromBER(inputBuffer, inputOffset, inputLength) {\r\n                const view = inputBuffer instanceof ArrayBuffer ? new Uint8Array(inputBuffer) : inputBuffer;\r\n                if (!checkBufferParams(this, view, inputOffset, inputLength)) {\r\n                    return -1;\r\n                }\r\n                const endLength = inputOffset + inputLength;\r\n                this.valueHexView = view.subarray(inputOffset, endLength);\r\n                if (!this.valueHexView.length) {\r\n                    this.warnings.push(\"Zero buffer length\");\r\n                    return inputOffset;\r\n                }\r\n                this.blockLength = inputLength;\r\n                return endLength;\r\n            }\r\n            toBER(sizeOnly = false) {\r\n                if (!this.isHexOnly) {\r\n                    this.error = \"Flag 'isHexOnly' is not set, abort\";\r\n                    return EMPTY_BUFFER;\r\n                }\r\n                if (sizeOnly) {\r\n                    return new ArrayBuffer(this.valueHexView.byteLength);\r\n                }\r\n                return (this.valueHexView.byteLength === this.valueHexView.buffer.byteLength)\r\n                    ? this.valueHexView.buffer\r\n                    : this.valueHexView.slice().buffer;\r\n            }\r\n            toJSON() {\r\n                return {\r\n                    ...super.toJSON(),\r\n                    isHexOnly: this.isHexOnly,\r\n                    valueHex: pvtsutils.Convert.ToHex(this.valueHexView),\r\n                };\r\n            }\r\n        },\r\n        _a.NAME = \"hexBlock\",\r\n        _a;\r\n}\n\nclass LocalBaseBlock {\r\n    constructor({ blockLength = 0, error = EMPTY_STRING, warnings = [], valueBeforeDecode = EMPTY_VIEW, } = {}) {\r\n        this.blockLength = blockLength;\r\n        this.error = error;\r\n        this.warnings = warnings;\r\n        this.valueBeforeDecodeView = pvtsutils.BufferSourceConverter.toUint8Array(valueBeforeDecode);\r\n    }\r\n    static blockName() {\r\n        return this.NAME;\r\n    }\r\n    get valueBeforeDecode() {\r\n        return this.valueBeforeDecodeView.slice().buffer;\r\n    }\r\n    set valueBeforeDecode(value) {\r\n        this.valueBeforeDecodeView = new Uint8Array(value);\r\n    }\r\n    toJSON() {\r\n        return {\r\n            blockName: this.constructor.NAME,\r\n            blockLength: this.blockLength,\r\n            error: this.error,\r\n            warnings: this.warnings,\r\n            valueBeforeDecode: pvtsutils.Convert.ToHex(this.valueBeforeDecodeView),\r\n        };\r\n    }\r\n}\r\nLocalBaseBlock.NAME = \"baseBlock\";\n\nclass ValueBlock extends LocalBaseBlock {\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        throw TypeError(\"User need to make a specific function in a class which extends 'ValueBlock'\");\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        throw TypeError(\"User need to make a specific function in a class which extends 'ValueBlock'\");\r\n    }\r\n}\r\nValueBlock.NAME = \"valueBlock\";\n\nclass LocalIdentificationBlock extends HexBlock(LocalBaseBlock) {\r\n    constructor({ idBlock = {}, } = {}) {\r\n        var _a, _b, _c, _d;\r\n        super();\r\n        if (idBlock) {\r\n            this.isHexOnly = (_a = idBlock.isHexOnly) !== null && _a !== void 0 ? _a : false;\r\n            this.valueHexView = idBlock.valueHex ? pvtsutils.BufferSourceConverter.toUint8Array(idBlock.valueHex) : EMPTY_VIEW;\r\n            this.tagClass = (_b = idBlock.tagClass) !== null && _b !== void 0 ? _b : -1;\r\n            this.tagNumber = (_c = idBlock.tagNumber) !== null && _c !== void 0 ? _c : -1;\r\n            this.isConstructed = (_d = idBlock.isConstructed) !== null && _d !== void 0 ? _d : false;\r\n        }\r\n        else {\r\n            this.tagClass = -1;\r\n            this.tagNumber = -1;\r\n            this.isConstructed = false;\r\n        }\r\n    }\r\n    toBER(sizeOnly = false) {\r\n        let firstOctet = 0;\r\n        switch (this.tagClass) {\r\n            case 1:\r\n                firstOctet |= 0x00;\r\n                break;\r\n            case 2:\r\n                firstOctet |= 0x40;\r\n                break;\r\n            case 3:\r\n                firstOctet |= 0x80;\r\n                break;\r\n            case 4:\r\n                firstOctet |= 0xC0;\r\n                break;\r\n            default:\r\n                this.error = \"Unknown tag class\";\r\n                return EMPTY_BUFFER;\r\n        }\r\n        if (this.isConstructed)\r\n            firstOctet |= 0x20;\r\n        if (this.tagNumber < 31 && !this.isHexOnly) {\r\n            const retView = new Uint8Array(1);\r\n            if (!sizeOnly) {\r\n                let number = this.tagNumber;\r\n                number &= 0x1F;\r\n                firstOctet |= number;\r\n                retView[0] = firstOctet;\r\n            }\r\n            return retView.buffer;\r\n        }\r\n        if (!this.isHexOnly) {\r\n            const encodedBuf = pvutils.utilToBase(this.tagNumber, 7);\r\n            const encodedView = new Uint8Array(encodedBuf);\r\n            const size = encodedBuf.byteLength;\r\n            const retView = new Uint8Array(size + 1);\r\n            retView[0] = (firstOctet | 0x1F);\r\n            if (!sizeOnly) {\r\n                for (let i = 0; i < (size - 1); i++)\r\n                    retView[i + 1] = encodedView[i] | 0x80;\r\n                retView[size] = encodedView[size - 1];\r\n            }\r\n            return retView.buffer;\r\n        }\r\n        const retView = new Uint8Array(this.valueHexView.byteLength + 1);\r\n        retView[0] = (firstOctet | 0x1F);\r\n        if (!sizeOnly) {\r\n            const curView = this.valueHexView;\r\n            for (let i = 0; i < (curView.length - 1); i++)\r\n                retView[i + 1] = curView[i] | 0x80;\r\n            retView[this.valueHexView.byteLength] = curView[curView.length - 1];\r\n        }\r\n        return retView.buffer;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const inputView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, inputView, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        const intBuffer = inputView.subarray(inputOffset, inputOffset + inputLength);\r\n        if (intBuffer.length === 0) {\r\n            this.error = \"Zero buffer length\";\r\n            return -1;\r\n        }\r\n        const tagClassMask = intBuffer[0] & 0xC0;\r\n        switch (tagClassMask) {\r\n            case 0x00:\r\n                this.tagClass = (1);\r\n                break;\r\n            case 0x40:\r\n                this.tagClass = (2);\r\n                break;\r\n            case 0x80:\r\n                this.tagClass = (3);\r\n                break;\r\n            case 0xC0:\r\n                this.tagClass = (4);\r\n                break;\r\n            default:\r\n                this.error = \"Unknown tag class\";\r\n                return -1;\r\n        }\r\n        this.isConstructed = (intBuffer[0] & 0x20) === 0x20;\r\n        this.isHexOnly = false;\r\n        const tagNumberMask = intBuffer[0] & 0x1F;\r\n        if (tagNumberMask !== 0x1F) {\r\n            this.tagNumber = (tagNumberMask);\r\n            this.blockLength = 1;\r\n        }\r\n        else {\r\n            let count = 1;\r\n            let intTagNumberBuffer = this.valueHexView = new Uint8Array(255);\r\n            let tagNumberBufferMaxLength = 255;\r\n            while (intBuffer[count] & 0x80) {\r\n                intTagNumberBuffer[count - 1] = intBuffer[count] & 0x7F;\r\n                count++;\r\n                if (count >= intBuffer.length) {\r\n                    this.error = \"End of input reached before message was fully decoded\";\r\n                    return -1;\r\n                }\r\n                if (count === tagNumberBufferMaxLength) {\r\n                    tagNumberBufferMaxLength += 255;\r\n                    const tempBufferView = new Uint8Array(tagNumberBufferMaxLength);\r\n                    for (let i = 0; i < intTagNumberBuffer.length; i++)\r\n                        tempBufferView[i] = intTagNumberBuffer[i];\r\n                    intTagNumberBuffer = this.valueHexView = new Uint8Array(tagNumberBufferMaxLength);\r\n                }\r\n            }\r\n            this.blockLength = (count + 1);\r\n            intTagNumberBuffer[count - 1] = intBuffer[count] & 0x7F;\r\n            const tempBufferView = new Uint8Array(count);\r\n            for (let i = 0; i < count; i++)\r\n                tempBufferView[i] = intTagNumberBuffer[i];\r\n            intTagNumberBuffer = this.valueHexView = new Uint8Array(count);\r\n            intTagNumberBuffer.set(tempBufferView);\r\n            if (this.blockLength <= 9)\r\n                this.tagNumber = pvutils.utilFromBase(intTagNumberBuffer, 7);\r\n            else {\r\n                this.isHexOnly = true;\r\n                this.warnings.push(\"Tag too long, represented as hex-coded\");\r\n            }\r\n        }\r\n        if (((this.tagClass === 1)) &&\r\n            (this.isConstructed)) {\r\n            switch (this.tagNumber) {\r\n                case 1:\r\n                case 2:\r\n                case 5:\r\n                case 6:\r\n                case 9:\r\n                case 13:\r\n                case 14:\r\n                case 23:\r\n                case 24:\r\n                case 31:\r\n                case 32:\r\n                case 33:\r\n                case 34:\r\n                    this.error = \"Constructed encoding used for primitive type\";\r\n                    return -1;\r\n            }\r\n        }\r\n        return (inputOffset + this.blockLength);\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            tagClass: this.tagClass,\r\n            tagNumber: this.tagNumber,\r\n            isConstructed: this.isConstructed,\r\n        };\r\n    }\r\n}\r\nLocalIdentificationBlock.NAME = \"identificationBlock\";\n\nclass LocalLengthBlock extends LocalBaseBlock {\r\n    constructor({ lenBlock = {}, } = {}) {\r\n        var _a, _b, _c;\r\n        super();\r\n        this.isIndefiniteForm = (_a = lenBlock.isIndefiniteForm) !== null && _a !== void 0 ? _a : false;\r\n        this.longFormUsed = (_b = lenBlock.longFormUsed) !== null && _b !== void 0 ? _b : false;\r\n        this.length = (_c = lenBlock.length) !== null && _c !== void 0 ? _c : 0;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const view = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, view, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        const intBuffer = view.subarray(inputOffset, inputOffset + inputLength);\r\n        if (intBuffer.length === 0) {\r\n            this.error = \"Zero buffer length\";\r\n            return -1;\r\n        }\r\n        if (intBuffer[0] === 0xFF) {\r\n            this.error = \"Length block 0xFF is reserved by standard\";\r\n            return -1;\r\n        }\r\n        this.isIndefiniteForm = intBuffer[0] === 0x80;\r\n        if (this.isIndefiniteForm) {\r\n            this.blockLength = 1;\r\n            return (inputOffset + this.blockLength);\r\n        }\r\n        this.longFormUsed = !!(intBuffer[0] & 0x80);\r\n        if (this.longFormUsed === false) {\r\n            this.length = (intBuffer[0]);\r\n            this.blockLength = 1;\r\n            return (inputOffset + this.blockLength);\r\n        }\r\n        const count = intBuffer[0] & 0x7F;\r\n        if (count > 8) {\r\n            this.error = \"Too big integer\";\r\n            return -1;\r\n        }\r\n        if ((count + 1) > intBuffer.length) {\r\n            this.error = \"End of input reached before message was fully decoded\";\r\n            return -1;\r\n        }\r\n        const lenOffset = inputOffset + 1;\r\n        const lengthBufferView = view.subarray(lenOffset, lenOffset + count);\r\n        if (lengthBufferView[count - 1] === 0x00)\r\n            this.warnings.push(\"Needlessly long encoded length\");\r\n        this.length = pvutils.utilFromBase(lengthBufferView, 8);\r\n        if (this.longFormUsed && (this.length <= 127))\r\n            this.warnings.push(\"Unnecessary usage of long length form\");\r\n        this.blockLength = count + 1;\r\n        return (inputOffset + this.blockLength);\r\n    }\r\n    toBER(sizeOnly = false) {\r\n        let retBuf;\r\n        let retView;\r\n        if (this.length > 127)\r\n            this.longFormUsed = true;\r\n        if (this.isIndefiniteForm) {\r\n            retBuf = new ArrayBuffer(1);\r\n            if (sizeOnly === false) {\r\n                retView = new Uint8Array(retBuf);\r\n                retView[0] = 0x80;\r\n            }\r\n            return retBuf;\r\n        }\r\n        if (this.longFormUsed) {\r\n            const encodedBuf = pvutils.utilToBase(this.length, 8);\r\n            if (encodedBuf.byteLength > 127) {\r\n                this.error = \"Too big length\";\r\n                return (EMPTY_BUFFER);\r\n            }\r\n            retBuf = new ArrayBuffer(encodedBuf.byteLength + 1);\r\n            if (sizeOnly)\r\n                return retBuf;\r\n            const encodedView = new Uint8Array(encodedBuf);\r\n            retView = new Uint8Array(retBuf);\r\n            retView[0] = encodedBuf.byteLength | 0x80;\r\n            for (let i = 0; i < encodedBuf.byteLength; i++)\r\n                retView[i + 1] = encodedView[i];\r\n            return retBuf;\r\n        }\r\n        retBuf = new ArrayBuffer(1);\r\n        if (sizeOnly === false) {\r\n            retView = new Uint8Array(retBuf);\r\n            retView[0] = this.length;\r\n        }\r\n        return retBuf;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            isIndefiniteForm: this.isIndefiniteForm,\r\n            longFormUsed: this.longFormUsed,\r\n            length: this.length,\r\n        };\r\n    }\r\n}\r\nLocalLengthBlock.NAME = \"lengthBlock\";\n\nconst typeStore = {};\n\nclass BaseBlock extends LocalBaseBlock {\r\n    constructor({ name = EMPTY_STRING, optional = false, primitiveSchema, ...parameters } = {}, valueBlockType) {\r\n        super(parameters);\r\n        this.name = name;\r\n        this.optional = optional;\r\n        if (primitiveSchema) {\r\n            this.primitiveSchema = primitiveSchema;\r\n        }\r\n        this.idBlock = new LocalIdentificationBlock(parameters);\r\n        this.lenBlock = new LocalLengthBlock(parameters);\r\n        this.valueBlock = valueBlockType ? new valueBlockType(parameters) : new ValueBlock(parameters);\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const resultOffset = this.valueBlock.fromBER(inputBuffer, inputOffset, (this.lenBlock.isIndefiniteForm) ? inputLength : this.lenBlock.length);\r\n        if (resultOffset === -1) {\r\n            this.error = this.valueBlock.error;\r\n            return resultOffset;\r\n        }\r\n        if (!this.idBlock.error.length)\r\n            this.blockLength += this.idBlock.blockLength;\r\n        if (!this.lenBlock.error.length)\r\n            this.blockLength += this.lenBlock.blockLength;\r\n        if (!this.valueBlock.error.length)\r\n            this.blockLength += this.valueBlock.blockLength;\r\n        return resultOffset;\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        const _writer = writer || new ViewWriter();\r\n        if (!writer) {\r\n            prepareIndefiniteForm(this);\r\n        }\r\n        const idBlockBuf = this.idBlock.toBER(sizeOnly);\r\n        _writer.write(idBlockBuf);\r\n        if (this.lenBlock.isIndefiniteForm) {\r\n            _writer.write(new Uint8Array([0x80]).buffer);\r\n            this.valueBlock.toBER(sizeOnly, _writer);\r\n            _writer.write(new ArrayBuffer(2));\r\n        }\r\n        else {\r\n            const valueBlockBuf = this.valueBlock.toBER(sizeOnly);\r\n            this.lenBlock.length = valueBlockBuf.byteLength;\r\n            const lenBlockBuf = this.lenBlock.toBER(sizeOnly);\r\n            _writer.write(lenBlockBuf);\r\n            _writer.write(valueBlockBuf);\r\n        }\r\n        if (!writer) {\r\n            return _writer.final();\r\n        }\r\n        return EMPTY_BUFFER;\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            ...super.toJSON(),\r\n            idBlock: this.idBlock.toJSON(),\r\n            lenBlock: this.lenBlock.toJSON(),\r\n            valueBlock: this.valueBlock.toJSON(),\r\n            name: this.name,\r\n            optional: this.optional,\r\n        };\r\n        if (this.primitiveSchema)\r\n            object.primitiveSchema = this.primitiveSchema.toJSON();\r\n        return object;\r\n    }\r\n    toString(encoding = \"ascii\") {\r\n        if (encoding === \"ascii\") {\r\n            return this.onAsciiEncoding();\r\n        }\r\n        return pvtsutils.Convert.ToHex(this.toBER());\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${pvtsutils.Convert.ToHex(this.valueBlock.valueBeforeDecodeView)}`;\r\n    }\r\n    isEqual(other) {\r\n        if (this === other) {\r\n            return true;\r\n        }\r\n        if (!(other instanceof this.constructor)) {\r\n            return false;\r\n        }\r\n        const thisRaw = this.toBER();\r\n        const otherRaw = other.toBER();\r\n        return pvutils.isEqualBuffer(thisRaw, otherRaw);\r\n    }\r\n}\r\nBaseBlock.NAME = \"BaseBlock\";\r\nfunction prepareIndefiniteForm(baseBlock) {\r\n    if (baseBlock instanceof typeStore.Constructed) {\r\n        for (const value of baseBlock.valueBlock.value) {\r\n            if (prepareIndefiniteForm(value)) {\r\n                baseBlock.lenBlock.isIndefiniteForm = true;\r\n            }\r\n        }\r\n    }\r\n    return !!baseBlock.lenBlock.isIndefiniteForm;\r\n}\n\nclass BaseStringBlock extends BaseBlock {\r\n    constructor({ value = EMPTY_STRING, ...parameters } = {}, stringValueBlockType) {\r\n        super(parameters, stringValueBlockType);\r\n        if (value) {\r\n            this.fromString(value);\r\n        }\r\n    }\r\n    getValue() {\r\n        return this.valueBlock.value;\r\n    }\r\n    setValue(value) {\r\n        this.valueBlock.value = value;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const resultOffset = this.valueBlock.fromBER(inputBuffer, inputOffset, (this.lenBlock.isIndefiniteForm) ? inputLength : this.lenBlock.length);\r\n        if (resultOffset === -1) {\r\n            this.error = this.valueBlock.error;\r\n            return resultOffset;\r\n        }\r\n        this.fromBuffer(this.valueBlock.valueHexView);\r\n        if (!this.idBlock.error.length)\r\n            this.blockLength += this.idBlock.blockLength;\r\n        if (!this.lenBlock.error.length)\r\n            this.blockLength += this.lenBlock.blockLength;\r\n        if (!this.valueBlock.error.length)\r\n            this.blockLength += this.valueBlock.blockLength;\r\n        return resultOffset;\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : '${this.valueBlock.value}'`;\r\n    }\r\n}\r\nBaseStringBlock.NAME = \"BaseStringBlock\";\n\nclass LocalPrimitiveValueBlock extends HexBlock(ValueBlock) {\r\n    constructor({ isHexOnly = true, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.isHexOnly = isHexOnly;\r\n    }\r\n}\r\nLocalPrimitiveValueBlock.NAME = \"PrimitiveValueBlock\";\n\nvar _a$w;\r\nclass Primitive extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalPrimitiveValueBlock);\r\n        this.idBlock.isConstructed = false;\r\n    }\r\n}\r\n_a$w = Primitive;\r\n(() => {\r\n    typeStore.Primitive = _a$w;\r\n})();\r\nPrimitive.NAME = \"PRIMITIVE\";\n\nfunction localChangeType(inputObject, newType) {\r\n    if (inputObject instanceof newType) {\r\n        return inputObject;\r\n    }\r\n    const newObject = new newType();\r\n    newObject.idBlock = inputObject.idBlock;\r\n    newObject.lenBlock = inputObject.lenBlock;\r\n    newObject.warnings = inputObject.warnings;\r\n    newObject.valueBeforeDecodeView = inputObject.valueBeforeDecodeView;\r\n    return newObject;\r\n}\r\nfunction localFromBER(inputBuffer, inputOffset = 0, inputLength = inputBuffer.length) {\r\n    const incomingOffset = inputOffset;\r\n    let returnObject = new BaseBlock({}, ValueBlock);\r\n    const baseBlock = new LocalBaseBlock();\r\n    if (!checkBufferParams(baseBlock, inputBuffer, inputOffset, inputLength)) {\r\n        returnObject.error = baseBlock.error;\r\n        return {\r\n            offset: -1,\r\n            result: returnObject\r\n        };\r\n    }\r\n    const intBuffer = inputBuffer.subarray(inputOffset, inputOffset + inputLength);\r\n    if (!intBuffer.length) {\r\n        returnObject.error = \"Zero buffer length\";\r\n        return {\r\n            offset: -1,\r\n            result: returnObject\r\n        };\r\n    }\r\n    let resultOffset = returnObject.idBlock.fromBER(inputBuffer, inputOffset, inputLength);\r\n    if (returnObject.idBlock.warnings.length) {\r\n        returnObject.warnings.concat(returnObject.idBlock.warnings);\r\n    }\r\n    if (resultOffset === -1) {\r\n        returnObject.error = returnObject.idBlock.error;\r\n        return {\r\n            offset: -1,\r\n            result: returnObject\r\n        };\r\n    }\r\n    inputOffset = resultOffset;\r\n    inputLength -= returnObject.idBlock.blockLength;\r\n    resultOffset = returnObject.lenBlock.fromBER(inputBuffer, inputOffset, inputLength);\r\n    if (returnObject.lenBlock.warnings.length) {\r\n        returnObject.warnings.concat(returnObject.lenBlock.warnings);\r\n    }\r\n    if (resultOffset === -1) {\r\n        returnObject.error = returnObject.lenBlock.error;\r\n        return {\r\n            offset: -1,\r\n            result: returnObject\r\n        };\r\n    }\r\n    inputOffset = resultOffset;\r\n    inputLength -= returnObject.lenBlock.blockLength;\r\n    if (!returnObject.idBlock.isConstructed &&\r\n        returnObject.lenBlock.isIndefiniteForm) {\r\n        returnObject.error = \"Indefinite length form used for primitive encoding form\";\r\n        return {\r\n            offset: -1,\r\n            result: returnObject\r\n        };\r\n    }\r\n    let newASN1Type = BaseBlock;\r\n    switch (returnObject.idBlock.tagClass) {\r\n        case 1:\r\n            if ((returnObject.idBlock.tagNumber >= 37) &&\r\n                (returnObject.idBlock.isHexOnly === false)) {\r\n                returnObject.error = \"UNIVERSAL 37 and upper tags are reserved by ASN.1 standard\";\r\n                return {\r\n                    offset: -1,\r\n                    result: returnObject\r\n                };\r\n            }\r\n            switch (returnObject.idBlock.tagNumber) {\r\n                case 0:\r\n                    if ((returnObject.idBlock.isConstructed) &&\r\n                        (returnObject.lenBlock.length > 0)) {\r\n                        returnObject.error = \"Type [UNIVERSAL 0] is reserved\";\r\n                        return {\r\n                            offset: -1,\r\n                            result: returnObject\r\n                        };\r\n                    }\r\n                    newASN1Type = typeStore.EndOfContent;\r\n                    break;\r\n                case 1:\r\n                    newASN1Type = typeStore.Boolean;\r\n                    break;\r\n                case 2:\r\n                    newASN1Type = typeStore.Integer;\r\n                    break;\r\n                case 3:\r\n                    newASN1Type = typeStore.BitString;\r\n                    break;\r\n                case 4:\r\n                    newASN1Type = typeStore.OctetString;\r\n                    break;\r\n                case 5:\r\n                    newASN1Type = typeStore.Null;\r\n                    break;\r\n                case 6:\r\n                    newASN1Type = typeStore.ObjectIdentifier;\r\n                    break;\r\n                case 10:\r\n                    newASN1Type = typeStore.Enumerated;\r\n                    break;\r\n                case 12:\r\n                    newASN1Type = typeStore.Utf8String;\r\n                    break;\r\n                case 13:\r\n                    newASN1Type = typeStore.RelativeObjectIdentifier;\r\n                    break;\r\n                case 14:\r\n                    newASN1Type = typeStore.TIME;\r\n                    break;\r\n                case 15:\r\n                    returnObject.error = \"[UNIVERSAL 15] is reserved by ASN.1 standard\";\r\n                    return {\r\n                        offset: -1,\r\n                        result: returnObject\r\n                    };\r\n                case 16:\r\n                    newASN1Type = typeStore.Sequence;\r\n                    break;\r\n                case 17:\r\n                    newASN1Type = typeStore.Set;\r\n                    break;\r\n                case 18:\r\n                    newASN1Type = typeStore.NumericString;\r\n                    break;\r\n                case 19:\r\n                    newASN1Type = typeStore.PrintableString;\r\n                    break;\r\n                case 20:\r\n                    newASN1Type = typeStore.TeletexString;\r\n                    break;\r\n                case 21:\r\n                    newASN1Type = typeStore.VideotexString;\r\n                    break;\r\n                case 22:\r\n                    newASN1Type = typeStore.IA5String;\r\n                    break;\r\n                case 23:\r\n                    newASN1Type = typeStore.UTCTime;\r\n                    break;\r\n                case 24:\r\n                    newASN1Type = typeStore.GeneralizedTime;\r\n                    break;\r\n                case 25:\r\n                    newASN1Type = typeStore.GraphicString;\r\n                    break;\r\n                case 26:\r\n                    newASN1Type = typeStore.VisibleString;\r\n                    break;\r\n                case 27:\r\n                    newASN1Type = typeStore.GeneralString;\r\n                    break;\r\n                case 28:\r\n                    newASN1Type = typeStore.UniversalString;\r\n                    break;\r\n                case 29:\r\n                    newASN1Type = typeStore.CharacterString;\r\n                    break;\r\n                case 30:\r\n                    newASN1Type = typeStore.BmpString;\r\n                    break;\r\n                case 31:\r\n                    newASN1Type = typeStore.DATE;\r\n                    break;\r\n                case 32:\r\n                    newASN1Type = typeStore.TimeOfDay;\r\n                    break;\r\n                case 33:\r\n                    newASN1Type = typeStore.DateTime;\r\n                    break;\r\n                case 34:\r\n                    newASN1Type = typeStore.Duration;\r\n                    break;\r\n                default: {\r\n                    const newObject = returnObject.idBlock.isConstructed\r\n                        ? new typeStore.Constructed()\r\n                        : new typeStore.Primitive();\r\n                    newObject.idBlock = returnObject.idBlock;\r\n                    newObject.lenBlock = returnObject.lenBlock;\r\n                    newObject.warnings = returnObject.warnings;\r\n                    returnObject = newObject;\r\n                }\r\n            }\r\n            break;\r\n        case 2:\r\n        case 3:\r\n        case 4:\r\n        default: {\r\n            newASN1Type = returnObject.idBlock.isConstructed\r\n                ? typeStore.Constructed\r\n                : typeStore.Primitive;\r\n        }\r\n    }\r\n    returnObject = localChangeType(returnObject, newASN1Type);\r\n    resultOffset = returnObject.fromBER(inputBuffer, inputOffset, returnObject.lenBlock.isIndefiniteForm ? inputLength : returnObject.lenBlock.length);\r\n    returnObject.valueBeforeDecodeView = inputBuffer.subarray(incomingOffset, incomingOffset + returnObject.blockLength);\r\n    return {\r\n        offset: resultOffset,\r\n        result: returnObject\r\n    };\r\n}\r\nfunction fromBER(inputBuffer) {\r\n    if (!inputBuffer.byteLength) {\r\n        const result = new BaseBlock({}, ValueBlock);\r\n        result.error = \"Input buffer has zero length\";\r\n        return {\r\n            offset: -1,\r\n            result\r\n        };\r\n    }\r\n    return localFromBER(pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer).slice(), 0, inputBuffer.byteLength);\r\n}\n\nfunction checkLen(indefiniteLength, length) {\r\n    if (indefiniteLength) {\r\n        return 1;\r\n    }\r\n    return length;\r\n}\r\nclass LocalConstructedValueBlock extends ValueBlock {\r\n    constructor({ value = [], isIndefiniteForm = false, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.value = value;\r\n        this.isIndefiniteForm = isIndefiniteForm;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const view = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, view, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        this.valueBeforeDecodeView = view.subarray(inputOffset, inputOffset + inputLength);\r\n        if (this.valueBeforeDecodeView.length === 0) {\r\n            this.warnings.push(\"Zero buffer length\");\r\n            return inputOffset;\r\n        }\r\n        let currentOffset = inputOffset;\r\n        while (checkLen(this.isIndefiniteForm, inputLength) > 0) {\r\n            const returnObject = localFromBER(view, currentOffset, inputLength);\r\n            if (returnObject.offset === -1) {\r\n                this.error = returnObject.result.error;\r\n                this.warnings.concat(returnObject.result.warnings);\r\n                return -1;\r\n            }\r\n            currentOffset = returnObject.offset;\r\n            this.blockLength += returnObject.result.blockLength;\r\n            inputLength -= returnObject.result.blockLength;\r\n            this.value.push(returnObject.result);\r\n            if (this.isIndefiniteForm && returnObject.result.constructor.NAME === END_OF_CONTENT_NAME) {\r\n                break;\r\n            }\r\n        }\r\n        if (this.isIndefiniteForm) {\r\n            if (this.value[this.value.length - 1].constructor.NAME === END_OF_CONTENT_NAME) {\r\n                this.value.pop();\r\n            }\r\n            else {\r\n                this.warnings.push(\"No EndOfContent block encoded\");\r\n            }\r\n        }\r\n        return currentOffset;\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        const _writer = writer || new ViewWriter();\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            this.value[i].toBER(sizeOnly, _writer);\r\n        }\r\n        if (!writer) {\r\n            return _writer.final();\r\n        }\r\n        return EMPTY_BUFFER;\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            ...super.toJSON(),\r\n            isIndefiniteForm: this.isIndefiniteForm,\r\n            value: [],\r\n        };\r\n        for (const value of this.value) {\r\n            object.value.push(value.toJSON());\r\n        }\r\n        return object;\r\n    }\r\n}\r\nLocalConstructedValueBlock.NAME = \"ConstructedValueBlock\";\n\nvar _a$v;\r\nclass Constructed extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalConstructedValueBlock);\r\n        this.idBlock.isConstructed = true;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        this.valueBlock.isIndefiniteForm = this.lenBlock.isIndefiniteForm;\r\n        const resultOffset = this.valueBlock.fromBER(inputBuffer, inputOffset, (this.lenBlock.isIndefiniteForm) ? inputLength : this.lenBlock.length);\r\n        if (resultOffset === -1) {\r\n            this.error = this.valueBlock.error;\r\n            return resultOffset;\r\n        }\r\n        if (!this.idBlock.error.length)\r\n            this.blockLength += this.idBlock.blockLength;\r\n        if (!this.lenBlock.error.length)\r\n            this.blockLength += this.lenBlock.blockLength;\r\n        if (!this.valueBlock.error.length)\r\n            this.blockLength += this.valueBlock.blockLength;\r\n        return resultOffset;\r\n    }\r\n    onAsciiEncoding() {\r\n        const values = [];\r\n        for (const value of this.valueBlock.value) {\r\n            values.push(value.toString(\"ascii\").split(\"\\n\").map(o => `  ${o}`).join(\"\\n\"));\r\n        }\r\n        const blockName = this.idBlock.tagClass === 3\r\n            ? `[${this.idBlock.tagNumber}]`\r\n            : this.constructor.NAME;\r\n        return values.length\r\n            ? `${blockName} :\\n${values.join(\"\\n\")}`\r\n            : `${blockName} :`;\r\n    }\r\n}\r\n_a$v = Constructed;\r\n(() => {\r\n    typeStore.Constructed = _a$v;\r\n})();\r\nConstructed.NAME = \"CONSTRUCTED\";\n\nclass LocalEndOfContentValueBlock extends ValueBlock {\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        return inputOffset;\r\n    }\r\n    toBER(sizeOnly) {\r\n        return EMPTY_BUFFER;\r\n    }\r\n}\r\nLocalEndOfContentValueBlock.override = \"EndOfContentValueBlock\";\n\nvar _a$u;\r\nclass EndOfContent extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalEndOfContentValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 0;\r\n    }\r\n}\r\n_a$u = EndOfContent;\r\n(() => {\r\n    typeStore.EndOfContent = _a$u;\r\n})();\r\nEndOfContent.NAME = END_OF_CONTENT_NAME;\n\nvar _a$t;\r\nclass Null extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, ValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 5;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        if (this.lenBlock.length > 0)\r\n            this.warnings.push(\"Non-zero length of value block for Null type\");\r\n        if (!this.idBlock.error.length)\r\n            this.blockLength += this.idBlock.blockLength;\r\n        if (!this.lenBlock.error.length)\r\n            this.blockLength += this.lenBlock.blockLength;\r\n        this.blockLength += inputLength;\r\n        if ((inputOffset + inputLength) > inputBuffer.byteLength) {\r\n            this.error = \"End of input reached before message was fully decoded (inconsistent offset and length values)\";\r\n            return -1;\r\n        }\r\n        return (inputOffset + inputLength);\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        const retBuf = new ArrayBuffer(2);\r\n        if (!sizeOnly) {\r\n            const retView = new Uint8Array(retBuf);\r\n            retView[0] = 0x05;\r\n            retView[1] = 0x00;\r\n        }\r\n        if (writer) {\r\n            writer.write(retBuf);\r\n        }\r\n        return retBuf;\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME}`;\r\n    }\r\n}\r\n_a$t = Null;\r\n(() => {\r\n    typeStore.Null = _a$t;\r\n})();\r\nNull.NAME = \"NULL\";\n\nclass LocalBooleanValueBlock extends HexBlock(ValueBlock) {\r\n    constructor({ value, ...parameters } = {}) {\r\n        super(parameters);\r\n        if (parameters.valueHex) {\r\n            this.valueHexView = pvtsutils.BufferSourceConverter.toUint8Array(parameters.valueHex);\r\n        }\r\n        else {\r\n            this.valueHexView = new Uint8Array(1);\r\n        }\r\n        if (value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n    get value() {\r\n        for (const octet of this.valueHexView) {\r\n            if (octet > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    set value(value) {\r\n        this.valueHexView[0] = value ? 0xFF : 0x00;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const inputView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, inputView, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        this.valueHexView = inputView.subarray(inputOffset, inputOffset + inputLength);\r\n        if (inputLength > 1)\r\n            this.warnings.push(\"Boolean value encoded in more then 1 octet\");\r\n        this.isHexOnly = true;\r\n        pvutils.utilDecodeTC.call(this);\r\n        this.blockLength = inputLength;\r\n        return (inputOffset + inputLength);\r\n    }\r\n    toBER() {\r\n        return this.valueHexView.slice();\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            value: this.value,\r\n        };\r\n    }\r\n}\r\nLocalBooleanValueBlock.NAME = \"BooleanValueBlock\";\n\nvar _a$s;\r\nclass Boolean extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalBooleanValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 1;\r\n    }\r\n    getValue() {\r\n        return this.valueBlock.value;\r\n    }\r\n    setValue(value) {\r\n        this.valueBlock.value = value;\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${this.getValue}`;\r\n    }\r\n}\r\n_a$s = Boolean;\r\n(() => {\r\n    typeStore.Boolean = _a$s;\r\n})();\r\nBoolean.NAME = \"BOOLEAN\";\n\nclass LocalOctetStringValueBlock extends HexBlock(LocalConstructedValueBlock) {\r\n    constructor({ isConstructed = false, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.isConstructed = isConstructed;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        let resultOffset = 0;\r\n        if (this.isConstructed) {\r\n            this.isHexOnly = false;\r\n            resultOffset = LocalConstructedValueBlock.prototype.fromBER.call(this, inputBuffer, inputOffset, inputLength);\r\n            if (resultOffset === -1)\r\n                return resultOffset;\r\n            for (let i = 0; i < this.value.length; i++) {\r\n                const currentBlockName = this.value[i].constructor.NAME;\r\n                if (currentBlockName === END_OF_CONTENT_NAME) {\r\n                    if (this.isIndefiniteForm)\r\n                        break;\r\n                    else {\r\n                        this.error = \"EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only\";\r\n                        return -1;\r\n                    }\r\n                }\r\n                if (currentBlockName !== OCTET_STRING_NAME) {\r\n                    this.error = \"OCTET STRING may consists of OCTET STRINGs only\";\r\n                    return -1;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.isHexOnly = true;\r\n            resultOffset = super.fromBER(inputBuffer, inputOffset, inputLength);\r\n            this.blockLength = inputLength;\r\n        }\r\n        return resultOffset;\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        if (this.isConstructed)\r\n            return LocalConstructedValueBlock.prototype.toBER.call(this, sizeOnly, writer);\r\n        return sizeOnly\r\n            ? new ArrayBuffer(this.valueHexView.byteLength)\r\n            : this.valueHexView.slice().buffer;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            isConstructed: this.isConstructed,\r\n        };\r\n    }\r\n}\r\nLocalOctetStringValueBlock.NAME = \"OctetStringValueBlock\";\n\nvar _a$r;\r\nclass OctetString extends BaseBlock {\r\n    constructor({ idBlock = {}, lenBlock = {}, ...parameters } = {}) {\r\n        var _b, _c;\r\n        (_b = parameters.isConstructed) !== null && _b !== void 0 ? _b : (parameters.isConstructed = !!((_c = parameters.value) === null || _c === void 0 ? void 0 : _c.length));\r\n        super({\r\n            idBlock: {\r\n                isConstructed: parameters.isConstructed,\r\n                ...idBlock,\r\n            },\r\n            lenBlock: {\r\n                ...lenBlock,\r\n                isIndefiniteForm: !!parameters.isIndefiniteForm,\r\n            },\r\n            ...parameters,\r\n        }, LocalOctetStringValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 4;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        this.valueBlock.isConstructed = this.idBlock.isConstructed;\r\n        this.valueBlock.isIndefiniteForm = this.lenBlock.isIndefiniteForm;\r\n        if (inputLength === 0) {\r\n            if (this.idBlock.error.length === 0)\r\n                this.blockLength += this.idBlock.blockLength;\r\n            if (this.lenBlock.error.length === 0)\r\n                this.blockLength += this.lenBlock.blockLength;\r\n            return inputOffset;\r\n        }\r\n        if (!this.valueBlock.isConstructed) {\r\n            const view = inputBuffer instanceof ArrayBuffer ? new Uint8Array(inputBuffer) : inputBuffer;\r\n            const buf = view.subarray(inputOffset, inputOffset + inputLength);\r\n            try {\r\n                if (buf.byteLength) {\r\n                    const asn = localFromBER(buf, 0, buf.byteLength);\r\n                    if (asn.offset !== -1 && asn.offset === inputLength) {\r\n                        this.valueBlock.value = [asn.result];\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n        }\r\n        return super.fromBER(inputBuffer, inputOffset, inputLength);\r\n    }\r\n    onAsciiEncoding() {\r\n        if (this.valueBlock.isConstructed || (this.valueBlock.value && this.valueBlock.value.length)) {\r\n            return Constructed.prototype.onAsciiEncoding.call(this);\r\n        }\r\n        return `${this.constructor.NAME} : ${pvtsutils.Convert.ToHex(this.valueBlock.valueHexView)}`;\r\n    }\r\n    getValue() {\r\n        if (!this.idBlock.isConstructed) {\r\n            return this.valueBlock.valueHexView.slice().buffer;\r\n        }\r\n        const array = [];\r\n        for (const content of this.valueBlock.value) {\r\n            if (content instanceof OctetString) {\r\n                array.push(content.valueBlock.valueHexView);\r\n            }\r\n        }\r\n        return pvtsutils.BufferSourceConverter.concat(array);\r\n    }\r\n}\r\n_a$r = OctetString;\r\n(() => {\r\n    typeStore.OctetString = _a$r;\r\n})();\r\nOctetString.NAME = OCTET_STRING_NAME;\n\nclass LocalBitStringValueBlock extends HexBlock(LocalConstructedValueBlock) {\r\n    constructor({ unusedBits = 0, isConstructed = false, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.unusedBits = unusedBits;\r\n        this.isConstructed = isConstructed;\r\n        this.blockLength = this.valueHexView.byteLength;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        if (!inputLength) {\r\n            return inputOffset;\r\n        }\r\n        let resultOffset = -1;\r\n        if (this.isConstructed) {\r\n            resultOffset = LocalConstructedValueBlock.prototype.fromBER.call(this, inputBuffer, inputOffset, inputLength);\r\n            if (resultOffset === -1)\r\n                return resultOffset;\r\n            for (const value of this.value) {\r\n                const currentBlockName = value.constructor.NAME;\r\n                if (currentBlockName === END_OF_CONTENT_NAME) {\r\n                    if (this.isIndefiniteForm)\r\n                        break;\r\n                    else {\r\n                        this.error = \"EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only\";\r\n                        return -1;\r\n                    }\r\n                }\r\n                if (currentBlockName !== BIT_STRING_NAME) {\r\n                    this.error = \"BIT STRING may consists of BIT STRINGs only\";\r\n                    return -1;\r\n                }\r\n                const valueBlock = value.valueBlock;\r\n                if ((this.unusedBits > 0) && (valueBlock.unusedBits > 0)) {\r\n                    this.error = \"Using of \\\"unused bits\\\" inside constructive BIT STRING allowed for least one only\";\r\n                    return -1;\r\n                }\r\n                this.unusedBits = valueBlock.unusedBits;\r\n            }\r\n            return resultOffset;\r\n        }\r\n        const inputView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, inputView, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        const intBuffer = inputView.subarray(inputOffset, inputOffset + inputLength);\r\n        this.unusedBits = intBuffer[0];\r\n        if (this.unusedBits > 7) {\r\n            this.error = \"Unused bits for BitString must be in range 0-7\";\r\n            return -1;\r\n        }\r\n        if (!this.unusedBits) {\r\n            const buf = intBuffer.subarray(1);\r\n            try {\r\n                if (buf.byteLength) {\r\n                    const asn = localFromBER(buf, 0, buf.byteLength);\r\n                    if (asn.offset !== -1 && asn.offset === (inputLength - 1)) {\r\n                        this.value = [asn.result];\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n            }\r\n        }\r\n        this.valueHexView = intBuffer.subarray(1);\r\n        this.blockLength = intBuffer.length;\r\n        return (inputOffset + inputLength);\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        if (this.isConstructed) {\r\n            return LocalConstructedValueBlock.prototype.toBER.call(this, sizeOnly, writer);\r\n        }\r\n        if (sizeOnly) {\r\n            return new ArrayBuffer(this.valueHexView.byteLength + 1);\r\n        }\r\n        if (!this.valueHexView.byteLength) {\r\n            return EMPTY_BUFFER;\r\n        }\r\n        const retView = new Uint8Array(this.valueHexView.length + 1);\r\n        retView[0] = this.unusedBits;\r\n        retView.set(this.valueHexView, 1);\r\n        return retView.buffer;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            unusedBits: this.unusedBits,\r\n            isConstructed: this.isConstructed,\r\n        };\r\n    }\r\n}\r\nLocalBitStringValueBlock.NAME = \"BitStringValueBlock\";\n\nvar _a$q;\r\nclass BitString extends BaseBlock {\r\n    constructor({ idBlock = {}, lenBlock = {}, ...parameters } = {}) {\r\n        var _b, _c;\r\n        (_b = parameters.isConstructed) !== null && _b !== void 0 ? _b : (parameters.isConstructed = !!((_c = parameters.value) === null || _c === void 0 ? void 0 : _c.length));\r\n        super({\r\n            idBlock: {\r\n                isConstructed: parameters.isConstructed,\r\n                ...idBlock,\r\n            },\r\n            lenBlock: {\r\n                ...lenBlock,\r\n                isIndefiniteForm: !!parameters.isIndefiniteForm,\r\n            },\r\n            ...parameters,\r\n        }, LocalBitStringValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 3;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        this.valueBlock.isConstructed = this.idBlock.isConstructed;\r\n        this.valueBlock.isIndefiniteForm = this.lenBlock.isIndefiniteForm;\r\n        return super.fromBER(inputBuffer, inputOffset, inputLength);\r\n    }\r\n    onAsciiEncoding() {\r\n        if (this.valueBlock.isConstructed || (this.valueBlock.value && this.valueBlock.value.length)) {\r\n            return Constructed.prototype.onAsciiEncoding.call(this);\r\n        }\r\n        else {\r\n            const bits = [];\r\n            const valueHex = this.valueBlock.valueHexView;\r\n            for (const byte of valueHex) {\r\n                bits.push(byte.toString(2).padStart(8, \"0\"));\r\n            }\r\n            const bitsStr = bits.join(\"\");\r\n            return `${this.constructor.NAME} : ${bitsStr.substring(0, bitsStr.length - this.valueBlock.unusedBits)}`;\r\n        }\r\n    }\r\n}\r\n_a$q = BitString;\r\n(() => {\r\n    typeStore.BitString = _a$q;\r\n})();\r\nBitString.NAME = BIT_STRING_NAME;\n\nvar _a$p;\r\nfunction viewAdd(first, second) {\r\n    const c = new Uint8Array([0]);\r\n    const firstView = new Uint8Array(first);\r\n    const secondView = new Uint8Array(second);\r\n    let firstViewCopy = firstView.slice(0);\r\n    const firstViewCopyLength = firstViewCopy.length - 1;\r\n    const secondViewCopy = secondView.slice(0);\r\n    const secondViewCopyLength = secondViewCopy.length - 1;\r\n    let value = 0;\r\n    const max = (secondViewCopyLength < firstViewCopyLength) ? firstViewCopyLength : secondViewCopyLength;\r\n    let counter = 0;\r\n    for (let i = max; i >= 0; i--, counter++) {\r\n        switch (true) {\r\n            case (counter < secondViewCopy.length):\r\n                value = firstViewCopy[firstViewCopyLength - counter] + secondViewCopy[secondViewCopyLength - counter] + c[0];\r\n                break;\r\n            default:\r\n                value = firstViewCopy[firstViewCopyLength - counter] + c[0];\r\n        }\r\n        c[0] = value / 10;\r\n        switch (true) {\r\n            case (counter >= firstViewCopy.length):\r\n                firstViewCopy = pvutils.utilConcatView(new Uint8Array([value % 10]), firstViewCopy);\r\n                break;\r\n            default:\r\n                firstViewCopy[firstViewCopyLength - counter] = value % 10;\r\n        }\r\n    }\r\n    if (c[0] > 0)\r\n        firstViewCopy = pvutils.utilConcatView(c, firstViewCopy);\r\n    return firstViewCopy;\r\n}\r\nfunction power2(n) {\r\n    if (n >= powers2.length) {\r\n        for (let p = powers2.length; p <= n; p++) {\r\n            const c = new Uint8Array([0]);\r\n            let digits = (powers2[p - 1]).slice(0);\r\n            for (let i = (digits.length - 1); i >= 0; i--) {\r\n                const newValue = new Uint8Array([(digits[i] << 1) + c[0]]);\r\n                c[0] = newValue[0] / 10;\r\n                digits[i] = newValue[0] % 10;\r\n            }\r\n            if (c[0] > 0)\r\n                digits = pvutils.utilConcatView(c, digits);\r\n            powers2.push(digits);\r\n        }\r\n    }\r\n    return powers2[n];\r\n}\r\nfunction viewSub(first, second) {\r\n    let b = 0;\r\n    const firstView = new Uint8Array(first);\r\n    const secondView = new Uint8Array(second);\r\n    const firstViewCopy = firstView.slice(0);\r\n    const firstViewCopyLength = firstViewCopy.length - 1;\r\n    const secondViewCopy = secondView.slice(0);\r\n    const secondViewCopyLength = secondViewCopy.length - 1;\r\n    let value;\r\n    let counter = 0;\r\n    for (let i = secondViewCopyLength; i >= 0; i--, counter++) {\r\n        value = firstViewCopy[firstViewCopyLength - counter] - secondViewCopy[secondViewCopyLength - counter] - b;\r\n        switch (true) {\r\n            case (value < 0):\r\n                b = 1;\r\n                firstViewCopy[firstViewCopyLength - counter] = value + 10;\r\n                break;\r\n            default:\r\n                b = 0;\r\n                firstViewCopy[firstViewCopyLength - counter] = value;\r\n        }\r\n    }\r\n    if (b > 0) {\r\n        for (let i = (firstViewCopyLength - secondViewCopyLength + 1); i >= 0; i--, counter++) {\r\n            value = firstViewCopy[firstViewCopyLength - counter] - b;\r\n            if (value < 0) {\r\n                b = 1;\r\n                firstViewCopy[firstViewCopyLength - counter] = value + 10;\r\n            }\r\n            else {\r\n                b = 0;\r\n                firstViewCopy[firstViewCopyLength - counter] = value;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return firstViewCopy.slice();\r\n}\r\nclass LocalIntegerValueBlock extends HexBlock(ValueBlock) {\r\n    constructor({ value, ...parameters } = {}) {\r\n        super(parameters);\r\n        this._valueDec = 0;\r\n        if (parameters.valueHex) {\r\n            this.setValueHex();\r\n        }\r\n        if (value !== undefined) {\r\n            this.valueDec = value;\r\n        }\r\n    }\r\n    setValueHex() {\r\n        if (this.valueHexView.length >= 4) {\r\n            this.warnings.push(\"Too big Integer for decoding, hex only\");\r\n            this.isHexOnly = true;\r\n            this._valueDec = 0;\r\n        }\r\n        else {\r\n            this.isHexOnly = false;\r\n            if (this.valueHexView.length > 0) {\r\n                this._valueDec = pvutils.utilDecodeTC.call(this);\r\n            }\r\n        }\r\n    }\r\n    set valueDec(v) {\r\n        this._valueDec = v;\r\n        this.isHexOnly = false;\r\n        this.valueHexView = new Uint8Array(pvutils.utilEncodeTC(v));\r\n    }\r\n    get valueDec() {\r\n        return this._valueDec;\r\n    }\r\n    fromDER(inputBuffer, inputOffset, inputLength, expectedLength = 0) {\r\n        const offset = this.fromBER(inputBuffer, inputOffset, inputLength);\r\n        if (offset === -1)\r\n            return offset;\r\n        const view = this.valueHexView;\r\n        if ((view[0] === 0x00) && ((view[1] & 0x80) !== 0)) {\r\n            this.valueHexView = view.subarray(1);\r\n        }\r\n        else {\r\n            if (expectedLength !== 0) {\r\n                if (view.length < expectedLength) {\r\n                    if ((expectedLength - view.length) > 1)\r\n                        expectedLength = view.length + 1;\r\n                    this.valueHexView = view.subarray(expectedLength - view.length);\r\n                }\r\n            }\r\n        }\r\n        return offset;\r\n    }\r\n    toDER(sizeOnly = false) {\r\n        const view = this.valueHexView;\r\n        switch (true) {\r\n            case ((view[0] & 0x80) !== 0):\r\n                {\r\n                    const updatedView = new Uint8Array(this.valueHexView.length + 1);\r\n                    updatedView[0] = 0x00;\r\n                    updatedView.set(view, 1);\r\n                    this.valueHexView = updatedView;\r\n                }\r\n                break;\r\n            case ((view[0] === 0x00) && ((view[1] & 0x80) === 0)):\r\n                {\r\n                    this.valueHexView = this.valueHexView.subarray(1);\r\n                }\r\n                break;\r\n        }\r\n        return this.toBER(sizeOnly);\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const resultOffset = super.fromBER(inputBuffer, inputOffset, inputLength);\r\n        if (resultOffset === -1) {\r\n            return resultOffset;\r\n        }\r\n        this.setValueHex();\r\n        return resultOffset;\r\n    }\r\n    toBER(sizeOnly) {\r\n        return sizeOnly\r\n            ? new ArrayBuffer(this.valueHexView.length)\r\n            : this.valueHexView.slice().buffer;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            valueDec: this.valueDec,\r\n        };\r\n    }\r\n    toString() {\r\n        const firstBit = (this.valueHexView.length * 8) - 1;\r\n        let digits = new Uint8Array((this.valueHexView.length * 8) / 3);\r\n        let bitNumber = 0;\r\n        let currentByte;\r\n        const asn1View = this.valueHexView;\r\n        let result = \"\";\r\n        let flag = false;\r\n        for (let byteNumber = (asn1View.byteLength - 1); byteNumber >= 0; byteNumber--) {\r\n            currentByte = asn1View[byteNumber];\r\n            for (let i = 0; i < 8; i++) {\r\n                if ((currentByte & 1) === 1) {\r\n                    switch (bitNumber) {\r\n                        case firstBit:\r\n                            digits = viewSub(power2(bitNumber), digits);\r\n                            result = \"-\";\r\n                            break;\r\n                        default:\r\n                            digits = viewAdd(digits, power2(bitNumber));\r\n                    }\r\n                }\r\n                bitNumber++;\r\n                currentByte >>= 1;\r\n            }\r\n        }\r\n        for (let i = 0; i < digits.length; i++) {\r\n            if (digits[i])\r\n                flag = true;\r\n            if (flag)\r\n                result += digitsString.charAt(digits[i]);\r\n        }\r\n        if (flag === false)\r\n            result += digitsString.charAt(0);\r\n        return result;\r\n    }\r\n}\r\n_a$p = LocalIntegerValueBlock;\r\nLocalIntegerValueBlock.NAME = \"IntegerValueBlock\";\r\n(() => {\r\n    Object.defineProperty(_a$p.prototype, \"valueHex\", {\r\n        set: function (v) {\r\n            this.valueHexView = new Uint8Array(v);\r\n            this.setValueHex();\r\n        },\r\n        get: function () {\r\n            return this.valueHexView.slice().buffer;\r\n        },\r\n    });\r\n})();\n\nvar _a$o;\r\nclass Integer extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalIntegerValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 2;\r\n    }\r\n    toBigInt() {\r\n        assertBigInt();\r\n        return BigInt(this.valueBlock.toString());\r\n    }\r\n    static fromBigInt(value) {\r\n        assertBigInt();\r\n        const bigIntValue = BigInt(value);\r\n        const writer = new ViewWriter();\r\n        const hex = bigIntValue.toString(16).replace(/^-/, \"\");\r\n        const view = new Uint8Array(pvtsutils.Convert.FromHex(hex));\r\n        if (bigIntValue < 0) {\r\n            const first = new Uint8Array(view.length + (view[0] & 0x80 ? 1 : 0));\r\n            first[0] |= 0x80;\r\n            const firstInt = BigInt(`0x${pvtsutils.Convert.ToHex(first)}`);\r\n            const secondInt = firstInt + bigIntValue;\r\n            const second = pvtsutils.BufferSourceConverter.toUint8Array(pvtsutils.Convert.FromHex(secondInt.toString(16)));\r\n            second[0] |= 0x80;\r\n            writer.write(second);\r\n        }\r\n        else {\r\n            if (view[0] & 0x80) {\r\n                writer.write(new Uint8Array([0]));\r\n            }\r\n            writer.write(view);\r\n        }\r\n        const res = new Integer({\r\n            valueHex: writer.final(),\r\n        });\r\n        return res;\r\n    }\r\n    convertToDER() {\r\n        const integer = new Integer({ valueHex: this.valueBlock.valueHexView });\r\n        integer.valueBlock.toDER();\r\n        return integer;\r\n    }\r\n    convertFromDER() {\r\n        return new Integer({\r\n            valueHex: this.valueBlock.valueHexView[0] === 0\r\n                ? this.valueBlock.valueHexView.subarray(1)\r\n                : this.valueBlock.valueHexView,\r\n        });\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${this.valueBlock.toString()}`;\r\n    }\r\n}\r\n_a$o = Integer;\r\n(() => {\r\n    typeStore.Integer = _a$o;\r\n})();\r\nInteger.NAME = \"INTEGER\";\n\nvar _a$n;\r\nclass Enumerated extends Integer {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 10;\r\n    }\r\n}\r\n_a$n = Enumerated;\r\n(() => {\r\n    typeStore.Enumerated = _a$n;\r\n})();\r\nEnumerated.NAME = \"ENUMERATED\";\n\nclass LocalSidValueBlock extends HexBlock(ValueBlock) {\r\n    constructor({ valueDec = -1, isFirstSid = false, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.valueDec = valueDec;\r\n        this.isFirstSid = isFirstSid;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        if (!inputLength) {\r\n            return inputOffset;\r\n        }\r\n        const inputView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, inputView, inputOffset, inputLength)) {\r\n            return -1;\r\n        }\r\n        const intBuffer = inputView.subarray(inputOffset, inputOffset + inputLength);\r\n        this.valueHexView = new Uint8Array(inputLength);\r\n        for (let i = 0; i < inputLength; i++) {\r\n            this.valueHexView[i] = intBuffer[i] & 0x7F;\r\n            this.blockLength++;\r\n            if ((intBuffer[i] & 0x80) === 0x00)\r\n                break;\r\n        }\r\n        const tempView = new Uint8Array(this.blockLength);\r\n        for (let i = 0; i < this.blockLength; i++) {\r\n            tempView[i] = this.valueHexView[i];\r\n        }\r\n        this.valueHexView = tempView;\r\n        if ((intBuffer[this.blockLength - 1] & 0x80) !== 0x00) {\r\n            this.error = \"End of input reached before message was fully decoded\";\r\n            return -1;\r\n        }\r\n        if (this.valueHexView[0] === 0x00)\r\n            this.warnings.push(\"Needlessly long format of SID encoding\");\r\n        if (this.blockLength <= 8)\r\n            this.valueDec = pvutils.utilFromBase(this.valueHexView, 7);\r\n        else {\r\n            this.isHexOnly = true;\r\n            this.warnings.push(\"Too big SID for decoding, hex only\");\r\n        }\r\n        return (inputOffset + this.blockLength);\r\n    }\r\n    set valueBigInt(value) {\r\n        assertBigInt();\r\n        let bits = BigInt(value).toString(2);\r\n        while (bits.length % 7) {\r\n            bits = \"0\" + bits;\r\n        }\r\n        const bytes = new Uint8Array(bits.length / 7);\r\n        for (let i = 0; i < bytes.length; i++) {\r\n            bytes[i] = parseInt(bits.slice(i * 7, i * 7 + 7), 2) + (i + 1 < bytes.length ? 0x80 : 0);\r\n        }\r\n        this.fromBER(bytes.buffer, 0, bytes.length);\r\n    }\r\n    toBER(sizeOnly) {\r\n        if (this.isHexOnly) {\r\n            if (sizeOnly)\r\n                return (new ArrayBuffer(this.valueHexView.byteLength));\r\n            const curView = this.valueHexView;\r\n            const retView = new Uint8Array(this.blockLength);\r\n            for (let i = 0; i < (this.blockLength - 1); i++)\r\n                retView[i] = curView[i] | 0x80;\r\n            retView[this.blockLength - 1] = curView[this.blockLength - 1];\r\n            return retView.buffer;\r\n        }\r\n        const encodedBuf = pvutils.utilToBase(this.valueDec, 7);\r\n        if (encodedBuf.byteLength === 0) {\r\n            this.error = \"Error during encoding SID value\";\r\n            return EMPTY_BUFFER;\r\n        }\r\n        const retView = new Uint8Array(encodedBuf.byteLength);\r\n        if (!sizeOnly) {\r\n            const encodedView = new Uint8Array(encodedBuf);\r\n            const len = encodedBuf.byteLength - 1;\r\n            for (let i = 0; i < len; i++)\r\n                retView[i] = encodedView[i] | 0x80;\r\n            retView[len] = encodedView[len];\r\n        }\r\n        return retView;\r\n    }\r\n    toString() {\r\n        let result = \"\";\r\n        if (this.isHexOnly)\r\n            result = pvtsutils.Convert.ToHex(this.valueHexView);\r\n        else {\r\n            if (this.isFirstSid) {\r\n                let sidValue = this.valueDec;\r\n                if (this.valueDec <= 39)\r\n                    result = \"0.\";\r\n                else {\r\n                    if (this.valueDec <= 79) {\r\n                        result = \"1.\";\r\n                        sidValue -= 40;\r\n                    }\r\n                    else {\r\n                        result = \"2.\";\r\n                        sidValue -= 80;\r\n                    }\r\n                }\r\n                result += sidValue.toString();\r\n            }\r\n            else\r\n                result = this.valueDec.toString();\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            valueDec: this.valueDec,\r\n            isFirstSid: this.isFirstSid,\r\n        };\r\n    }\r\n}\r\nLocalSidValueBlock.NAME = \"sidBlock\";\n\nclass LocalObjectIdentifierValueBlock extends ValueBlock {\r\n    constructor({ value = EMPTY_STRING, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.value = [];\r\n        if (value) {\r\n            this.fromString(value);\r\n        }\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        let resultOffset = inputOffset;\r\n        while (inputLength > 0) {\r\n            const sidBlock = new LocalSidValueBlock();\r\n            resultOffset = sidBlock.fromBER(inputBuffer, resultOffset, inputLength);\r\n            if (resultOffset === -1) {\r\n                this.blockLength = 0;\r\n                this.error = sidBlock.error;\r\n                return resultOffset;\r\n            }\r\n            if (this.value.length === 0)\r\n                sidBlock.isFirstSid = true;\r\n            this.blockLength += sidBlock.blockLength;\r\n            inputLength -= sidBlock.blockLength;\r\n            this.value.push(sidBlock);\r\n        }\r\n        return resultOffset;\r\n    }\r\n    toBER(sizeOnly) {\r\n        const retBuffers = [];\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            const valueBuf = this.value[i].toBER(sizeOnly);\r\n            if (valueBuf.byteLength === 0) {\r\n                this.error = this.value[i].error;\r\n                return EMPTY_BUFFER;\r\n            }\r\n            retBuffers.push(valueBuf);\r\n        }\r\n        return concat(retBuffers);\r\n    }\r\n    fromString(string) {\r\n        this.value = [];\r\n        let pos1 = 0;\r\n        let pos2 = 0;\r\n        let sid = \"\";\r\n        let flag = false;\r\n        do {\r\n            pos2 = string.indexOf(\".\", pos1);\r\n            if (pos2 === -1)\r\n                sid = string.substring(pos1);\r\n            else\r\n                sid = string.substring(pos1, pos2);\r\n            pos1 = pos2 + 1;\r\n            if (flag) {\r\n                const sidBlock = this.value[0];\r\n                let plus = 0;\r\n                switch (sidBlock.valueDec) {\r\n                    case 0:\r\n                        break;\r\n                    case 1:\r\n                        plus = 40;\r\n                        break;\r\n                    case 2:\r\n                        plus = 80;\r\n                        break;\r\n                    default:\r\n                        this.value = [];\r\n                        return;\r\n                }\r\n                const parsedSID = parseInt(sid, 10);\r\n                if (isNaN(parsedSID))\r\n                    return;\r\n                sidBlock.valueDec = parsedSID + plus;\r\n                flag = false;\r\n            }\r\n            else {\r\n                const sidBlock = new LocalSidValueBlock();\r\n                if (sid > Number.MAX_SAFE_INTEGER) {\r\n                    assertBigInt();\r\n                    const sidValue = BigInt(sid);\r\n                    sidBlock.valueBigInt = sidValue;\r\n                }\r\n                else {\r\n                    sidBlock.valueDec = parseInt(sid, 10);\r\n                    if (isNaN(sidBlock.valueDec))\r\n                        return;\r\n                }\r\n                if (!this.value.length) {\r\n                    sidBlock.isFirstSid = true;\r\n                    flag = true;\r\n                }\r\n                this.value.push(sidBlock);\r\n            }\r\n        } while (pos2 !== -1);\r\n    }\r\n    toString() {\r\n        let result = \"\";\r\n        let isHexOnly = false;\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            isHexOnly = this.value[i].isHexOnly;\r\n            let sidStr = this.value[i].toString();\r\n            if (i !== 0)\r\n                result = `${result}.`;\r\n            if (isHexOnly) {\r\n                sidStr = `{${sidStr}}`;\r\n                if (this.value[i].isFirstSid)\r\n                    result = `2.{${sidStr} - 80}`;\r\n                else\r\n                    result += sidStr;\r\n            }\r\n            else\r\n                result += sidStr;\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            ...super.toJSON(),\r\n            value: this.toString(),\r\n            sidArray: [],\r\n        };\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            object.sidArray.push(this.value[i].toJSON());\r\n        }\r\n        return object;\r\n    }\r\n}\r\nLocalObjectIdentifierValueBlock.NAME = \"ObjectIdentifierValueBlock\";\n\nvar _a$m;\r\nclass ObjectIdentifier extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalObjectIdentifierValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 6;\r\n    }\r\n    getValue() {\r\n        return this.valueBlock.toString();\r\n    }\r\n    setValue(value) {\r\n        this.valueBlock.fromString(value);\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${this.valueBlock.toString() || \"empty\"}`;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            value: this.getValue(),\r\n        };\r\n    }\r\n}\r\n_a$m = ObjectIdentifier;\r\n(() => {\r\n    typeStore.ObjectIdentifier = _a$m;\r\n})();\r\nObjectIdentifier.NAME = \"OBJECT IDENTIFIER\";\n\nclass LocalRelativeSidValueBlock extends HexBlock(LocalBaseBlock) {\r\n    constructor({ valueDec = 0, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.valueDec = valueDec;\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        if (inputLength === 0)\r\n            return inputOffset;\r\n        const inputView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        if (!checkBufferParams(this, inputView, inputOffset, inputLength))\r\n            return -1;\r\n        const intBuffer = inputView.subarray(inputOffset, inputOffset + inputLength);\r\n        this.valueHexView = new Uint8Array(inputLength);\r\n        for (let i = 0; i < inputLength; i++) {\r\n            this.valueHexView[i] = intBuffer[i] & 0x7F;\r\n            this.blockLength++;\r\n            if ((intBuffer[i] & 0x80) === 0x00)\r\n                break;\r\n        }\r\n        const tempView = new Uint8Array(this.blockLength);\r\n        for (let i = 0; i < this.blockLength; i++)\r\n            tempView[i] = this.valueHexView[i];\r\n        this.valueHexView = tempView;\r\n        if ((intBuffer[this.blockLength - 1] & 0x80) !== 0x00) {\r\n            this.error = \"End of input reached before message was fully decoded\";\r\n            return -1;\r\n        }\r\n        if (this.valueHexView[0] === 0x00)\r\n            this.warnings.push(\"Needlessly long format of SID encoding\");\r\n        if (this.blockLength <= 8)\r\n            this.valueDec = pvutils.utilFromBase(this.valueHexView, 7);\r\n        else {\r\n            this.isHexOnly = true;\r\n            this.warnings.push(\"Too big SID for decoding, hex only\");\r\n        }\r\n        return (inputOffset + this.blockLength);\r\n    }\r\n    toBER(sizeOnly) {\r\n        if (this.isHexOnly) {\r\n            if (sizeOnly)\r\n                return (new ArrayBuffer(this.valueHexView.byteLength));\r\n            const curView = this.valueHexView;\r\n            const retView = new Uint8Array(this.blockLength);\r\n            for (let i = 0; i < (this.blockLength - 1); i++)\r\n                retView[i] = curView[i] | 0x80;\r\n            retView[this.blockLength - 1] = curView[this.blockLength - 1];\r\n            return retView.buffer;\r\n        }\r\n        const encodedBuf = pvutils.utilToBase(this.valueDec, 7);\r\n        if (encodedBuf.byteLength === 0) {\r\n            this.error = \"Error during encoding SID value\";\r\n            return EMPTY_BUFFER;\r\n        }\r\n        const retView = new Uint8Array(encodedBuf.byteLength);\r\n        if (!sizeOnly) {\r\n            const encodedView = new Uint8Array(encodedBuf);\r\n            const len = encodedBuf.byteLength - 1;\r\n            for (let i = 0; i < len; i++)\r\n                retView[i] = encodedView[i] | 0x80;\r\n            retView[len] = encodedView[len];\r\n        }\r\n        return retView.buffer;\r\n    }\r\n    toString() {\r\n        let result = \"\";\r\n        if (this.isHexOnly)\r\n            result = pvtsutils.Convert.ToHex(this.valueHexView);\r\n        else {\r\n            result = this.valueDec.toString();\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            valueDec: this.valueDec,\r\n        };\r\n    }\r\n}\r\nLocalRelativeSidValueBlock.NAME = \"relativeSidBlock\";\n\nclass LocalRelativeObjectIdentifierValueBlock extends ValueBlock {\r\n    constructor({ value = EMPTY_STRING, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.value = [];\r\n        if (value) {\r\n            this.fromString(value);\r\n        }\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        let resultOffset = inputOffset;\r\n        while (inputLength > 0) {\r\n            const sidBlock = new LocalRelativeSidValueBlock();\r\n            resultOffset = sidBlock.fromBER(inputBuffer, resultOffset, inputLength);\r\n            if (resultOffset === -1) {\r\n                this.blockLength = 0;\r\n                this.error = sidBlock.error;\r\n                return resultOffset;\r\n            }\r\n            this.blockLength += sidBlock.blockLength;\r\n            inputLength -= sidBlock.blockLength;\r\n            this.value.push(sidBlock);\r\n        }\r\n        return resultOffset;\r\n    }\r\n    toBER(sizeOnly, writer) {\r\n        const retBuffers = [];\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            const valueBuf = this.value[i].toBER(sizeOnly);\r\n            if (valueBuf.byteLength === 0) {\r\n                this.error = this.value[i].error;\r\n                return EMPTY_BUFFER;\r\n            }\r\n            retBuffers.push(valueBuf);\r\n        }\r\n        return concat(retBuffers);\r\n    }\r\n    fromString(string) {\r\n        this.value = [];\r\n        let pos1 = 0;\r\n        let pos2 = 0;\r\n        let sid = \"\";\r\n        do {\r\n            pos2 = string.indexOf(\".\", pos1);\r\n            if (pos2 === -1)\r\n                sid = string.substring(pos1);\r\n            else\r\n                sid = string.substring(pos1, pos2);\r\n            pos1 = pos2 + 1;\r\n            const sidBlock = new LocalRelativeSidValueBlock();\r\n            sidBlock.valueDec = parseInt(sid, 10);\r\n            if (isNaN(sidBlock.valueDec))\r\n                return true;\r\n            this.value.push(sidBlock);\r\n        } while (pos2 !== -1);\r\n        return true;\r\n    }\r\n    toString() {\r\n        let result = \"\";\r\n        let isHexOnly = false;\r\n        for (let i = 0; i < this.value.length; i++) {\r\n            isHexOnly = this.value[i].isHexOnly;\r\n            let sidStr = this.value[i].toString();\r\n            if (i !== 0)\r\n                result = `${result}.`;\r\n            if (isHexOnly) {\r\n                sidStr = `{${sidStr}}`;\r\n                result += sidStr;\r\n            }\r\n            else\r\n                result += sidStr;\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            ...super.toJSON(),\r\n            value: this.toString(),\r\n            sidArray: [],\r\n        };\r\n        for (let i = 0; i < this.value.length; i++)\r\n            object.sidArray.push(this.value[i].toJSON());\r\n        return object;\r\n    }\r\n}\r\nLocalRelativeObjectIdentifierValueBlock.NAME = \"RelativeObjectIdentifierValueBlock\";\n\nvar _a$l;\r\nclass RelativeObjectIdentifier extends BaseBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters, LocalRelativeObjectIdentifierValueBlock);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 13;\r\n    }\r\n    getValue() {\r\n        return this.valueBlock.toString();\r\n    }\r\n    setValue(value) {\r\n        this.valueBlock.fromString(value);\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${this.valueBlock.toString() || \"empty\"}`;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            value: this.getValue(),\r\n        };\r\n    }\r\n}\r\n_a$l = RelativeObjectIdentifier;\r\n(() => {\r\n    typeStore.RelativeObjectIdentifier = _a$l;\r\n})();\r\nRelativeObjectIdentifier.NAME = \"RelativeObjectIdentifier\";\n\nvar _a$k;\r\nclass Sequence extends Constructed {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 16;\r\n    }\r\n}\r\n_a$k = Sequence;\r\n(() => {\r\n    typeStore.Sequence = _a$k;\r\n})();\r\nSequence.NAME = \"SEQUENCE\";\n\nvar _a$j;\r\nclass Set extends Constructed {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 17;\r\n    }\r\n}\r\n_a$j = Set;\r\n(() => {\r\n    typeStore.Set = _a$j;\r\n})();\r\nSet.NAME = \"SET\";\n\nclass LocalStringValueBlock extends HexBlock(ValueBlock) {\r\n    constructor({ ...parameters } = {}) {\r\n        super(parameters);\r\n        this.isHexOnly = true;\r\n        this.value = EMPTY_STRING;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            value: this.value,\r\n        };\r\n    }\r\n}\r\nLocalStringValueBlock.NAME = \"StringValueBlock\";\n\nclass LocalSimpleStringValueBlock extends LocalStringValueBlock {\r\n}\r\nLocalSimpleStringValueBlock.NAME = \"SimpleStringValueBlock\";\n\nclass LocalSimpleStringBlock extends BaseStringBlock {\r\n    constructor({ ...parameters } = {}) {\r\n        super(parameters, LocalSimpleStringValueBlock);\r\n    }\r\n    fromBuffer(inputBuffer) {\r\n        this.valueBlock.value = String.fromCharCode.apply(null, pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer));\r\n    }\r\n    fromString(inputString) {\r\n        const strLen = inputString.length;\r\n        const view = this.valueBlock.valueHexView = new Uint8Array(strLen);\r\n        for (let i = 0; i < strLen; i++)\r\n            view[i] = inputString.charCodeAt(i);\r\n        this.valueBlock.value = inputString;\r\n    }\r\n}\r\nLocalSimpleStringBlock.NAME = \"SIMPLE STRING\";\n\nclass LocalUtf8StringValueBlock extends LocalSimpleStringBlock {\r\n    fromBuffer(inputBuffer) {\r\n        this.valueBlock.valueHexView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n        try {\r\n            this.valueBlock.value = pvtsutils.Convert.ToUtf8String(inputBuffer);\r\n        }\r\n        catch (ex) {\r\n            this.warnings.push(`Error during \"decodeURIComponent\": ${ex}, using raw string`);\r\n            this.valueBlock.value = pvtsutils.Convert.ToBinary(inputBuffer);\r\n        }\r\n    }\r\n    fromString(inputString) {\r\n        this.valueBlock.valueHexView = new Uint8Array(pvtsutils.Convert.FromUtf8String(inputString));\r\n        this.valueBlock.value = inputString;\r\n    }\r\n}\r\nLocalUtf8StringValueBlock.NAME = \"Utf8StringValueBlock\";\n\nvar _a$i;\r\nclass Utf8String extends LocalUtf8StringValueBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 12;\r\n    }\r\n}\r\n_a$i = Utf8String;\r\n(() => {\r\n    typeStore.Utf8String = _a$i;\r\n})();\r\nUtf8String.NAME = \"UTF8String\";\n\nclass LocalBmpStringValueBlock extends LocalSimpleStringBlock {\r\n    fromBuffer(inputBuffer) {\r\n        this.valueBlock.value = pvtsutils.Convert.ToUtf16String(inputBuffer);\r\n        this.valueBlock.valueHexView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer);\r\n    }\r\n    fromString(inputString) {\r\n        this.valueBlock.value = inputString;\r\n        this.valueBlock.valueHexView = new Uint8Array(pvtsutils.Convert.FromUtf16String(inputString));\r\n    }\r\n}\r\nLocalBmpStringValueBlock.NAME = \"BmpStringValueBlock\";\n\nvar _a$h;\r\nclass BmpString extends LocalBmpStringValueBlock {\r\n    constructor({ ...parameters } = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 30;\r\n    }\r\n}\r\n_a$h = BmpString;\r\n(() => {\r\n    typeStore.BmpString = _a$h;\r\n})();\r\nBmpString.NAME = \"BMPString\";\n\nclass LocalUniversalStringValueBlock extends LocalSimpleStringBlock {\r\n    fromBuffer(inputBuffer) {\r\n        const copyBuffer = ArrayBuffer.isView(inputBuffer) ? inputBuffer.slice().buffer : inputBuffer.slice(0);\r\n        const valueView = new Uint8Array(copyBuffer);\r\n        for (let i = 0; i < valueView.length; i += 4) {\r\n            valueView[i] = valueView[i + 3];\r\n            valueView[i + 1] = valueView[i + 2];\r\n            valueView[i + 2] = 0x00;\r\n            valueView[i + 3] = 0x00;\r\n        }\r\n        this.valueBlock.value = String.fromCharCode.apply(null, new Uint32Array(copyBuffer));\r\n    }\r\n    fromString(inputString) {\r\n        const strLength = inputString.length;\r\n        const valueHexView = this.valueBlock.valueHexView = new Uint8Array(strLength * 4);\r\n        for (let i = 0; i < strLength; i++) {\r\n            const codeBuf = pvutils.utilToBase(inputString.charCodeAt(i), 8);\r\n            const codeView = new Uint8Array(codeBuf);\r\n            if (codeView.length > 4)\r\n                continue;\r\n            const dif = 4 - codeView.length;\r\n            for (let j = (codeView.length - 1); j >= 0; j--)\r\n                valueHexView[i * 4 + j + dif] = codeView[j];\r\n        }\r\n        this.valueBlock.value = inputString;\r\n    }\r\n}\r\nLocalUniversalStringValueBlock.NAME = \"UniversalStringValueBlock\";\n\nvar _a$g;\r\nclass UniversalString extends LocalUniversalStringValueBlock {\r\n    constructor({ ...parameters } = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 28;\r\n    }\r\n}\r\n_a$g = UniversalString;\r\n(() => {\r\n    typeStore.UniversalString = _a$g;\r\n})();\r\nUniversalString.NAME = \"UniversalString\";\n\nvar _a$f;\r\nclass NumericString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 18;\r\n    }\r\n}\r\n_a$f = NumericString;\r\n(() => {\r\n    typeStore.NumericString = _a$f;\r\n})();\r\nNumericString.NAME = \"NumericString\";\n\nvar _a$e;\r\nclass PrintableString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 19;\r\n    }\r\n}\r\n_a$e = PrintableString;\r\n(() => {\r\n    typeStore.PrintableString = _a$e;\r\n})();\r\nPrintableString.NAME = \"PrintableString\";\n\nvar _a$d;\r\nclass TeletexString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 20;\r\n    }\r\n}\r\n_a$d = TeletexString;\r\n(() => {\r\n    typeStore.TeletexString = _a$d;\r\n})();\r\nTeletexString.NAME = \"TeletexString\";\n\nvar _a$c;\r\nclass VideotexString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 21;\r\n    }\r\n}\r\n_a$c = VideotexString;\r\n(() => {\r\n    typeStore.VideotexString = _a$c;\r\n})();\r\nVideotexString.NAME = \"VideotexString\";\n\nvar _a$b;\r\nclass IA5String extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 22;\r\n    }\r\n}\r\n_a$b = IA5String;\r\n(() => {\r\n    typeStore.IA5String = _a$b;\r\n})();\r\nIA5String.NAME = \"IA5String\";\n\nvar _a$a;\r\nclass GraphicString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 25;\r\n    }\r\n}\r\n_a$a = GraphicString;\r\n(() => {\r\n    typeStore.GraphicString = _a$a;\r\n})();\r\nGraphicString.NAME = \"GraphicString\";\n\nvar _a$9;\r\nclass VisibleString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 26;\r\n    }\r\n}\r\n_a$9 = VisibleString;\r\n(() => {\r\n    typeStore.VisibleString = _a$9;\r\n})();\r\nVisibleString.NAME = \"VisibleString\";\n\nvar _a$8;\r\nclass GeneralString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 27;\r\n    }\r\n}\r\n_a$8 = GeneralString;\r\n(() => {\r\n    typeStore.GeneralString = _a$8;\r\n})();\r\nGeneralString.NAME = \"GeneralString\";\n\nvar _a$7;\r\nclass CharacterString extends LocalSimpleStringBlock {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 29;\r\n    }\r\n}\r\n_a$7 = CharacterString;\r\n(() => {\r\n    typeStore.CharacterString = _a$7;\r\n})();\r\nCharacterString.NAME = \"CharacterString\";\n\nvar _a$6;\r\nclass UTCTime extends VisibleString {\r\n    constructor({ value, valueDate, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.year = 0;\r\n        this.month = 0;\r\n        this.day = 0;\r\n        this.hour = 0;\r\n        this.minute = 0;\r\n        this.second = 0;\r\n        if (value) {\r\n            this.fromString(value);\r\n            this.valueBlock.valueHexView = new Uint8Array(value.length);\r\n            for (let i = 0; i < value.length; i++)\r\n                this.valueBlock.valueHexView[i] = value.charCodeAt(i);\r\n        }\r\n        if (valueDate) {\r\n            this.fromDate(valueDate);\r\n            this.valueBlock.valueHexView = new Uint8Array(this.toBuffer());\r\n        }\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 23;\r\n    }\r\n    fromBuffer(inputBuffer) {\r\n        this.fromString(String.fromCharCode.apply(null, pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer)));\r\n    }\r\n    toBuffer() {\r\n        const str = this.toString();\r\n        const buffer = new ArrayBuffer(str.length);\r\n        const view = new Uint8Array(buffer);\r\n        for (let i = 0; i < str.length; i++)\r\n            view[i] = str.charCodeAt(i);\r\n        return buffer;\r\n    }\r\n    fromDate(inputDate) {\r\n        this.year = inputDate.getUTCFullYear();\r\n        this.month = inputDate.getUTCMonth() + 1;\r\n        this.day = inputDate.getUTCDate();\r\n        this.hour = inputDate.getUTCHours();\r\n        this.minute = inputDate.getUTCMinutes();\r\n        this.second = inputDate.getUTCSeconds();\r\n    }\r\n    toDate() {\r\n        return (new Date(Date.UTC(this.year, this.month - 1, this.day, this.hour, this.minute, this.second)));\r\n    }\r\n    fromString(inputString) {\r\n        const parser = /(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})Z/ig;\r\n        const parserArray = parser.exec(inputString);\r\n        if (parserArray === null) {\r\n            this.error = \"Wrong input string for conversion\";\r\n            return;\r\n        }\r\n        const year = parseInt(parserArray[1], 10);\r\n        if (year >= 50)\r\n            this.year = 1900 + year;\r\n        else\r\n            this.year = 2000 + year;\r\n        this.month = parseInt(parserArray[2], 10);\r\n        this.day = parseInt(parserArray[3], 10);\r\n        this.hour = parseInt(parserArray[4], 10);\r\n        this.minute = parseInt(parserArray[5], 10);\r\n        this.second = parseInt(parserArray[6], 10);\r\n    }\r\n    toString(encoding = \"iso\") {\r\n        if (encoding === \"iso\") {\r\n            const outputArray = new Array(7);\r\n            outputArray[0] = pvutils.padNumber(((this.year < 2000) ? (this.year - 1900) : (this.year - 2000)), 2);\r\n            outputArray[1] = pvutils.padNumber(this.month, 2);\r\n            outputArray[2] = pvutils.padNumber(this.day, 2);\r\n            outputArray[3] = pvutils.padNumber(this.hour, 2);\r\n            outputArray[4] = pvutils.padNumber(this.minute, 2);\r\n            outputArray[5] = pvutils.padNumber(this.second, 2);\r\n            outputArray[6] = \"Z\";\r\n            return outputArray.join(\"\");\r\n        }\r\n        return super.toString(encoding);\r\n    }\r\n    onAsciiEncoding() {\r\n        return `${this.constructor.NAME} : ${this.toDate().toISOString()}`;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            year: this.year,\r\n            month: this.month,\r\n            day: this.day,\r\n            hour: this.hour,\r\n            minute: this.minute,\r\n            second: this.second,\r\n        };\r\n    }\r\n}\r\n_a$6 = UTCTime;\r\n(() => {\r\n    typeStore.UTCTime = _a$6;\r\n})();\r\nUTCTime.NAME = \"UTCTime\";\n\nvar _a$5;\r\nclass GeneralizedTime extends UTCTime {\r\n    constructor(parameters = {}) {\r\n        var _b;\r\n        super(parameters);\r\n        (_b = this.millisecond) !== null && _b !== void 0 ? _b : (this.millisecond = 0);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 24;\r\n    }\r\n    fromDate(inputDate) {\r\n        super.fromDate(inputDate);\r\n        this.millisecond = inputDate.getUTCMilliseconds();\r\n    }\r\n    toDate() {\r\n        return (new Date(Date.UTC(this.year, this.month - 1, this.day, this.hour, this.minute, this.second, this.millisecond)));\r\n    }\r\n    fromString(inputString) {\r\n        let isUTC = false;\r\n        let timeString = \"\";\r\n        let dateTimeString = \"\";\r\n        let fractionPart = 0;\r\n        let parser;\r\n        let hourDifference = 0;\r\n        let minuteDifference = 0;\r\n        if (inputString[inputString.length - 1] === \"Z\") {\r\n            timeString = inputString.substring(0, inputString.length - 1);\r\n            isUTC = true;\r\n        }\r\n        else {\r\n            const number = new Number(inputString[inputString.length - 1]);\r\n            if (isNaN(number.valueOf()))\r\n                throw new Error(\"Wrong input string for conversion\");\r\n            timeString = inputString;\r\n        }\r\n        if (isUTC) {\r\n            if (timeString.indexOf(\"+\") !== -1)\r\n                throw new Error(\"Wrong input string for conversion\");\r\n            if (timeString.indexOf(\"-\") !== -1)\r\n                throw new Error(\"Wrong input string for conversion\");\r\n        }\r\n        else {\r\n            let multiplier = 1;\r\n            let differencePosition = timeString.indexOf(\"+\");\r\n            let differenceString = \"\";\r\n            if (differencePosition === -1) {\r\n                differencePosition = timeString.indexOf(\"-\");\r\n                multiplier = -1;\r\n            }\r\n            if (differencePosition !== -1) {\r\n                differenceString = timeString.substring(differencePosition + 1);\r\n                timeString = timeString.substring(0, differencePosition);\r\n                if ((differenceString.length !== 2) && (differenceString.length !== 4))\r\n                    throw new Error(\"Wrong input string for conversion\");\r\n                let number = parseInt(differenceString.substring(0, 2), 10);\r\n                if (isNaN(number.valueOf()))\r\n                    throw new Error(\"Wrong input string for conversion\");\r\n                hourDifference = multiplier * number;\r\n                if (differenceString.length === 4) {\r\n                    number = parseInt(differenceString.substring(2, 4), 10);\r\n                    if (isNaN(number.valueOf()))\r\n                        throw new Error(\"Wrong input string for conversion\");\r\n                    minuteDifference = multiplier * number;\r\n                }\r\n            }\r\n        }\r\n        let fractionPointPosition = timeString.indexOf(\".\");\r\n        if (fractionPointPosition === -1)\r\n            fractionPointPosition = timeString.indexOf(\",\");\r\n        if (fractionPointPosition !== -1) {\r\n            const fractionPartCheck = new Number(`0${timeString.substring(fractionPointPosition)}`);\r\n            if (isNaN(fractionPartCheck.valueOf()))\r\n                throw new Error(\"Wrong input string for conversion\");\r\n            fractionPart = fractionPartCheck.valueOf();\r\n            dateTimeString = timeString.substring(0, fractionPointPosition);\r\n        }\r\n        else\r\n            dateTimeString = timeString;\r\n        switch (true) {\r\n            case (dateTimeString.length === 8):\r\n                parser = /(\\d{4})(\\d{2})(\\d{2})/ig;\r\n                if (fractionPointPosition !== -1)\r\n                    throw new Error(\"Wrong input string for conversion\");\r\n                break;\r\n            case (dateTimeString.length === 10):\r\n                parser = /(\\d{4})(\\d{2})(\\d{2})(\\d{2})/ig;\r\n                if (fractionPointPosition !== -1) {\r\n                    let fractionResult = 60 * fractionPart;\r\n                    this.minute = Math.floor(fractionResult);\r\n                    fractionResult = 60 * (fractionResult - this.minute);\r\n                    this.second = Math.floor(fractionResult);\r\n                    fractionResult = 1000 * (fractionResult - this.second);\r\n                    this.millisecond = Math.floor(fractionResult);\r\n                }\r\n                break;\r\n            case (dateTimeString.length === 12):\r\n                parser = /(\\d{4})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/ig;\r\n                if (fractionPointPosition !== -1) {\r\n                    let fractionResult = 60 * fractionPart;\r\n                    this.second = Math.floor(fractionResult);\r\n                    fractionResult = 1000 * (fractionResult - this.second);\r\n                    this.millisecond = Math.floor(fractionResult);\r\n                }\r\n                break;\r\n            case (dateTimeString.length === 14):\r\n                parser = /(\\d{4})(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})/ig;\r\n                if (fractionPointPosition !== -1) {\r\n                    const fractionResult = 1000 * fractionPart;\r\n                    this.millisecond = Math.floor(fractionResult);\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(\"Wrong input string for conversion\");\r\n        }\r\n        const parserArray = parser.exec(dateTimeString);\r\n        if (parserArray === null)\r\n            throw new Error(\"Wrong input string for conversion\");\r\n        for (let j = 1; j < parserArray.length; j++) {\r\n            switch (j) {\r\n                case 1:\r\n                    this.year = parseInt(parserArray[j], 10);\r\n                    break;\r\n                case 2:\r\n                    this.month = parseInt(parserArray[j], 10);\r\n                    break;\r\n                case 3:\r\n                    this.day = parseInt(parserArray[j], 10);\r\n                    break;\r\n                case 4:\r\n                    this.hour = parseInt(parserArray[j], 10) + hourDifference;\r\n                    break;\r\n                case 5:\r\n                    this.minute = parseInt(parserArray[j], 10) + minuteDifference;\r\n                    break;\r\n                case 6:\r\n                    this.second = parseInt(parserArray[j], 10);\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Wrong input string for conversion\");\r\n            }\r\n        }\r\n        if (isUTC === false) {\r\n            const tempDate = new Date(this.year, this.month, this.day, this.hour, this.minute, this.second, this.millisecond);\r\n            this.year = tempDate.getUTCFullYear();\r\n            this.month = tempDate.getUTCMonth();\r\n            this.day = tempDate.getUTCDay();\r\n            this.hour = tempDate.getUTCHours();\r\n            this.minute = tempDate.getUTCMinutes();\r\n            this.second = tempDate.getUTCSeconds();\r\n            this.millisecond = tempDate.getUTCMilliseconds();\r\n        }\r\n    }\r\n    toString(encoding = \"iso\") {\r\n        if (encoding === \"iso\") {\r\n            const outputArray = [];\r\n            outputArray.push(pvutils.padNumber(this.year, 4));\r\n            outputArray.push(pvutils.padNumber(this.month, 2));\r\n            outputArray.push(pvutils.padNumber(this.day, 2));\r\n            outputArray.push(pvutils.padNumber(this.hour, 2));\r\n            outputArray.push(pvutils.padNumber(this.minute, 2));\r\n            outputArray.push(pvutils.padNumber(this.second, 2));\r\n            if (this.millisecond !== 0) {\r\n                outputArray.push(\".\");\r\n                outputArray.push(pvutils.padNumber(this.millisecond, 3));\r\n            }\r\n            outputArray.push(\"Z\");\r\n            return outputArray.join(\"\");\r\n        }\r\n        return super.toString(encoding);\r\n    }\r\n    toJSON() {\r\n        return {\r\n            ...super.toJSON(),\r\n            millisecond: this.millisecond,\r\n        };\r\n    }\r\n}\r\n_a$5 = GeneralizedTime;\r\n(() => {\r\n    typeStore.GeneralizedTime = _a$5;\r\n})();\r\nGeneralizedTime.NAME = \"GeneralizedTime\";\n\nvar _a$4;\r\nclass DATE extends Utf8String {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 31;\r\n    }\r\n}\r\n_a$4 = DATE;\r\n(() => {\r\n    typeStore.DATE = _a$4;\r\n})();\r\nDATE.NAME = \"DATE\";\n\nvar _a$3;\r\nclass TimeOfDay extends Utf8String {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 32;\r\n    }\r\n}\r\n_a$3 = TimeOfDay;\r\n(() => {\r\n    typeStore.TimeOfDay = _a$3;\r\n})();\r\nTimeOfDay.NAME = \"TimeOfDay\";\n\nvar _a$2;\r\nclass DateTime extends Utf8String {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 33;\r\n    }\r\n}\r\n_a$2 = DateTime;\r\n(() => {\r\n    typeStore.DateTime = _a$2;\r\n})();\r\nDateTime.NAME = \"DateTime\";\n\nvar _a$1;\r\nclass Duration extends Utf8String {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 34;\r\n    }\r\n}\r\n_a$1 = Duration;\r\n(() => {\r\n    typeStore.Duration = _a$1;\r\n})();\r\nDuration.NAME = \"Duration\";\n\nvar _a;\r\nclass TIME extends Utf8String {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n        this.idBlock.tagClass = 1;\r\n        this.idBlock.tagNumber = 14;\r\n    }\r\n}\r\n_a = TIME;\r\n(() => {\r\n    typeStore.TIME = _a;\r\n})();\r\nTIME.NAME = \"TIME\";\n\nclass Any {\r\n    constructor({ name = EMPTY_STRING, optional = false, } = {}) {\r\n        this.name = name;\r\n        this.optional = optional;\r\n    }\r\n}\n\nclass Choice extends Any {\r\n    constructor({ value = [], ...parameters } = {}) {\r\n        super(parameters);\r\n        this.value = value;\r\n    }\r\n}\n\nclass Repeated extends Any {\r\n    constructor({ value = new Any(), local = false, ...parameters } = {}) {\r\n        super(parameters);\r\n        this.value = value;\r\n        this.local = local;\r\n    }\r\n}\n\nclass RawData {\r\n    constructor({ data = EMPTY_VIEW } = {}) {\r\n        this.dataView = pvtsutils.BufferSourceConverter.toUint8Array(data);\r\n    }\r\n    get data() {\r\n        return this.dataView.slice().buffer;\r\n    }\r\n    set data(value) {\r\n        this.dataView = pvtsutils.BufferSourceConverter.toUint8Array(value);\r\n    }\r\n    fromBER(inputBuffer, inputOffset, inputLength) {\r\n        const endLength = inputOffset + inputLength;\r\n        this.dataView = pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer).subarray(inputOffset, endLength);\r\n        return endLength;\r\n    }\r\n    toBER(sizeOnly) {\r\n        return this.dataView.slice().buffer;\r\n    }\r\n}\n\nfunction compareSchema(root, inputData, inputSchema) {\r\n    if (inputSchema instanceof Choice) {\r\n        for (let j = 0; j < inputSchema.value.length; j++) {\r\n            const result = compareSchema(root, inputData, inputSchema.value[j]);\r\n            if (result.verified) {\r\n                return {\r\n                    verified: true,\r\n                    result: root\r\n                };\r\n            }\r\n        }\r\n        {\r\n            const _result = {\r\n                verified: false,\r\n                result: {\r\n                    error: \"Wrong values for Choice type\"\r\n                },\r\n            };\r\n            if (inputSchema.hasOwnProperty(NAME))\r\n                _result.name = inputSchema.name;\r\n            return _result;\r\n        }\r\n    }\r\n    if (inputSchema instanceof Any) {\r\n        if (inputSchema.hasOwnProperty(NAME))\r\n            root[inputSchema.name] = inputData;\r\n        return {\r\n            verified: true,\r\n            result: root\r\n        };\r\n    }\r\n    if ((root instanceof Object) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong root object\" }\r\n        };\r\n    }\r\n    if ((inputData instanceof Object) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 data\" }\r\n        };\r\n    }\r\n    if ((inputSchema instanceof Object) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if ((ID_BLOCK in inputSchema) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if ((FROM_BER in inputSchema.idBlock) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if ((TO_BER in inputSchema.idBlock) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    const encodedId = inputSchema.idBlock.toBER(false);\r\n    if (encodedId.byteLength === 0) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Error encoding idBlock for ASN.1 schema\" }\r\n        };\r\n    }\r\n    const decodedOffset = inputSchema.idBlock.fromBER(encodedId, 0, encodedId.byteLength);\r\n    if (decodedOffset === -1) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Error decoding idBlock for ASN.1 schema\" }\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.hasOwnProperty(TAG_CLASS) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.tagClass !== inputData.idBlock.tagClass) {\r\n        return {\r\n            verified: false,\r\n            result: root\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.hasOwnProperty(TAG_NUMBER) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.tagNumber !== inputData.idBlock.tagNumber) {\r\n        return {\r\n            verified: false,\r\n            result: root\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.hasOwnProperty(IS_CONSTRUCTED) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.isConstructed !== inputData.idBlock.isConstructed) {\r\n        return {\r\n            verified: false,\r\n            result: root\r\n        };\r\n    }\r\n    if (!(IS_HEX_ONLY in inputSchema.idBlock)) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema\" }\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.isHexOnly !== inputData.idBlock.isHexOnly) {\r\n        return {\r\n            verified: false,\r\n            result: root\r\n        };\r\n    }\r\n    if (inputSchema.idBlock.isHexOnly) {\r\n        if ((VALUE_HEX_VIEW in inputSchema.idBlock) === false) {\r\n            return {\r\n                verified: false,\r\n                result: { error: \"Wrong ASN.1 schema\" }\r\n            };\r\n        }\r\n        const schemaView = inputSchema.idBlock.valueHexView;\r\n        const asn1View = inputData.idBlock.valueHexView;\r\n        if (schemaView.length !== asn1View.length) {\r\n            return {\r\n                verified: false,\r\n                result: root\r\n            };\r\n        }\r\n        for (let i = 0; i < schemaView.length; i++) {\r\n            if (schemaView[i] !== asn1View[1]) {\r\n                return {\r\n                    verified: false,\r\n                    result: root\r\n                };\r\n            }\r\n        }\r\n    }\r\n    if (inputSchema.name) {\r\n        inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n        if (inputSchema.name)\r\n            root[inputSchema.name] = inputData;\r\n    }\r\n    if (inputSchema instanceof typeStore.Constructed) {\r\n        let admission = 0;\r\n        let result = {\r\n            verified: false,\r\n            result: {\r\n                error: \"Unknown error\",\r\n            }\r\n        };\r\n        let maxLength = inputSchema.valueBlock.value.length;\r\n        if (maxLength > 0) {\r\n            if (inputSchema.valueBlock.value[0] instanceof Repeated) {\r\n                maxLength = inputData.valueBlock.value.length;\r\n            }\r\n        }\r\n        if (maxLength === 0) {\r\n            return {\r\n                verified: true,\r\n                result: root\r\n            };\r\n        }\r\n        if ((inputData.valueBlock.value.length === 0) &&\r\n            (inputSchema.valueBlock.value.length !== 0)) {\r\n            let _optional = true;\r\n            for (let i = 0; i < inputSchema.valueBlock.value.length; i++)\r\n                _optional = _optional && (inputSchema.valueBlock.value[i].optional || false);\r\n            if (_optional) {\r\n                return {\r\n                    verified: true,\r\n                    result: root\r\n                };\r\n            }\r\n            if (inputSchema.name) {\r\n                inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                if (inputSchema.name)\r\n                    delete root[inputSchema.name];\r\n            }\r\n            root.error = \"Inconsistent object length\";\r\n            return {\r\n                verified: false,\r\n                result: root\r\n            };\r\n        }\r\n        for (let i = 0; i < maxLength; i++) {\r\n            if ((i - admission) >= inputData.valueBlock.value.length) {\r\n                if (inputSchema.valueBlock.value[i].optional === false) {\r\n                    const _result = {\r\n                        verified: false,\r\n                        result: root\r\n                    };\r\n                    root.error = \"Inconsistent length between ASN.1 data and schema\";\r\n                    if (inputSchema.name) {\r\n                        inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                        if (inputSchema.name) {\r\n                            delete root[inputSchema.name];\r\n                            _result.name = inputSchema.name;\r\n                        }\r\n                    }\r\n                    return _result;\r\n                }\r\n            }\r\n            else {\r\n                if (inputSchema.valueBlock.value[0] instanceof Repeated) {\r\n                    result = compareSchema(root, inputData.valueBlock.value[i], inputSchema.valueBlock.value[0].value);\r\n                    if (result.verified === false) {\r\n                        if (inputSchema.valueBlock.value[0].optional)\r\n                            admission++;\r\n                        else {\r\n                            if (inputSchema.name) {\r\n                                inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                                if (inputSchema.name)\r\n                                    delete root[inputSchema.name];\r\n                            }\r\n                            return result;\r\n                        }\r\n                    }\r\n                    if ((NAME in inputSchema.valueBlock.value[0]) && (inputSchema.valueBlock.value[0].name.length > 0)) {\r\n                        let arrayRoot = {};\r\n                        if ((LOCAL in inputSchema.valueBlock.value[0]) && (inputSchema.valueBlock.value[0].local))\r\n                            arrayRoot = inputData;\r\n                        else\r\n                            arrayRoot = root;\r\n                        if (typeof arrayRoot[inputSchema.valueBlock.value[0].name] === \"undefined\")\r\n                            arrayRoot[inputSchema.valueBlock.value[0].name] = [];\r\n                        arrayRoot[inputSchema.valueBlock.value[0].name].push(inputData.valueBlock.value[i]);\r\n                    }\r\n                }\r\n                else {\r\n                    result = compareSchema(root, inputData.valueBlock.value[i - admission], inputSchema.valueBlock.value[i]);\r\n                    if (result.verified === false) {\r\n                        if (inputSchema.valueBlock.value[i].optional)\r\n                            admission++;\r\n                        else {\r\n                            if (inputSchema.name) {\r\n                                inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                                if (inputSchema.name)\r\n                                    delete root[inputSchema.name];\r\n                            }\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (result.verified === false) {\r\n            const _result = {\r\n                verified: false,\r\n                result: root\r\n            };\r\n            if (inputSchema.name) {\r\n                inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                if (inputSchema.name) {\r\n                    delete root[inputSchema.name];\r\n                    _result.name = inputSchema.name;\r\n                }\r\n            }\r\n            return _result;\r\n        }\r\n        return {\r\n            verified: true,\r\n            result: root\r\n        };\r\n    }\r\n    if (inputSchema.primitiveSchema &&\r\n        (VALUE_HEX_VIEW in inputData.valueBlock)) {\r\n        const asn1 = localFromBER(inputData.valueBlock.valueHexView);\r\n        if (asn1.offset === -1) {\r\n            const _result = {\r\n                verified: false,\r\n                result: asn1.result\r\n            };\r\n            if (inputSchema.name) {\r\n                inputSchema.name = inputSchema.name.replace(/^\\s+|\\s+$/g, EMPTY_STRING);\r\n                if (inputSchema.name) {\r\n                    delete root[inputSchema.name];\r\n                    _result.name = inputSchema.name;\r\n                }\r\n            }\r\n            return _result;\r\n        }\r\n        return compareSchema(root, asn1.result, inputSchema.primitiveSchema);\r\n    }\r\n    return {\r\n        verified: true,\r\n        result: root\r\n    };\r\n}\r\nfunction verifySchema(inputBuffer, inputSchema) {\r\n    if ((inputSchema instanceof Object) === false) {\r\n        return {\r\n            verified: false,\r\n            result: { error: \"Wrong ASN.1 schema type\" }\r\n        };\r\n    }\r\n    const asn1 = localFromBER(pvtsutils.BufferSourceConverter.toUint8Array(inputBuffer));\r\n    if (asn1.offset === -1) {\r\n        return {\r\n            verified: false,\r\n            result: asn1.result\r\n        };\r\n    }\r\n    return compareSchema(asn1.result, asn1.result, inputSchema);\r\n}\n\nexport { Any, BaseBlock, BaseStringBlock, BitString, BmpString, Boolean, CharacterString, Choice, Constructed, DATE, DateTime, Duration, EndOfContent, Enumerated, GeneralString, GeneralizedTime, GraphicString, HexBlock, IA5String, Integer, Null, NumericString, ObjectIdentifier, OctetString, Primitive, PrintableString, RawData, RelativeObjectIdentifier, Repeated, Sequence, Set, TIME, TeletexString, TimeOfDay, UTCTime, UniversalString, Utf8String, ValueBlock, VideotexString, ViewWriter, VisibleString, compareSchema, fromBER, verifySchema };\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","export class ByteStream {\n    constructor(parameters = {}) {\n        if (\"view\" in parameters) {\n            this.fromUint8Array(parameters.view);\n        }\n        else if (\"buffer\" in parameters) {\n            this.fromArrayBuffer(parameters.buffer);\n        }\n        else if (\"string\" in parameters) {\n            this.fromString(parameters.string);\n        }\n        else if (\"hexstring\" in parameters) {\n            this.fromHexString(parameters.hexstring);\n        }\n        else {\n            if (\"length\" in parameters && parameters.length > 0) {\n                this.length = parameters.length;\n                if (parameters.stub) {\n                    for (let i = 0; i < this._view.length; i++) {\n                        this._view[i] = parameters.stub;\n                    }\n                }\n            }\n            else {\n                this.length = 0;\n            }\n        }\n    }\n    set buffer(value) {\n        this._buffer = value;\n        this._view = new Uint8Array(this._buffer);\n    }\n    get buffer() {\n        return this._buffer;\n    }\n    set view(value) {\n        this._buffer = new ArrayBuffer(value.length);\n        this._view = new Uint8Array(this._buffer);\n        this._view.set(value);\n    }\n    get view() {\n        return this._view;\n    }\n    get length() {\n        return this.view.byteLength;\n    }\n    set length(value) {\n        this._buffer = new ArrayBuffer(value);\n        this._view = new Uint8Array(this._buffer);\n    }\n    clear() {\n        this._buffer = new ArrayBuffer(0);\n        this._view = new Uint8Array(this._buffer);\n    }\n    fromArrayBuffer(array) {\n        this._buffer = array;\n        this._view = new Uint8Array(this._buffer);\n    }\n    fromUint8Array(array) {\n        this.fromArrayBuffer(new Uint8Array(array).buffer);\n    }\n    fromString(string) {\n        const stringLength = string.length;\n        this.length = stringLength;\n        for (let i = 0; i < stringLength; i++)\n            this.view[i] = string.charCodeAt(i);\n    }\n    toString(start = 0, length = (this.view.length - start)) {\n        let result = \"\";\n        if ((start >= this.view.length) || (start < 0)) {\n            start = 0;\n        }\n        if ((length >= this.view.length) || (length < 0)) {\n            length = this.view.length - start;\n        }\n        for (let i = start; i < (start + length); i++)\n            result += String.fromCharCode(this.view[i]);\n        return result;\n    }\n    fromHexString(hexString) {\n        const stringLength = hexString.length;\n        this.buffer = new ArrayBuffer(stringLength >> 1);\n        this.view = new Uint8Array(this.buffer);\n        const hexMap = new Map();\n        hexMap.set(\"0\", 0x00);\n        hexMap.set(\"1\", 0x01);\n        hexMap.set(\"2\", 0x02);\n        hexMap.set(\"3\", 0x03);\n        hexMap.set(\"4\", 0x04);\n        hexMap.set(\"5\", 0x05);\n        hexMap.set(\"6\", 0x06);\n        hexMap.set(\"7\", 0x07);\n        hexMap.set(\"8\", 0x08);\n        hexMap.set(\"9\", 0x09);\n        hexMap.set(\"A\", 0x0A);\n        hexMap.set(\"a\", 0x0A);\n        hexMap.set(\"B\", 0x0B);\n        hexMap.set(\"b\", 0x0B);\n        hexMap.set(\"C\", 0x0C);\n        hexMap.set(\"c\", 0x0C);\n        hexMap.set(\"D\", 0x0D);\n        hexMap.set(\"d\", 0x0D);\n        hexMap.set(\"E\", 0x0E);\n        hexMap.set(\"e\", 0x0E);\n        hexMap.set(\"F\", 0x0F);\n        hexMap.set(\"f\", 0x0F);\n        let j = 0;\n        let temp = 0x00;\n        for (let i = 0; i < stringLength; i++) {\n            if (!(i % 2)) {\n                temp = hexMap.get(hexString.charAt(i)) << 4;\n            }\n            else {\n                temp |= hexMap.get(hexString.charAt(i));\n                this.view[j] = temp;\n                j++;\n            }\n        }\n    }\n    toHexString(start = 0, length = (this.view.length - start)) {\n        let result = \"\";\n        if ((start >= this.view.length) || (start < 0)) {\n            start = 0;\n        }\n        if ((length >= this.view.length) || (length < 0)) {\n            length = this.view.length - start;\n        }\n        for (let i = start; i < (start + length); i++) {\n            const str = this.view[i].toString(16).toUpperCase();\n            result = result + ((str.length == 1) ? \"0\" : \"\") + str;\n        }\n        return result;\n    }\n    copy(start = 0, length = (this.length - start)) {\n        if (!start && !this.length) {\n            return new ByteStream();\n        }\n        if ((start < 0) || (start > (this.length - 1))) {\n            throw new Error(`Wrong start position: ${start}`);\n        }\n        const stream = new ByteStream({\n            buffer: this._buffer.slice(start, start + length)\n        });\n        return stream;\n    }\n    slice(start = 0, end = this.length) {\n        if (!start && !this.length) {\n            return new ByteStream();\n        }\n        if ((start < 0) || (start > (this.length - 1))) {\n            throw new Error(`Wrong start position: ${start}`);\n        }\n        const stream = new ByteStream({\n            buffer: this._buffer.slice(start, end),\n        });\n        return stream;\n    }\n    realloc(size) {\n        const buffer = new ArrayBuffer(size);\n        const view = new Uint8Array(buffer);\n        if (size > this._view.length)\n            view.set(this._view);\n        else {\n            view.set(new Uint8Array(this._buffer, 0, size));\n        }\n        this._buffer = buffer;\n        this._view = new Uint8Array(this._buffer);\n    }\n    append(stream) {\n        const initialSize = this.length;\n        const streamViewLength = stream.length;\n        const subarrayView = stream._view.subarray();\n        this.realloc(initialSize + streamViewLength);\n        this._view.set(subarrayView, initialSize);\n    }\n    insert(stream, start = 0, length = (this.length - start)) {\n        if (start > (this.length - 1))\n            return false;\n        if (length > (this.length - start)) {\n            length = this.length - start;\n        }\n        if (length > stream.length) {\n            length = stream.length;\n        }\n        if (length == stream.length)\n            this._view.set(stream._view, start);\n        else {\n            this._view.set(stream._view.subarray(0, length), start);\n        }\n        return true;\n    }\n    isEqual(stream) {\n        if (this.length != stream.length)\n            return false;\n        for (let i = 0; i < stream.length; i++) {\n            if (this.view[i] != stream.view[i])\n                return false;\n        }\n        return true;\n    }\n    isEqualView(view) {\n        if (view.length != this.view.length)\n            return false;\n        for (let i = 0; i < view.length; i++) {\n            if (this.view[i] != view[i])\n                return false;\n        }\n        return true;\n    }\n    findPattern(pattern, start_, length_, backward_) {\n        const { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        const patternLength = pattern.length;\n        if (patternLength > length) {\n            return (-1);\n        }\n        const patternArray = [];\n        for (let i = 0; i < patternLength; i++)\n            patternArray.push(pattern.view[i]);\n        for (let i = 0; i <= (length - patternLength); i++) {\n            let equal = true;\n            const equalStart = (backward) ? (start - patternLength - i) : (start + i);\n            for (let j = 0; j < patternLength; j++) {\n                if (this.view[j + equalStart] != patternArray[j]) {\n                    equal = false;\n                    break;\n                }\n            }\n            if (equal) {\n                return (backward) ? (start - patternLength - i) : (start + patternLength + i);\n            }\n        }\n        return (-1);\n    }\n    findFirstIn(patterns, start_, length_, backward_) {\n        const { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        const result = {\n            id: (-1),\n            position: (backward) ? 0 : (start + length),\n            length: 0\n        };\n        for (let i = 0; i < patterns.length; i++) {\n            const position = this.findPattern(patterns[i], start, length, backward);\n            if (position != (-1)) {\n                let valid = false;\n                const patternLength = patterns[i].length;\n                if (backward) {\n                    if ((position - patternLength) >= (result.position - result.length))\n                        valid = true;\n                }\n                else {\n                    if ((position - patternLength) <= (result.position - result.length))\n                        valid = true;\n                }\n                if (valid) {\n                    result.position = position;\n                    result.id = i;\n                    result.length = patternLength;\n                }\n            }\n        }\n        return result;\n    }\n    findAllIn(patterns, start_, length_) {\n        let { start, length } = this.prepareFindParameters(start_, length_);\n        const result = [];\n        let patternFound = {\n            id: (-1),\n            position: start\n        };\n        do {\n            const position = patternFound.position;\n            patternFound = this.findFirstIn(patterns, patternFound.position, length);\n            if (patternFound.id == (-1)) {\n                break;\n            }\n            length -= (patternFound.position - position);\n            result.push({\n                id: patternFound.id,\n                position: patternFound.position\n            });\n        } while (true);\n        return result;\n    }\n    findAllPatternIn(pattern, start_, length_) {\n        const { start, length } = this.prepareFindParameters(start_, length_);\n        const result = [];\n        const patternLength = pattern.length;\n        if (patternLength > length) {\n            return (-1);\n        }\n        const patternArray = Array.from(pattern.view);\n        for (let i = 0; i <= (length - patternLength); i++) {\n            let equal = true;\n            const equalStart = start + i;\n            for (let j = 0; j < patternLength; j++) {\n                if (this.view[j + equalStart] != patternArray[j]) {\n                    equal = false;\n                    break;\n                }\n            }\n            if (equal) {\n                result.push(start + patternLength + i);\n                i += (patternLength - 1);\n            }\n        }\n        return result;\n    }\n    findFirstNotIn(patterns, start_, length_, backward_) {\n        let { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        const result = {\n            left: {\n                id: (-1),\n                position: start\n            },\n            right: {\n                id: (-1),\n                position: 0\n            },\n            value: new ByteStream()\n        };\n        let currentLength = length;\n        while (currentLength > 0) {\n            result.right = this.findFirstIn(patterns, (backward) ? (start - length + currentLength) : (start + length - currentLength), currentLength, backward);\n            if (result.right.id == (-1)) {\n                length = currentLength;\n                if (backward) {\n                    start -= length;\n                }\n                else {\n                    start = result.left.position;\n                }\n                result.value = new ByteStream({\n                    buffer: this._buffer.slice(start, start + length),\n                });\n                break;\n            }\n            if (result.right.position != ((backward) ? (result.left.position - patterns[result.right.id].length) : (result.left.position + patterns[result.right.id].length))) {\n                if (backward) {\n                    start = result.right.position + patterns[result.right.id].length;\n                    length = result.left.position - result.right.position - patterns[result.right.id].length;\n                }\n                else {\n                    start = result.left.position;\n                    length = result.right.position - result.left.position - patterns[result.right.id].length;\n                }\n                result.value = new ByteStream({\n                    buffer: this._buffer.slice(start, start + length),\n                });\n                break;\n            }\n            result.left = result.right;\n            currentLength -= patterns[result.right.id].length;\n        }\n        if (backward) {\n            const temp = result.right;\n            result.right = result.left;\n            result.left = temp;\n        }\n        return result;\n    }\n    findAllNotIn(patterns, start_, length_) {\n        let { start, length } = this.prepareFindParameters(start_, length_);\n        const result = [];\n        let patternFound = {\n            left: {\n                id: (-1),\n                position: start\n            },\n            right: {\n                id: (-1),\n                position: start\n            },\n            value: new ByteStream()\n        };\n        do {\n            const position = patternFound.right.position;\n            patternFound = this.findFirstNotIn(patterns, patternFound.right.position, length);\n            length -= (patternFound.right.position - position);\n            result.push({\n                left: {\n                    id: patternFound.left.id,\n                    position: patternFound.left.position\n                },\n                right: {\n                    id: patternFound.right.id,\n                    position: patternFound.right.position\n                },\n                value: patternFound.value\n            });\n        } while (patternFound.right.id != (-1));\n        return result;\n    }\n    findFirstSequence(patterns, start_, length_, backward_) {\n        let { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        const firstIn = this.skipNotPatterns(patterns, start, length, backward);\n        if (firstIn == (-1)) {\n            return {\n                position: (-1),\n                value: new ByteStream()\n            };\n        }\n        const firstNotIn = this.skipPatterns(patterns, firstIn, length - ((backward) ? (start - firstIn) : (firstIn - start)), backward);\n        if (backward) {\n            start = firstNotIn;\n            length = (firstIn - firstNotIn);\n        }\n        else {\n            start = firstIn;\n            length = (firstNotIn - firstIn);\n        }\n        const value = new ByteStream({\n            buffer: this._buffer.slice(start, start + length),\n        });\n        return {\n            position: firstNotIn,\n            value\n        };\n    }\n    findAllSequences(patterns, start_, length_) {\n        let { start, length } = this.prepareFindParameters(start_, length_);\n        const result = [];\n        let patternFound = {\n            position: start,\n            value: new ByteStream()\n        };\n        do {\n            const position = patternFound.position;\n            patternFound = this.findFirstSequence(patterns, patternFound.position, length);\n            if (patternFound.position != (-1)) {\n                length -= (patternFound.position - position);\n                result.push({\n                    position: patternFound.position,\n                    value: patternFound.value,\n                });\n            }\n        } while (patternFound.position != (-1));\n        return result;\n    }\n    findPairedPatterns(leftPattern, rightPattern, start_, length_) {\n        const result = [];\n        if (leftPattern.isEqual(rightPattern))\n            return result;\n        const { start, length } = this.prepareFindParameters(start_, length_);\n        let currentPositionLeft = 0;\n        const leftPatterns = this.findAllPatternIn(leftPattern, start, length);\n        if (!Array.isArray(leftPatterns) || leftPatterns.length == 0) {\n            return result;\n        }\n        const rightPatterns = this.findAllPatternIn(rightPattern, start, length);\n        if (!Array.isArray(rightPatterns) || rightPatterns.length == 0) {\n            return result;\n        }\n        while (currentPositionLeft < leftPatterns.length) {\n            if (rightPatterns.length == 0) {\n                break;\n            }\n            if (leftPatterns[0] == rightPatterns[0]) {\n                result.push({\n                    left: leftPatterns[0],\n                    right: rightPatterns[0]\n                });\n                leftPatterns.splice(0, 1);\n                rightPatterns.splice(0, 1);\n                continue;\n            }\n            if (leftPatterns[currentPositionLeft] > rightPatterns[0]) {\n                break;\n            }\n            while (leftPatterns[currentPositionLeft] < rightPatterns[0]) {\n                currentPositionLeft++;\n                if (currentPositionLeft >= leftPatterns.length) {\n                    break;\n                }\n            }\n            result.push({\n                left: leftPatterns[currentPositionLeft - 1],\n                right: rightPatterns[0]\n            });\n            leftPatterns.splice(currentPositionLeft - 1, 1);\n            rightPatterns.splice(0, 1);\n            currentPositionLeft = 0;\n        }\n        result.sort((a, b) => (a.left - b.left));\n        return result;\n    }\n    findPairedArrays(inputLeftPatterns, inputRightPatterns, start_, length_) {\n        const { start, length } = this.prepareFindParameters(start_, length_);\n        const result = [];\n        let currentPositionLeft = 0;\n        const leftPatterns = this.findAllIn(inputLeftPatterns, start, length);\n        if (leftPatterns.length == 0)\n            return result;\n        const rightPatterns = this.findAllIn(inputRightPatterns, start, length);\n        if (rightPatterns.length == 0)\n            return result;\n        while (currentPositionLeft < leftPatterns.length) {\n            if (rightPatterns.length == 0) {\n                break;\n            }\n            if (leftPatterns[0].position == rightPatterns[0].position) {\n                result.push({\n                    left: leftPatterns[0],\n                    right: rightPatterns[0]\n                });\n                leftPatterns.splice(0, 1);\n                rightPatterns.splice(0, 1);\n                continue;\n            }\n            if (leftPatterns[currentPositionLeft].position > rightPatterns[0].position) {\n                break;\n            }\n            while (leftPatterns[currentPositionLeft].position < rightPatterns[0].position) {\n                currentPositionLeft++;\n                if (currentPositionLeft >= leftPatterns.length) {\n                    break;\n                }\n            }\n            result.push({\n                left: leftPatterns[currentPositionLeft - 1],\n                right: rightPatterns[0]\n            });\n            leftPatterns.splice(currentPositionLeft - 1, 1);\n            rightPatterns.splice(0, 1);\n            currentPositionLeft = 0;\n        }\n        result.sort((a, b) => (a.left.position - b.left.position));\n        return result;\n    }\n    replacePattern(searchPattern, replacePattern, start_, length_, findAllResult = null) {\n        let result = [];\n        let i;\n        const output = {\n            status: (-1),\n            searchPatternPositions: [],\n            replacePatternPositions: []\n        };\n        const { start, length } = this.prepareFindParameters(start_, length_);\n        if (findAllResult == null) {\n            result = this.findAllIn([searchPattern], start, length);\n            if (result.length == 0) {\n                return output;\n            }\n        }\n        else {\n            result = findAllResult;\n        }\n        output.searchPatternPositions.push(...Array.from(result, element => element.position));\n        const patternDifference = searchPattern.length - replacePattern.length;\n        const changedBuffer = new ArrayBuffer(this.view.length - (result.length * patternDifference));\n        const changedView = new Uint8Array(changedBuffer);\n        changedView.set(new Uint8Array(this.buffer, 0, start));\n        for (i = 0; i < result.length; i++) {\n            const currentPosition = (i == 0) ? start : result[i - 1].position;\n            changedView.set(new Uint8Array(this.buffer, currentPosition, result[i].position - searchPattern.length - currentPosition), currentPosition - i * patternDifference);\n            changedView.set(replacePattern.view, result[i].position - searchPattern.length - i * patternDifference);\n            output.replacePatternPositions.push(result[i].position - searchPattern.length - i * patternDifference);\n        }\n        i--;\n        changedView.set(new Uint8Array(this.buffer, result[i].position, this.length - result[i].position), result[i].position - searchPattern.length + replacePattern.length - i * patternDifference);\n        this.buffer = changedBuffer;\n        this.view = new Uint8Array(this.buffer);\n        output.status = 1;\n        return output;\n    }\n    skipPatterns(patterns, start_, length_, backward_) {\n        const { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        let result = start;\n        for (let k = 0; k < patterns.length; k++) {\n            const patternLength = patterns[k].length;\n            const equalStart = (backward) ? (result - patternLength) : (result);\n            let equal = true;\n            for (let j = 0; j < patternLength; j++) {\n                if (this.view[j + equalStart] != patterns[k].view[j]) {\n                    equal = false;\n                    break;\n                }\n            }\n            if (equal) {\n                k = (-1);\n                if (backward) {\n                    result -= patternLength;\n                    if (result <= 0)\n                        return result;\n                }\n                else {\n                    result += patternLength;\n                    if (result >= (start + length))\n                        return result;\n                }\n            }\n        }\n        return result;\n    }\n    skipNotPatterns(patterns, start_, length_, backward_) {\n        const { start, length, backward } = this.prepareFindParameters(start_, length_, backward_);\n        let result = (-1);\n        for (let i = 0; i < length; i++) {\n            for (let k = 0; k < patterns.length; k++) {\n                const patternLength = patterns[k].length;\n                const equalStart = (backward) ? (start - i - patternLength) : (start + i);\n                let equal = true;\n                for (let j = 0; j < patternLength; j++) {\n                    if (this.view[j + equalStart] != patterns[k].view[j]) {\n                        equal = false;\n                        break;\n                    }\n                }\n                if (equal) {\n                    result = (backward) ? (start - i) : (start + i);\n                    break;\n                }\n            }\n            if (result != (-1)) {\n                break;\n            }\n        }\n        return result;\n    }\n    prepareFindParameters(start = null, length = null, backward = false) {\n        if (start === null) {\n            start = (backward) ? this.length : 0;\n        }\n        if (start > this.length) {\n            start = this.length;\n        }\n        if (backward) {\n            if (length === null) {\n                length = start;\n            }\n            if (length > start) {\n                length = start;\n            }\n        }\n        else {\n            if (length === null) {\n                length = this.length - start;\n            }\n            if (length > (this.length - start)) {\n                length = this.length - start;\n            }\n        }\n        return { start, length, backward };\n    }\n}\n","import { ByteStream } from \"./byte_stream\";\nexport class SeqStream {\n    constructor(parameters = {}) {\n        this._stream = new ByteStream();\n        this._length = 0;\n        this._start = 0;\n        this.backward = false;\n        this.appendBlock = 0;\n        this.prevLength = 0;\n        this.prevStart = 0;\n        if (\"view\" in parameters) {\n            this.stream = new ByteStream({ view: parameters.view });\n        }\n        else if (\"buffer\" in parameters) {\n            this.stream = new ByteStream({ buffer: parameters.buffer });\n        }\n        else if (\"string\" in parameters) {\n            this.stream = new ByteStream({ string: parameters.string });\n        }\n        else if (\"hexstring\" in parameters) {\n            this.stream = new ByteStream({ hexstring: parameters.hexstring });\n        }\n        else if (\"stream\" in parameters) {\n            this.stream = parameters.stream.slice();\n        }\n        else {\n            this.stream = new ByteStream();\n        }\n        if (\"backward\" in parameters && parameters.backward) {\n            this.backward = parameters.backward;\n            this._start = this.stream.length;\n        }\n        if (\"length\" in parameters && parameters.length > 0) {\n            this._length = parameters.length;\n        }\n        if (\"start\" in parameters && parameters.start && parameters.start > 0) {\n            this._start = parameters.start;\n        }\n        if (\"appendBlock\" in parameters && parameters.appendBlock && parameters.appendBlock > 0) {\n            this.appendBlock = parameters.appendBlock;\n        }\n    }\n    set stream(value) {\n        this._stream = value;\n        this.prevLength = this._length;\n        this._length = value.length;\n        this.prevStart = this._start;\n        this._start = 0;\n    }\n    get stream() {\n        return this._stream;\n    }\n    set length(value) {\n        this.prevLength = this._length;\n        this._length = value;\n    }\n    get length() {\n        if (this.appendBlock) {\n            return this.start;\n        }\n        return this._length;\n    }\n    set start(value) {\n        if (value > this.stream.length)\n            return;\n        this.prevStart = this._start;\n        this.prevLength = this._length;\n        this._length -= (this.backward) ? (this._start - value) : (value - this._start);\n        this._start = value;\n    }\n    get start() {\n        return this._start;\n    }\n    get buffer() {\n        return this._stream.buffer.slice(0, this._length);\n    }\n    resetPosition() {\n        this._start = this.prevStart;\n        this._length = this.prevLength;\n    }\n    findPattern(pattern, gap = null) {\n        if ((gap == null) || (gap > this.length)) {\n            gap = this.length;\n        }\n        const result = this.stream.findPattern(pattern, this.start, this.length, this.backward);\n        if (result == (-1))\n            return result;\n        if (this.backward) {\n            if (result < (this.start - pattern.length - gap)) {\n                return (-1);\n            }\n        }\n        else {\n            if (result > (this.start + pattern.length + gap)) {\n                return (-1);\n            }\n        }\n        this.start = result;\n        return result;\n    }\n    findFirstIn(patterns, gap = null) {\n        if ((gap == null) || (gap > this.length)) {\n            gap = this.length;\n        }\n        const result = this.stream.findFirstIn(patterns, this.start, this.length, this.backward);\n        if (result.id == (-1))\n            return result;\n        if (this.backward) {\n            if (result.position < (this.start - patterns[result.id].length - gap)) {\n                return {\n                    id: (-1),\n                    position: (this.backward) ? 0 : (this.start + this.length)\n                };\n            }\n        }\n        else {\n            if (result.position > (this.start + patterns[result.id].length + gap)) {\n                return {\n                    id: (-1),\n                    position: (this.backward) ? 0 : (this.start + this.length)\n                };\n            }\n        }\n        this.start = result.position;\n        return result;\n    }\n    findAllIn(patterns) {\n        const start = (this.backward) ? (this.start - this.length) : this.start;\n        return this.stream.findAllIn(patterns, start, this.length);\n    }\n    findFirstNotIn(patterns, gap = null) {\n        if ((gap == null) || (gap > this._length)) {\n            gap = this._length;\n        }\n        const result = this._stream.findFirstNotIn(patterns, this._start, this._length, this.backward);\n        if ((result.left.id == (-1)) && (result.right.id == (-1))) {\n            return result;\n        }\n        if (this.backward) {\n            if (result.right.id != (-1)) {\n                if (result.right.position < (this._start - patterns[result.right.id].length - gap)) {\n                    return {\n                        left: {\n                            id: (-1),\n                            position: this._start\n                        },\n                        right: {\n                            id: (-1),\n                            position: 0\n                        },\n                        value: new ByteStream()\n                    };\n                }\n            }\n        }\n        else {\n            if (result.left.id != (-1)) {\n                if (result.left.position > (this._start + patterns[result.left.id].length + gap)) {\n                    return {\n                        left: {\n                            id: (-1),\n                            position: this._start\n                        },\n                        right: {\n                            id: (-1),\n                            position: 0\n                        },\n                        value: new ByteStream()\n                    };\n                }\n            }\n        }\n        if (this.backward) {\n            if (result.left.id == (-1)) {\n                this.start = 0;\n            }\n            else {\n                this.start = result.left.position;\n            }\n        }\n        else {\n            if (result.right.id == (-1)) {\n                this.start = (this._start + this._length);\n            }\n            else {\n                this.start = result.right.position;\n            }\n        }\n        return result;\n    }\n    findAllNotIn(patterns) {\n        const start = (this.backward) ? (this._start - this._length) : this._start;\n        return this._stream.findAllNotIn(patterns, start, this._length);\n    }\n    findFirstSequence(patterns, length = null, gap = null) {\n        if ((length == null) || (length > this._length)) {\n            length = this._length;\n        }\n        if ((gap == null) || (gap > length)) {\n            gap = length;\n        }\n        const result = this._stream.findFirstSequence(patterns, this._start, length, this.backward);\n        if (result.value.length == 0) {\n            return result;\n        }\n        if (this.backward) {\n            if (result.position < (this._start - result.value.length - gap)) {\n                return {\n                    position: (-1),\n                    value: new ByteStream()\n                };\n            }\n        }\n        else {\n            if (result.position > (this._start + result.value.length + gap)) {\n                return {\n                    position: (-1),\n                    value: new ByteStream()\n                };\n            }\n        }\n        this.start = result.position;\n        return result;\n    }\n    findAllSequences(patterns) {\n        const start = (this.backward) ? (this.start - this.length) : this.start;\n        return this.stream.findAllSequences(patterns, start, this.length);\n    }\n    findPairedPatterns(leftPattern, rightPattern, gap = null) {\n        if ((gap == null) || (gap > this.length)) {\n            gap = this.length;\n        }\n        const start = (this.backward) ? (this.start - this.length) : this.start;\n        const result = this.stream.findPairedPatterns(leftPattern, rightPattern, start, this.length);\n        if (result.length) {\n            if (this.backward) {\n                if (result[0].right < (this.start - rightPattern.length - gap)) {\n                    return [];\n                }\n            }\n            else {\n                if (result[0].left > (this.start + leftPattern.length + gap)) {\n                    return [];\n                }\n            }\n        }\n        return result;\n    }\n    findPairedArrays(leftPatterns, rightPatterns, gap = null) {\n        if ((gap == null) || (gap > this.length)) {\n            gap = this.length;\n        }\n        const start = (this.backward) ? (this.start - this.length) : this.start;\n        const result = this.stream.findPairedArrays(leftPatterns, rightPatterns, start, this.length);\n        if (result.length) {\n            if (this.backward) {\n                if (result[0].right.position < (this.start - rightPatterns[result[0].right.id].length - gap)) {\n                    return [];\n                }\n            }\n            else {\n                if (result[0].left.position > (this.start + leftPatterns[result[0].left.id].length + gap)) {\n                    return [];\n                }\n            }\n        }\n        return result;\n    }\n    replacePattern(searchPattern, replacePattern) {\n        const start = (this.backward) ? (this.start - this.length) : this.start;\n        return this.stream.replacePattern(searchPattern, replacePattern, start, this.length);\n    }\n    skipPatterns(patterns) {\n        const result = this.stream.skipPatterns(patterns, this.start, this.length, this.backward);\n        this.start = result;\n        return result;\n    }\n    skipNotPatterns(patterns) {\n        const result = this.stream.skipNotPatterns(patterns, this.start, this.length, this.backward);\n        if (result == (-1))\n            return (-1);\n        this.start = result;\n        return result;\n    }\n    append(stream) {\n        this.beforeAppend(stream.length);\n        this._stream.view.set(stream.view, this._start);\n        this._length += (stream.length * 2);\n        this.start = (this._start + stream.length);\n        this.prevLength -= (stream.length * 2);\n    }\n    appendView(view) {\n        this.beforeAppend(view.length);\n        this._stream.view.set(view, this._start);\n        this._length += (view.length * 2);\n        this.start = (this._start + view.length);\n        this.prevLength -= (view.length * 2);\n    }\n    appendChar(char) {\n        this.beforeAppend(1);\n        this._stream.view[this._start] = char;\n        this._length += 2;\n        this.start = (this._start + 1);\n        this.prevLength -= 2;\n    }\n    appendUint16(number) {\n        this.beforeAppend(2);\n        const value = new Uint16Array([number]);\n        const view = new Uint8Array(value.buffer);\n        this.stream.view[this._start] = view[1];\n        this._stream.view[this._start + 1] = view[0];\n        this._length += 4;\n        this.start = this._start + 2;\n        this.prevLength -= 4;\n    }\n    appendUint24(number) {\n        this.beforeAppend(3);\n        const value = new Uint32Array([number]);\n        const view = new Uint8Array(value.buffer);\n        this._stream.view[this._start] = view[2];\n        this._stream.view[this._start + 1] = view[1];\n        this._stream.view[this._start + 2] = view[0];\n        this._length += 6;\n        this.start = (this._start + 3);\n        this.prevLength -= 6;\n    }\n    appendUint32(number) {\n        this.beforeAppend(4);\n        const value = new Uint32Array([number]);\n        const view = new Uint8Array(value.buffer);\n        this._stream.view[this._start] = view[3];\n        this._stream.view[this._start + 1] = view[2];\n        this._stream.view[this._start + 2] = view[1];\n        this._stream.view[this._start + 3] = view[0];\n        this._length += 8;\n        this.start = (this._start + 4);\n        this.prevLength -= 8;\n    }\n    appendInt16(number) {\n        this.beforeAppend(2);\n        const value = new Int16Array([number]);\n        const view = new Uint8Array(value.buffer);\n        this._stream.view[this._start] = view[1];\n        this._stream.view[this._start + 1] = view[0];\n        this._length += 4;\n        this.start = (this._start + 2);\n        this.prevLength -= 4;\n    }\n    appendInt32(number) {\n        this.beforeAppend(4);\n        const value = new Int32Array([number]);\n        const view = new Uint8Array(value.buffer);\n        this._stream.view[this._start] = view[3];\n        this._stream.view[this._start + 1] = view[2];\n        this._stream.view[this._start + 2] = view[1];\n        this._stream.view[this._start + 3] = view[0];\n        this._length += 8;\n        this.start = (this._start + 4);\n        this.prevLength -= 8;\n    }\n    getBlock(size, changeLength = true) {\n        if (this._length <= 0) {\n            return new Uint8Array(0);\n        }\n        if (this._length < size) {\n            size = this._length;\n        }\n        let result;\n        if (this.backward) {\n            const view = this._stream.view.subarray(this._length - size, this._length);\n            result = new Uint8Array(size);\n            for (let i = 0; i < size; i++) {\n                result[size - 1 - i] = view[i];\n            }\n        }\n        else {\n            result = this._stream.view.subarray(this._start, this._start + size);\n        }\n        if (changeLength) {\n            this.start += ((this.backward) ? ((-1) * size) : size);\n        }\n        return result;\n    }\n    getUint16(changeLength = true) {\n        const block = this.getBlock(2, changeLength);\n        if (block.length < 2)\n            return 0;\n        const value = new Uint16Array(1);\n        const view = new Uint8Array(value.buffer);\n        view[0] = block[1];\n        view[1] = block[0];\n        return value[0];\n    }\n    getInt16(changeLength = true) {\n        const block = this.getBlock(2, changeLength);\n        if (block.length < 2)\n            return 0;\n        const value = new Int16Array(1);\n        const view = new Uint8Array(value.buffer);\n        view[0] = block[1];\n        view[1] = block[0];\n        return value[0];\n    }\n    getUint24(changeLength = true) {\n        const block = this.getBlock(3, changeLength);\n        if (block.length < 3)\n            return 0;\n        const value = new Uint32Array(1);\n        const view = new Uint8Array(value.buffer);\n        for (let i = 3; i >= 1; i--) {\n            view[3 - i] = block[i - 1];\n        }\n        return value[0];\n    }\n    getUint32(changeLength = true) {\n        const block = this.getBlock(4, changeLength);\n        if (block.length < 4) {\n            return 0;\n        }\n        const value = new Uint32Array(1);\n        const view = new Uint8Array(value.buffer);\n        for (let i = 3; i >= 0; i--) {\n            view[3 - i] = block[i];\n        }\n        return value[0];\n    }\n    getInt32(changeLength = true) {\n        const block = this.getBlock(4, changeLength);\n        if (block.length < 4)\n            return 0;\n        const value = new Int32Array(1);\n        const view = new Uint8Array(value.buffer);\n        for (let i = 3; i >= 0; i--) {\n            view[3 - i] = block[i];\n        }\n        return value[0];\n    }\n    beforeAppend(size) {\n        if ((this._start + size) > this._stream.length) {\n            if (size > this.appendBlock) {\n                this.appendBlock = size + SeqStream.APPEND_BLOCK;\n            }\n            this._stream.realloc(this._stream.length + this.appendBlock);\n        }\n    }\n}\nSeqStream.APPEND_BLOCK = 1000;\n","/*!\n * Copyright (c) 2014, GlobalSign\n * Copyright (c) 2015-2019, Peculiar Ventures\n * All rights reserved.\n * \n * Author 2014-2019, Yury Strozhevsky\n * \n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n * \n * * Redistributions of source code must retain the above copyright notice, this\n *   list of conditions and the following disclaimer.\n * \n * * Redistributions in binary form must reproduce the above copyright notice, this\n *   list of conditions and the following disclaimer in the documentation and/or\n *   other materials provided with the distribution.\n * \n * * Neither the name of the {organization} nor the names of its\n *   contributors may be used to endorse or promote products derived from\n *   this software without specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n * \n */\n\nimport * as asn1js from 'asn1js';\nimport * as pvtsutils from 'pvtsutils';\nimport { BufferSourceConverter } from 'pvtsutils';\nimport * as pvutils from 'pvutils';\nimport * as bs from 'bytestreamjs';\n\nconst EMPTY_BUFFER = new ArrayBuffer(0);\r\nconst EMPTY_STRING = \"\";\n\nclass ArgumentError extends TypeError {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = ArgumentError.NAME;\r\n    }\r\n    static isType(value, type) {\r\n        if (typeof type === \"string\") {\r\n            if (type === \"Array\" && Array.isArray(value)) {\r\n                return true;\r\n            }\r\n            else if (type === \"ArrayBuffer\" && value instanceof ArrayBuffer) {\r\n                return true;\r\n            }\r\n            else if (type === \"ArrayBufferView\" && ArrayBuffer.isView(value)) {\r\n                return true;\r\n            }\r\n            else if (typeof value === type) {\r\n                return true;\r\n            }\r\n        }\r\n        else if (value instanceof type) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    static assert(value, name, ...types) {\r\n        for (const type of types) {\r\n            if (this.isType(value, type)) {\r\n                return;\r\n            }\r\n        }\r\n        const typeNames = types.map(o => o instanceof Function && \"name\" in o ? o.name : `${o}`);\r\n        throw new ArgumentError(`Parameter '${name}' is not of type ${typeNames.length > 1 ? `(${typeNames.join(\" or \")})` : typeNames[0]}`);\r\n    }\r\n}\r\nArgumentError.NAME = \"ArgumentError\";\n\nclass ParameterError extends TypeError {\r\n    constructor(field, target = null, message) {\r\n        super();\r\n        this.name = ParameterError.NAME;\r\n        this.field = field;\r\n        if (target) {\r\n            this.target = target;\r\n        }\r\n        if (message) {\r\n            this.message = message;\r\n        }\r\n        else {\r\n            this.message = `Absent mandatory parameter '${field}' ${target ? ` in '${target}'` : EMPTY_STRING}`;\r\n        }\r\n    }\r\n    static assert(...args) {\r\n        let target = null;\r\n        let params;\r\n        let fields;\r\n        if (typeof args[0] === \"string\") {\r\n            target = args[0];\r\n            params = args[1];\r\n            fields = args.slice(2);\r\n        }\r\n        else {\r\n            params = args[0];\r\n            fields = args.slice(1);\r\n        }\r\n        ArgumentError.assert(params, \"parameters\", \"object\");\r\n        for (const field of fields) {\r\n            const value = params[field];\r\n            if (value === undefined || value === null) {\r\n                throw new ParameterError(field, target);\r\n            }\r\n        }\r\n    }\r\n    static assertEmpty(value, name, target) {\r\n        if (value === undefined || value === null) {\r\n            throw new ParameterError(name, target);\r\n        }\r\n    }\r\n}\r\nParameterError.NAME = \"ParameterError\";\n\nclass AsnError extends Error {\r\n    static assertSchema(asn1, target) {\r\n        if (!asn1.verified) {\r\n            throw new Error(`Object's schema was not verified against input data for ${target}`);\r\n        }\r\n    }\r\n    static assert(asn, target) {\r\n        if (asn.offset === -1) {\r\n            throw new AsnError(`Error during parsing of ASN.1 data. Data is not correct for '${target}'.`);\r\n        }\r\n    }\r\n    constructor(message) {\r\n        super(message);\r\n        this.name = \"AsnError\";\r\n    }\r\n}\n\nclass PkiObject {\r\n    static blockName() {\r\n        return this.CLASS_NAME;\r\n    }\r\n    static fromBER(raw) {\r\n        const asn1 = asn1js.fromBER(raw);\r\n        AsnError.assert(asn1, this.name);\r\n        try {\r\n            return new this({ schema: asn1.result });\r\n        }\r\n        catch (e) {\r\n            throw new AsnError(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${memberName}`);\r\n    }\r\n    static schema(parameters = {}) {\r\n        throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`);\r\n    }\r\n    get className() {\r\n        return this.constructor.CLASS_NAME;\r\n    }\r\n    toString(encoding = \"hex\") {\r\n        let schema;\r\n        try {\r\n            schema = this.toSchema();\r\n        }\r\n        catch {\r\n            schema = this.toSchema(true);\r\n        }\r\n        return pvtsutils.Convert.ToString(schema.toBER(), encoding);\r\n    }\r\n}\r\nPkiObject.CLASS_NAME = \"PkiObject\";\n\nfunction stringPrep(inputString) {\r\n    let isSpace = false;\r\n    let cutResult = EMPTY_STRING;\r\n    const result = inputString.trim();\r\n    for (let i = 0; i < result.length; i++) {\r\n        if (result.charCodeAt(i) === 32) {\r\n            if (isSpace === false)\r\n                isSpace = true;\r\n        }\r\n        else {\r\n            if (isSpace) {\r\n                cutResult += \" \";\r\n                isSpace = false;\r\n            }\r\n            cutResult += result[i];\r\n        }\r\n    }\r\n    return cutResult.toLowerCase();\r\n}\n\nconst TYPE$5 = \"type\";\r\nconst VALUE$6 = \"value\";\r\nclass AttributeTypeAndValue extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.type = pvutils.getParametersValue(parameters, TYPE$5, AttributeTypeAndValue.defaultValues(TYPE$5));\r\n        this.value = pvutils.getParametersValue(parameters, VALUE$6, AttributeTypeAndValue.defaultValues(VALUE$6));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE$5:\r\n                return EMPTY_STRING;\r\n            case VALUE$6:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.type || EMPTY_STRING) }),\r\n                new asn1js.Any({ name: (names.value || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            TYPE$5,\r\n            \"typeValue\"\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttributeTypeAndValue.schema({\r\n            names: {\r\n                type: TYPE$5,\r\n                value: \"typeValue\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.type = asn1.result.type.valueBlock.toString();\r\n        this.value = asn1.result.typeValue;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.type }),\r\n                this.value\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const _object = {\r\n            type: this.type\r\n        };\r\n        if (Object.keys(this.value).length !== 0) {\r\n            _object.value = (this.value).toJSON();\r\n        }\r\n        else {\r\n            _object.value = this.value;\r\n        }\r\n        return _object;\r\n    }\r\n    isEqual(compareTo) {\r\n        const stringBlockNames = [\r\n            asn1js.Utf8String.blockName(),\r\n            asn1js.BmpString.blockName(),\r\n            asn1js.UniversalString.blockName(),\r\n            asn1js.NumericString.blockName(),\r\n            asn1js.PrintableString.blockName(),\r\n            asn1js.TeletexString.blockName(),\r\n            asn1js.VideotexString.blockName(),\r\n            asn1js.IA5String.blockName(),\r\n            asn1js.GraphicString.blockName(),\r\n            asn1js.VisibleString.blockName(),\r\n            asn1js.GeneralString.blockName(),\r\n            asn1js.CharacterString.blockName()\r\n        ];\r\n        if (compareTo instanceof ArrayBuffer) {\r\n            return pvtsutils.BufferSourceConverter.isEqual(this.value.valueBeforeDecodeView, compareTo);\r\n        }\r\n        if (compareTo.constructor.blockName() === AttributeTypeAndValue.blockName()) {\r\n            if (this.type !== compareTo.type)\r\n                return false;\r\n            const isStringPair = [false, false];\r\n            const thisName = this.value.constructor.blockName();\r\n            for (const name of stringBlockNames) {\r\n                if (thisName === name) {\r\n                    isStringPair[0] = true;\r\n                }\r\n                if (compareTo.value.constructor.blockName() === name) {\r\n                    isStringPair[1] = true;\r\n                }\r\n            }\r\n            if (isStringPair[0] !== isStringPair[1]) {\r\n                return false;\r\n            }\r\n            const isString = (isStringPair[0] && isStringPair[1]);\r\n            if (isString) {\r\n                const value1 = stringPrep(this.value.valueBlock.value);\r\n                const value2 = stringPrep(compareTo.value.valueBlock.value);\r\n                if (value1.localeCompare(value2) !== 0)\r\n                    return false;\r\n            }\r\n            else {\r\n                if (!pvtsutils.BufferSourceConverter.isEqual(this.value.valueBeforeDecodeView, compareTo.value.valueBeforeDecodeView))\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\nAttributeTypeAndValue.CLASS_NAME = \"AttributeTypeAndValue\";\n\nconst TYPE_AND_VALUES = \"typesAndValues\";\r\nconst VALUE_BEFORE_DECODE = \"valueBeforeDecode\";\r\nconst RDN = \"RDN\";\r\nclass RelativeDistinguishedNames extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.typesAndValues = pvutils.getParametersValue(parameters, TYPE_AND_VALUES, RelativeDistinguishedNames.defaultValues(TYPE_AND_VALUES));\r\n        this.valueBeforeDecode = pvutils.getParametersValue(parameters, VALUE_BEFORE_DECODE, RelativeDistinguishedNames.defaultValues(VALUE_BEFORE_DECODE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE_AND_VALUES:\r\n                return [];\r\n            case VALUE_BEFORE_DECODE:\r\n                return EMPTY_BUFFER;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TYPE_AND_VALUES:\r\n                return (memberValue.length === 0);\r\n            case VALUE_BEFORE_DECODE:\r\n                return (memberValue.byteLength === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.repeatedSequence || EMPTY_STRING),\r\n                    value: new asn1js.Set({\r\n                        value: [\r\n                            new asn1js.Repeated({\r\n                                name: (names.repeatedSet || EMPTY_STRING),\r\n                                value: AttributeTypeAndValue.schema(names.typeAndValue || {})\r\n                            })\r\n                        ]\r\n                    })\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            RDN,\r\n            TYPE_AND_VALUES\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RelativeDistinguishedNames.schema({\r\n            names: {\r\n                blockName: RDN,\r\n                repeatedSet: TYPE_AND_VALUES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (TYPE_AND_VALUES in asn1.result) {\r\n            this.typesAndValues = Array.from(asn1.result.typesAndValues, element => new AttributeTypeAndValue({ schema: element }));\r\n        }\r\n        this.valueBeforeDecode = asn1.result.RDN.valueBeforeDecodeView.slice().buffer;\r\n    }\r\n    toSchema() {\r\n        if (this.valueBeforeDecode.byteLength === 0) {\r\n            return (new asn1js.Sequence({\r\n                value: [new asn1js.Set({\r\n                        value: Array.from(this.typesAndValues, o => o.toSchema())\r\n                    })]\r\n            }));\r\n        }\r\n        const asn1 = asn1js.fromBER(this.valueBeforeDecode);\r\n        AsnError.assert(asn1, \"RelativeDistinguishedNames\");\r\n        if (!(asn1.result instanceof asn1js.Sequence)) {\r\n            throw new Error(\"ASN.1 result should be SEQUENCE\");\r\n        }\r\n        return asn1.result;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            typesAndValues: Array.from(this.typesAndValues, o => o.toJSON())\r\n        };\r\n    }\r\n    isEqual(compareTo) {\r\n        if (compareTo instanceof RelativeDistinguishedNames) {\r\n            if (this.typesAndValues.length !== compareTo.typesAndValues.length)\r\n                return false;\r\n            for (const [index, typeAndValue] of this.typesAndValues.entries()) {\r\n                if (typeAndValue.isEqual(compareTo.typesAndValues[index]) === false)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n        if (compareTo instanceof ArrayBuffer) {\r\n            return pvutils.isEqualBuffer(this.valueBeforeDecode, compareTo);\r\n        }\r\n        return false;\r\n    }\r\n}\r\nRelativeDistinguishedNames.CLASS_NAME = \"RelativeDistinguishedNames\";\n\nconst TYPE$4 = \"type\";\r\nconst VALUE$5 = \"value\";\r\nfunction builtInStandardAttributes(parameters = {}, optional = false) {\r\n    const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n    return (new asn1js.Sequence({\r\n        optional,\r\n        value: [\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 2,\r\n                    tagNumber: 1\r\n                },\r\n                name: (names.country_name || EMPTY_STRING),\r\n                value: [\r\n                    new asn1js.Choice({\r\n                        value: [\r\n                            new asn1js.NumericString(),\r\n                            new asn1js.PrintableString()\r\n                        ]\r\n                    })\r\n                ]\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 2,\r\n                    tagNumber: 2\r\n                },\r\n                name: (names.administration_domain_name || EMPTY_STRING),\r\n                value: [\r\n                    new asn1js.Choice({\r\n                        value: [\r\n                            new asn1js.NumericString(),\r\n                            new asn1js.PrintableString()\r\n                        ]\r\n                    })\r\n                ]\r\n            }),\r\n            new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                name: (names.network_address || EMPTY_STRING),\r\n                isHexOnly: true\r\n            }),\r\n            new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                name: (names.terminal_identifier || EMPTY_STRING),\r\n                isHexOnly: true\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                name: (names.private_domain_name || EMPTY_STRING),\r\n                value: [\r\n                    new asn1js.Choice({\r\n                        value: [\r\n                            new asn1js.NumericString(),\r\n                            new asn1js.PrintableString()\r\n                        ]\r\n                    })\r\n                ]\r\n            }),\r\n            new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 3\r\n                },\r\n                name: (names.organization_name || EMPTY_STRING),\r\n                isHexOnly: true\r\n            }),\r\n            new asn1js.Primitive({\r\n                optional: true,\r\n                name: (names.numeric_user_identifier || EMPTY_STRING),\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 4\r\n                },\r\n                isHexOnly: true\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                name: (names.personal_name || EMPTY_STRING),\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 5\r\n                },\r\n                value: [\r\n                    new asn1js.Primitive({\r\n                        idBlock: {\r\n                            tagClass: 3,\r\n                            tagNumber: 0\r\n                        },\r\n                        isHexOnly: true\r\n                    }),\r\n                    new asn1js.Primitive({\r\n                        optional: true,\r\n                        idBlock: {\r\n                            tagClass: 3,\r\n                            tagNumber: 1\r\n                        },\r\n                        isHexOnly: true\r\n                    }),\r\n                    new asn1js.Primitive({\r\n                        optional: true,\r\n                        idBlock: {\r\n                            tagClass: 3,\r\n                            tagNumber: 2\r\n                        },\r\n                        isHexOnly: true\r\n                    }),\r\n                    new asn1js.Primitive({\r\n                        optional: true,\r\n                        idBlock: {\r\n                            tagClass: 3,\r\n                            tagNumber: 3\r\n                        },\r\n                        isHexOnly: true\r\n                    })\r\n                ]\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                name: (names.organizational_unit_names || EMPTY_STRING),\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 6\r\n                },\r\n                value: [\r\n                    new asn1js.Repeated({\r\n                        value: new asn1js.PrintableString()\r\n                    })\r\n                ]\r\n            })\r\n        ]\r\n    }));\r\n}\r\nfunction builtInDomainDefinedAttributes(optional = false) {\r\n    return (new asn1js.Sequence({\r\n        optional,\r\n        value: [\r\n            new asn1js.PrintableString(),\r\n            new asn1js.PrintableString()\r\n        ]\r\n    }));\r\n}\r\nfunction extensionAttributes(optional = false) {\r\n    return (new asn1js.Set({\r\n        optional,\r\n        value: [\r\n            new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                isHexOnly: true\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [new asn1js.Any()]\r\n            })\r\n        ]\r\n    }));\r\n}\r\nclass GeneralName extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.type = pvutils.getParametersValue(parameters, TYPE$4, GeneralName.defaultValues(TYPE$4));\r\n        this.value = pvutils.getParametersValue(parameters, VALUE$5, GeneralName.defaultValues(VALUE$5));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE$4:\r\n                return 9;\r\n            case VALUE$5:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TYPE$4:\r\n                return (memberValue === GeneralName.defaultValues(memberName));\r\n            case VALUE$5:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    value: [\r\n                        new asn1js.ObjectIdentifier(),\r\n                        new asn1js.Constructed({\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                            value: [new asn1js.Any()]\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 3\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    value: [\r\n                        builtInStandardAttributes((names.builtInStandardAttributes || {}), false),\r\n                        builtInDomainDefinedAttributes(true),\r\n                        extensionAttributes(true)\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 4\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    value: [RelativeDistinguishedNames.schema(names.directoryName || {})]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 5\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    value: [\r\n                        new asn1js.Constructed({\r\n                            optional: true,\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                            value: [\r\n                                new asn1js.Choice({\r\n                                    value: [\r\n                                        new asn1js.TeletexString(),\r\n                                        new asn1js.PrintableString(),\r\n                                        new asn1js.UniversalString(),\r\n                                        new asn1js.Utf8String(),\r\n                                        new asn1js.BmpString()\r\n                                    ]\r\n                                })\r\n                            ]\r\n                        }),\r\n                        new asn1js.Constructed({\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 1\r\n                            },\r\n                            value: [\r\n                                new asn1js.Choice({\r\n                                    value: [\r\n                                        new asn1js.TeletexString(),\r\n                                        new asn1js.PrintableString(),\r\n                                        new asn1js.UniversalString(),\r\n                                        new asn1js.Utf8String(),\r\n                                        new asn1js.BmpString()\r\n                                    ]\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 6\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 7\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 8\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            \"blockName\",\r\n            \"otherName\",\r\n            \"rfc822Name\",\r\n            \"dNSName\",\r\n            \"x400Address\",\r\n            \"directoryName\",\r\n            \"ediPartyName\",\r\n            \"uniformResourceIdentifier\",\r\n            \"iPAddress\",\r\n            \"registeredID\"\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, GeneralName.schema({\r\n            names: {\r\n                blockName: \"blockName\",\r\n                otherName: \"otherName\",\r\n                rfc822Name: \"rfc822Name\",\r\n                dNSName: \"dNSName\",\r\n                x400Address: \"x400Address\",\r\n                directoryName: {\r\n                    names: {\r\n                        blockName: \"directoryName\"\r\n                    }\r\n                },\r\n                ediPartyName: \"ediPartyName\",\r\n                uniformResourceIdentifier: \"uniformResourceIdentifier\",\r\n                iPAddress: \"iPAddress\",\r\n                registeredID: \"registeredID\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.type = asn1.result.blockName.idBlock.tagNumber;\r\n        switch (this.type) {\r\n            case 0:\r\n                this.value = asn1.result.blockName;\r\n                break;\r\n            case 1:\r\n            case 2:\r\n            case 6:\r\n                {\r\n                    const value = asn1.result.blockName;\r\n                    value.idBlock.tagClass = 1;\r\n                    value.idBlock.tagNumber = 22;\r\n                    const valueBER = value.toBER(false);\r\n                    const asnValue = asn1js.fromBER(valueBER);\r\n                    AsnError.assert(asnValue, \"GeneralName value\");\r\n                    this.value = asnValue.result.valueBlock.value;\r\n                }\r\n                break;\r\n            case 3:\r\n                this.value = asn1.result.blockName;\r\n                break;\r\n            case 4:\r\n                this.value = new RelativeDistinguishedNames({ schema: asn1.result.directoryName });\r\n                break;\r\n            case 5:\r\n                this.value = asn1.result.ediPartyName;\r\n                break;\r\n            case 7:\r\n                this.value = new asn1js.OctetString({ valueHex: asn1.result.blockName.valueBlock.valueHex });\r\n                break;\r\n            case 8:\r\n                {\r\n                    const value = asn1.result.blockName;\r\n                    value.idBlock.tagClass = 1;\r\n                    value.idBlock.tagNumber = 6;\r\n                    const valueBER = value.toBER(false);\r\n                    const asnValue = asn1js.fromBER(valueBER);\r\n                    AsnError.assert(asnValue, \"GeneralName registeredID\");\r\n                    this.value = asnValue.result.valueBlock.toString();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    toSchema() {\r\n        switch (this.type) {\r\n            case 0:\r\n            case 3:\r\n            case 5:\r\n                return new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: this.type\r\n                    },\r\n                    value: [\r\n                        this.value\r\n                    ]\r\n                });\r\n            case 1:\r\n            case 2:\r\n            case 6:\r\n                {\r\n                    const value = new asn1js.IA5String({ value: this.value });\r\n                    value.idBlock.tagClass = 3;\r\n                    value.idBlock.tagNumber = this.type;\r\n                    return value;\r\n                }\r\n            case 4:\r\n                return new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 4\r\n                    },\r\n                    value: [this.value.toSchema()]\r\n                });\r\n            case 7:\r\n                {\r\n                    const value = this.value;\r\n                    value.idBlock.tagClass = 3;\r\n                    value.idBlock.tagNumber = this.type;\r\n                    return value;\r\n                }\r\n            case 8:\r\n                {\r\n                    const value = new asn1js.ObjectIdentifier({ value: this.value });\r\n                    value.idBlock.tagClass = 3;\r\n                    value.idBlock.tagNumber = this.type;\r\n                    return value;\r\n                }\r\n            default:\r\n                return GeneralName.schema();\r\n        }\r\n    }\r\n    toJSON() {\r\n        const _object = {\r\n            type: this.type,\r\n            value: EMPTY_STRING\r\n        };\r\n        if ((typeof this.value) === \"string\")\r\n            _object.value = this.value;\r\n        else {\r\n            try {\r\n                _object.value = this.value.toJSON();\r\n            }\r\n            catch (ex) {\r\n            }\r\n        }\r\n        return _object;\r\n    }\r\n}\r\nGeneralName.CLASS_NAME = \"GeneralName\";\n\nconst ACCESS_METHOD = \"accessMethod\";\r\nconst ACCESS_LOCATION = \"accessLocation\";\r\nconst CLEAR_PROPS$1v = [\r\n    ACCESS_METHOD,\r\n    ACCESS_LOCATION,\r\n];\r\nclass AccessDescription extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.accessMethod = pvutils.getParametersValue(parameters, ACCESS_METHOD, AccessDescription.defaultValues(ACCESS_METHOD));\r\n        this.accessLocation = pvutils.getParametersValue(parameters, ACCESS_LOCATION, AccessDescription.defaultValues(ACCESS_LOCATION));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ACCESS_METHOD:\r\n                return EMPTY_STRING;\r\n            case ACCESS_LOCATION:\r\n                return new GeneralName();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.accessMethod || EMPTY_STRING) }),\r\n                GeneralName.schema(names.accessLocation || {})\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1v);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AccessDescription.schema({\r\n            names: {\r\n                accessMethod: ACCESS_METHOD,\r\n                accessLocation: {\r\n                    names: {\r\n                        blockName: ACCESS_LOCATION\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.accessMethod = asn1.result.accessMethod.valueBlock.toString();\r\n        this.accessLocation = new GeneralName({ schema: asn1.result.accessLocation });\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.accessMethod }),\r\n                this.accessLocation.toSchema()\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            accessMethod: this.accessMethod,\r\n            accessLocation: this.accessLocation.toJSON()\r\n        };\r\n    }\r\n}\r\nAccessDescription.CLASS_NAME = \"AccessDescription\";\n\nconst SECONDS = \"seconds\";\r\nconst MILLIS = \"millis\";\r\nconst MICROS = \"micros\";\r\nclass Accuracy extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (SECONDS in parameters) {\r\n            this.seconds = pvutils.getParametersValue(parameters, SECONDS, Accuracy.defaultValues(SECONDS));\r\n        }\r\n        if (MILLIS in parameters) {\r\n            this.millis = pvutils.getParametersValue(parameters, MILLIS, Accuracy.defaultValues(MILLIS));\r\n        }\r\n        if (MICROS in parameters) {\r\n            this.micros = pvutils.getParametersValue(parameters, MICROS, Accuracy.defaultValues(MICROS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SECONDS:\r\n            case MILLIS:\r\n            case MICROS:\r\n                return 0;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SECONDS:\r\n            case MILLIS:\r\n            case MICROS:\r\n                return (memberValue === Accuracy.defaultValues(memberName));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            optional: true,\r\n            value: [\r\n                new asn1js.Integer({\r\n                    optional: true,\r\n                    name: (names.seconds || EMPTY_STRING)\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.millis || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.micros || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            SECONDS,\r\n            MILLIS,\r\n            MICROS,\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Accuracy.schema({\r\n            names: {\r\n                seconds: SECONDS,\r\n                millis: MILLIS,\r\n                micros: MICROS,\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (\"seconds\" in asn1.result) {\r\n            this.seconds = asn1.result.seconds.valueBlock.valueDec;\r\n        }\r\n        if (\"millis\" in asn1.result) {\r\n            const intMillis = new asn1js.Integer({ valueHex: asn1.result.millis.valueBlock.valueHex });\r\n            this.millis = intMillis.valueBlock.valueDec;\r\n        }\r\n        if (\"micros\" in asn1.result) {\r\n            const intMicros = new asn1js.Integer({ valueHex: asn1.result.micros.valueBlock.valueHex });\r\n            this.micros = intMicros.valueBlock.valueDec;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.seconds !== undefined)\r\n            outputArray.push(new asn1js.Integer({ value: this.seconds }));\r\n        if (this.millis !== undefined) {\r\n            const intMillis = new asn1js.Integer({ value: this.millis });\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                valueHex: intMillis.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        if (this.micros !== undefined) {\r\n            const intMicros = new asn1js.Integer({ value: this.micros });\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                valueHex: intMicros.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const _object = {};\r\n        if (this.seconds !== undefined)\r\n            _object.seconds = this.seconds;\r\n        if (this.millis !== undefined)\r\n            _object.millis = this.millis;\r\n        if (this.micros !== undefined)\r\n            _object.micros = this.micros;\r\n        return _object;\r\n    }\r\n}\r\nAccuracy.CLASS_NAME = \"Accuracy\";\n\nconst ALGORITHM_ID = \"algorithmId\";\r\nconst ALGORITHM_PARAMS = \"algorithmParams\";\r\nconst ALGORITHM$2 = \"algorithm\";\r\nconst PARAMS = \"params\";\r\nconst CLEAR_PROPS$1u = [\r\n    ALGORITHM$2,\r\n    PARAMS\r\n];\r\nclass AlgorithmIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.algorithmId = pvutils.getParametersValue(parameters, ALGORITHM_ID, AlgorithmIdentifier.defaultValues(ALGORITHM_ID));\r\n        if (ALGORITHM_PARAMS in parameters) {\r\n            this.algorithmParams = pvutils.getParametersValue(parameters, ALGORITHM_PARAMS, AlgorithmIdentifier.defaultValues(ALGORITHM_PARAMS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ALGORITHM_ID:\r\n                return EMPTY_STRING;\r\n            case ALGORITHM_PARAMS:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ALGORITHM_ID:\r\n                return (memberValue === EMPTY_STRING);\r\n            case ALGORITHM_PARAMS:\r\n                return (memberValue instanceof asn1js.Any);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            optional: (names.optional || false),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.algorithmIdentifier || EMPTY_STRING) }),\r\n                new asn1js.Any({ name: (names.algorithmParams || EMPTY_STRING), optional: true })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1u);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AlgorithmIdentifier.schema({\r\n            names: {\r\n                algorithmIdentifier: ALGORITHM$2,\r\n                algorithmParams: PARAMS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.algorithmId = asn1.result.algorithm.valueBlock.toString();\r\n        if (PARAMS in asn1.result) {\r\n            this.algorithmParams = asn1.result.params;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.algorithmId }));\r\n        if (this.algorithmParams && !(this.algorithmParams instanceof asn1js.Any)) {\r\n            outputArray.push(this.algorithmParams);\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            algorithmId: this.algorithmId\r\n        };\r\n        if (this.algorithmParams && !(this.algorithmParams instanceof asn1js.Any)) {\r\n            object.algorithmParams = this.algorithmParams.toJSON();\r\n        }\r\n        return object;\r\n    }\r\n    isEqual(algorithmIdentifier) {\r\n        if (!(algorithmIdentifier instanceof AlgorithmIdentifier)) {\r\n            return false;\r\n        }\r\n        if (this.algorithmId !== algorithmIdentifier.algorithmId) {\r\n            return false;\r\n        }\r\n        if (this.algorithmParams) {\r\n            if (algorithmIdentifier.algorithmParams) {\r\n                return JSON.stringify(this.algorithmParams) === JSON.stringify(algorithmIdentifier.algorithmParams);\r\n            }\r\n            return false;\r\n        }\r\n        if (algorithmIdentifier.algorithmParams) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\nAlgorithmIdentifier.CLASS_NAME = \"AlgorithmIdentifier\";\n\nconst ALT_NAMES = \"altNames\";\r\nconst CLEAR_PROPS$1t = [\r\n    ALT_NAMES\r\n];\r\nclass AltName extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.altNames = pvutils.getParametersValue(parameters, ALT_NAMES, AltName.defaultValues(ALT_NAMES));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ALT_NAMES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.altNames || EMPTY_STRING),\r\n                    value: GeneralName.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1t);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AltName.schema({\r\n            names: {\r\n                altNames: ALT_NAMES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (ALT_NAMES in asn1.result) {\r\n            this.altNames = Array.from(asn1.result.altNames, element => new GeneralName({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.altNames, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            altNames: Array.from(this.altNames, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nAltName.CLASS_NAME = \"AltName\";\n\nconst TYPE$3 = \"type\";\r\nconst VALUES$1 = \"values\";\r\nconst CLEAR_PROPS$1s = [\r\n    TYPE$3,\r\n    VALUES$1\r\n];\r\nclass Attribute extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.type = pvutils.getParametersValue(parameters, TYPE$3, Attribute.defaultValues(TYPE$3));\r\n        this.values = pvutils.getParametersValue(parameters, VALUES$1, Attribute.defaultValues(VALUES$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE$3:\r\n                return EMPTY_STRING;\r\n            case VALUES$1:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TYPE$3:\r\n                return (memberValue === EMPTY_STRING);\r\n            case VALUES$1:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.type || EMPTY_STRING) }),\r\n                new asn1js.Set({\r\n                    name: (names.setName || EMPTY_STRING),\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.values || EMPTY_STRING),\r\n                            value: new asn1js.Any()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1s);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Attribute.schema({\r\n            names: {\r\n                type: TYPE$3,\r\n                values: VALUES$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.type = asn1.result.type.valueBlock.toString();\r\n        this.values = asn1.result.values;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.type }),\r\n                new asn1js.Set({\r\n                    value: this.values\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            type: this.type,\r\n            values: Array.from(this.values, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nAttribute.CLASS_NAME = \"Attribute\";\n\nconst NOT_BEFORE_TIME = \"notBeforeTime\";\r\nconst NOT_AFTER_TIME = \"notAfterTime\";\r\nconst CLEAR_PROPS$1r = [\r\n    NOT_BEFORE_TIME,\r\n    NOT_AFTER_TIME,\r\n];\r\nclass AttCertValidityPeriod extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.notBeforeTime = pvutils.getParametersValue(parameters, NOT_BEFORE_TIME, AttCertValidityPeriod.defaultValues(NOT_BEFORE_TIME));\r\n        this.notAfterTime = pvutils.getParametersValue(parameters, NOT_AFTER_TIME, AttCertValidityPeriod.defaultValues(NOT_AFTER_TIME));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case NOT_BEFORE_TIME:\r\n            case NOT_AFTER_TIME:\r\n                return new Date(0, 0, 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.GeneralizedTime({ name: (names.notBeforeTime || EMPTY_STRING) }),\r\n                new asn1js.GeneralizedTime({ name: (names.notAfterTime || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1r);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttCertValidityPeriod.schema({\r\n            names: {\r\n                notBeforeTime: NOT_BEFORE_TIME,\r\n                notAfterTime: NOT_AFTER_TIME\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.notBeforeTime = asn1.result.notBeforeTime.toDate();\r\n        this.notAfterTime = asn1.result.notAfterTime.toDate();\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.GeneralizedTime({ valueDate: this.notBeforeTime }),\r\n                new asn1js.GeneralizedTime({ valueDate: this.notAfterTime }),\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            notBeforeTime: this.notBeforeTime,\r\n            notAfterTime: this.notAfterTime\r\n        };\r\n    }\r\n}\r\nAttCertValidityPeriod.CLASS_NAME = \"AttCertValidityPeriod\";\n\nconst NAMES = \"names\";\r\nconst GENERAL_NAMES = \"generalNames\";\r\nclass GeneralNames extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.names = pvutils.getParametersValue(parameters, NAMES, GeneralNames.defaultValues(NAMES));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case \"names\":\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}, optional = false) {\r\n        const names = pvutils.getParametersValue(parameters, NAMES, {});\r\n        return (new asn1js.Sequence({\r\n            optional,\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.generalNames || EMPTY_STRING),\r\n                    value: GeneralName.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            NAMES,\r\n            GENERAL_NAMES\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, GeneralNames.schema({\r\n            names: {\r\n                blockName: NAMES,\r\n                generalNames: GENERAL_NAMES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.names = Array.from(asn1.result.generalNames, element => new GeneralName({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.names, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            names: Array.from(this.names, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nGeneralNames.CLASS_NAME = \"GeneralNames\";\n\nconst id_SubjectDirectoryAttributes = \"2.5.29.9\";\r\nconst id_SubjectKeyIdentifier = \"2.5.29.14\";\r\nconst id_KeyUsage = \"2.5.29.15\";\r\nconst id_PrivateKeyUsagePeriod = \"2.5.29.16\";\r\nconst id_SubjectAltName = \"2.5.29.17\";\r\nconst id_IssuerAltName = \"2.5.29.18\";\r\nconst id_BasicConstraints = \"2.5.29.19\";\r\nconst id_CRLNumber = \"2.5.29.20\";\r\nconst id_BaseCRLNumber = \"2.5.29.27\";\r\nconst id_CRLReason = \"2.5.29.21\";\r\nconst id_InvalidityDate = \"2.5.29.24\";\r\nconst id_IssuingDistributionPoint = \"2.5.29.28\";\r\nconst id_CertificateIssuer = \"2.5.29.29\";\r\nconst id_NameConstraints = \"2.5.29.30\";\r\nconst id_CRLDistributionPoints = \"2.5.29.31\";\r\nconst id_FreshestCRL = \"2.5.29.46\";\r\nconst id_CertificatePolicies = \"2.5.29.32\";\r\nconst id_AnyPolicy = \"2.5.29.32.0\";\r\nconst id_MicrosoftAppPolicies = \"1.3.6.1.4.1.311.21.10\";\r\nconst id_PolicyMappings = \"2.5.29.33\";\r\nconst id_AuthorityKeyIdentifier = \"2.5.29.35\";\r\nconst id_PolicyConstraints = \"2.5.29.36\";\r\nconst id_ExtKeyUsage = \"2.5.29.37\";\r\nconst id_InhibitAnyPolicy = \"2.5.29.54\";\r\nconst id_AuthorityInfoAccess = \"1.3.6.1.5.5.7.1.1\";\r\nconst id_SubjectInfoAccess = \"1.3.6.1.5.5.7.1.11\";\r\nconst id_SignedCertificateTimestampList = \"1.3.6.1.4.1.11129.2.4.2\";\r\nconst id_MicrosoftCertTemplateV1 = \"1.3.6.1.4.1.311.20.2\";\r\nconst id_MicrosoftPrevCaCertHash = \"1.3.6.1.4.1.311.21.2\";\r\nconst id_MicrosoftCertTemplateV2 = \"1.3.6.1.4.1.311.21.7\";\r\nconst id_MicrosoftCaVersion = \"1.3.6.1.4.1.311.21.1\";\r\nconst id_QCStatements = \"1.3.6.1.5.5.7.1.3\";\r\nconst id_ContentType_Data = \"1.2.840.113549.1.7.1\";\r\nconst id_ContentType_SignedData = \"1.2.840.113549.1.7.2\";\r\nconst id_ContentType_EnvelopedData = \"1.2.840.113549.1.7.3\";\r\nconst id_ContentType_EncryptedData = \"1.2.840.113549.1.7.6\";\r\nconst id_eContentType_TSTInfo = \"1.2.840.113549.1.9.16.1.4\";\r\nconst id_CertBag_X509Certificate = \"1.2.840.113549.1.9.22.1\";\r\nconst id_CertBag_SDSICertificate = \"1.2.840.113549.1.9.22.2\";\r\nconst id_CertBag_AttributeCertificate = \"1.2.840.113549.1.9.22.3\";\r\nconst id_CRLBag_X509CRL = \"1.2.840.113549.1.9.23.1\";\r\nconst id_pkix = \"1.3.6.1.5.5.7\";\r\nconst id_ad = `${id_pkix}.48`;\r\nconst id_PKIX_OCSP_Basic = `${id_ad}.1.1`;\r\nconst id_ad_caIssuers = `${id_ad}.2`;\r\nconst id_ad_ocsp = `${id_ad}.1`;\r\nconst id_sha1 = \"1.3.14.3.2.26\";\r\nconst id_sha256 = \"2.16.840.1.101.3.4.2.1\";\r\nconst id_sha384 = \"2.16.840.1.101.3.4.2.2\";\r\nconst id_sha512 = \"2.16.840.1.101.3.4.2.3\";\n\nconst KEY_IDENTIFIER$1 = \"keyIdentifier\";\r\nconst AUTHORITY_CERT_ISSUER = \"authorityCertIssuer\";\r\nconst AUTHORITY_CERT_SERIAL_NUMBER = \"authorityCertSerialNumber\";\r\nconst CLEAR_PROPS$1q = [\r\n    KEY_IDENTIFIER$1,\r\n    AUTHORITY_CERT_ISSUER,\r\n    AUTHORITY_CERT_SERIAL_NUMBER,\r\n];\r\nclass AuthorityKeyIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (KEY_IDENTIFIER$1 in parameters) {\r\n            this.keyIdentifier = pvutils.getParametersValue(parameters, KEY_IDENTIFIER$1, AuthorityKeyIdentifier.defaultValues(KEY_IDENTIFIER$1));\r\n        }\r\n        if (AUTHORITY_CERT_ISSUER in parameters) {\r\n            this.authorityCertIssuer = pvutils.getParametersValue(parameters, AUTHORITY_CERT_ISSUER, AuthorityKeyIdentifier.defaultValues(AUTHORITY_CERT_ISSUER));\r\n        }\r\n        if (AUTHORITY_CERT_SERIAL_NUMBER in parameters) {\r\n            this.authorityCertSerialNumber = pvutils.getParametersValue(parameters, AUTHORITY_CERT_SERIAL_NUMBER, AuthorityKeyIdentifier.defaultValues(AUTHORITY_CERT_SERIAL_NUMBER));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_IDENTIFIER$1:\r\n                return new asn1js.OctetString();\r\n            case AUTHORITY_CERT_ISSUER:\r\n                return [];\r\n            case AUTHORITY_CERT_SERIAL_NUMBER:\r\n                return new asn1js.Integer();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Primitive({\r\n                    name: (names.keyIdentifier || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.authorityCertIssuer || EMPTY_STRING),\r\n                            value: GeneralName.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.authorityCertSerialNumber || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1q);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AuthorityKeyIdentifier.schema({\r\n            names: {\r\n                keyIdentifier: KEY_IDENTIFIER$1,\r\n                authorityCertIssuer: AUTHORITY_CERT_ISSUER,\r\n                authorityCertSerialNumber: AUTHORITY_CERT_SERIAL_NUMBER\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (KEY_IDENTIFIER$1 in asn1.result)\r\n            this.keyIdentifier = new asn1js.OctetString({ valueHex: asn1.result.keyIdentifier.valueBlock.valueHex });\r\n        if (AUTHORITY_CERT_ISSUER in asn1.result)\r\n            this.authorityCertIssuer = Array.from(asn1.result.authorityCertIssuer, o => new GeneralName({ schema: o }));\r\n        if (AUTHORITY_CERT_SERIAL_NUMBER in asn1.result)\r\n            this.authorityCertSerialNumber = new asn1js.Integer({ valueHex: asn1.result.authorityCertSerialNumber.valueBlock.valueHex });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.keyIdentifier) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                valueHex: this.keyIdentifier.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        if (this.authorityCertIssuer) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.authorityCertIssuer, o => o.toSchema())\r\n            }));\r\n        }\r\n        if (this.authorityCertSerialNumber) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                valueHex: this.authorityCertSerialNumber.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {};\r\n        if (this.keyIdentifier) {\r\n            object.keyIdentifier = this.keyIdentifier.toJSON();\r\n        }\r\n        if (this.authorityCertIssuer) {\r\n            object.authorityCertIssuer = Array.from(this.authorityCertIssuer, o => o.toJSON());\r\n        }\r\n        if (this.authorityCertSerialNumber) {\r\n            object.authorityCertSerialNumber = this.authorityCertSerialNumber.toJSON();\r\n        }\r\n        return object;\r\n    }\r\n}\r\nAuthorityKeyIdentifier.CLASS_NAME = \"AuthorityKeyIdentifier\";\n\nconst PATH_LENGTH_CONSTRAINT = \"pathLenConstraint\";\r\nconst CA = \"cA\";\r\nclass BasicConstraints extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.cA = pvutils.getParametersValue(parameters, CA, false);\r\n        if (PATH_LENGTH_CONSTRAINT in parameters) {\r\n            this.pathLenConstraint = pvutils.getParametersValue(parameters, PATH_LENGTH_CONSTRAINT, 0);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CA:\r\n                return false;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Boolean({\r\n                    optional: true,\r\n                    name: (names.cA || EMPTY_STRING)\r\n                }),\r\n                new asn1js.Integer({\r\n                    optional: true,\r\n                    name: (names.pathLenConstraint || EMPTY_STRING)\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            CA,\r\n            PATH_LENGTH_CONSTRAINT\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, BasicConstraints.schema({\r\n            names: {\r\n                cA: CA,\r\n                pathLenConstraint: PATH_LENGTH_CONSTRAINT\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (CA in asn1.result) {\r\n            this.cA = asn1.result.cA.valueBlock.value;\r\n        }\r\n        if (PATH_LENGTH_CONSTRAINT in asn1.result) {\r\n            if (asn1.result.pathLenConstraint.valueBlock.isHexOnly) {\r\n                this.pathLenConstraint = asn1.result.pathLenConstraint;\r\n            }\r\n            else {\r\n                this.pathLenConstraint = asn1.result.pathLenConstraint.valueBlock.valueDec;\r\n            }\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.cA !== BasicConstraints.defaultValues(CA))\r\n            outputArray.push(new asn1js.Boolean({ value: this.cA }));\r\n        if (PATH_LENGTH_CONSTRAINT in this) {\r\n            if (this.pathLenConstraint instanceof asn1js.Integer) {\r\n                outputArray.push(this.pathLenConstraint);\r\n            }\r\n            else {\r\n                outputArray.push(new asn1js.Integer({ value: this.pathLenConstraint }));\r\n            }\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {};\r\n        if (this.cA !== BasicConstraints.defaultValues(CA)) {\r\n            object.cA = this.cA;\r\n        }\r\n        if (PATH_LENGTH_CONSTRAINT in this) {\r\n            if (this.pathLenConstraint instanceof asn1js.Integer) {\r\n                object.pathLenConstraint = this.pathLenConstraint.toJSON();\r\n            }\r\n            else {\r\n                object.pathLenConstraint = this.pathLenConstraint;\r\n            }\r\n        }\r\n        return object;\r\n    }\r\n}\r\nBasicConstraints.CLASS_NAME = \"BasicConstraints\";\n\nconst CERTIFICATE_INDEX = \"certificateIndex\";\r\nconst KEY_INDEX = \"keyIndex\";\r\nclass CAVersion extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.certificateIndex = pvutils.getParametersValue(parameters, CERTIFICATE_INDEX, CAVersion.defaultValues(CERTIFICATE_INDEX));\r\n        this.keyIndex = pvutils.getParametersValue(parameters, KEY_INDEX, CAVersion.defaultValues(KEY_INDEX));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERTIFICATE_INDEX:\r\n            case KEY_INDEX:\r\n                return 0;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema() {\r\n        return (new asn1js.Integer());\r\n    }\r\n    fromSchema(schema) {\r\n        if (schema.constructor.blockName() !== asn1js.Integer.blockName()) {\r\n            throw new Error(\"Object's schema was not verified against input data for CAVersion\");\r\n        }\r\n        let value = schema.valueBlock.valueHex.slice(0);\r\n        const valueView = new Uint8Array(value);\r\n        switch (true) {\r\n            case (value.byteLength < 4):\r\n                {\r\n                    const tempValue = new ArrayBuffer(4);\r\n                    const tempValueView = new Uint8Array(tempValue);\r\n                    tempValueView.set(valueView, 4 - value.byteLength);\r\n                    value = tempValue.slice(0);\r\n                }\r\n                break;\r\n            case (value.byteLength > 4):\r\n                {\r\n                    const tempValue = new ArrayBuffer(4);\r\n                    const tempValueView = new Uint8Array(tempValue);\r\n                    tempValueView.set(valueView.slice(0, 4));\r\n                    value = tempValue.slice(0);\r\n                }\r\n                break;\r\n        }\r\n        const keyIndexBuffer = value.slice(0, 2);\r\n        const keyIndexView8 = new Uint8Array(keyIndexBuffer);\r\n        let temp = keyIndexView8[0];\r\n        keyIndexView8[0] = keyIndexView8[1];\r\n        keyIndexView8[1] = temp;\r\n        const keyIndexView16 = new Uint16Array(keyIndexBuffer);\r\n        this.keyIndex = keyIndexView16[0];\r\n        const certificateIndexBuffer = value.slice(2);\r\n        const certificateIndexView8 = new Uint8Array(certificateIndexBuffer);\r\n        temp = certificateIndexView8[0];\r\n        certificateIndexView8[0] = certificateIndexView8[1];\r\n        certificateIndexView8[1] = temp;\r\n        const certificateIndexView16 = new Uint16Array(certificateIndexBuffer);\r\n        this.certificateIndex = certificateIndexView16[0];\r\n    }\r\n    toSchema() {\r\n        const certificateIndexBuffer = new ArrayBuffer(2);\r\n        const certificateIndexView = new Uint16Array(certificateIndexBuffer);\r\n        certificateIndexView[0] = this.certificateIndex;\r\n        const certificateIndexView8 = new Uint8Array(certificateIndexBuffer);\r\n        let temp = certificateIndexView8[0];\r\n        certificateIndexView8[0] = certificateIndexView8[1];\r\n        certificateIndexView8[1] = temp;\r\n        const keyIndexBuffer = new ArrayBuffer(2);\r\n        const keyIndexView = new Uint16Array(keyIndexBuffer);\r\n        keyIndexView[0] = this.keyIndex;\r\n        const keyIndexView8 = new Uint8Array(keyIndexBuffer);\r\n        temp = keyIndexView8[0];\r\n        keyIndexView8[0] = keyIndexView8[1];\r\n        keyIndexView8[1] = temp;\r\n        return (new asn1js.Integer({\r\n            valueHex: pvutils.utilConcatBuf(keyIndexBuffer, certificateIndexBuffer)\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            certificateIndex: this.certificateIndex,\r\n            keyIndex: this.keyIndex\r\n        };\r\n    }\r\n}\r\nCAVersion.CLASS_NAME = \"CAVersion\";\n\nconst POLICY_QUALIFIER_ID = \"policyQualifierId\";\r\nconst QUALIFIER = \"qualifier\";\r\nconst CLEAR_PROPS$1p = [\r\n    POLICY_QUALIFIER_ID,\r\n    QUALIFIER\r\n];\r\nclass PolicyQualifierInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.policyQualifierId = pvutils.getParametersValue(parameters, POLICY_QUALIFIER_ID, PolicyQualifierInfo.defaultValues(POLICY_QUALIFIER_ID));\r\n        this.qualifier = pvutils.getParametersValue(parameters, QUALIFIER, PolicyQualifierInfo.defaultValues(QUALIFIER));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case POLICY_QUALIFIER_ID:\r\n                return EMPTY_STRING;\r\n            case QUALIFIER:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.policyQualifierId || EMPTY_STRING) }),\r\n                new asn1js.Any({ name: (names.qualifier || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1p);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PolicyQualifierInfo.schema({\r\n            names: {\r\n                policyQualifierId: POLICY_QUALIFIER_ID,\r\n                qualifier: QUALIFIER\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.policyQualifierId = asn1.result.policyQualifierId.valueBlock.toString();\r\n        this.qualifier = asn1.result.qualifier;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.policyQualifierId }),\r\n                this.qualifier\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            policyQualifierId: this.policyQualifierId,\r\n            qualifier: this.qualifier.toJSON()\r\n        };\r\n    }\r\n}\r\nPolicyQualifierInfo.CLASS_NAME = \"PolicyQualifierInfo\";\n\nconst POLICY_IDENTIFIER = \"policyIdentifier\";\r\nconst POLICY_QUALIFIERS = \"policyQualifiers\";\r\nconst CLEAR_PROPS$1o = [\r\n    POLICY_IDENTIFIER,\r\n    POLICY_QUALIFIERS\r\n];\r\nclass PolicyInformation extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.policyIdentifier = pvutils.getParametersValue(parameters, POLICY_IDENTIFIER, PolicyInformation.defaultValues(POLICY_IDENTIFIER));\r\n        if (POLICY_QUALIFIERS in parameters) {\r\n            this.policyQualifiers = pvutils.getParametersValue(parameters, POLICY_QUALIFIERS, PolicyInformation.defaultValues(POLICY_QUALIFIERS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case POLICY_IDENTIFIER:\r\n                return EMPTY_STRING;\r\n            case POLICY_QUALIFIERS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.policyIdentifier || EMPTY_STRING) }),\r\n                new asn1js.Sequence({\r\n                    optional: true,\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.policyQualifiers || EMPTY_STRING),\r\n                            value: PolicyQualifierInfo.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1o);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PolicyInformation.schema({\r\n            names: {\r\n                policyIdentifier: POLICY_IDENTIFIER,\r\n                policyQualifiers: POLICY_QUALIFIERS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.policyIdentifier = asn1.result.policyIdentifier.valueBlock.toString();\r\n        if (POLICY_QUALIFIERS in asn1.result) {\r\n            this.policyQualifiers = Array.from(asn1.result.policyQualifiers, element => new PolicyQualifierInfo({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.policyIdentifier }));\r\n        if (this.policyQualifiers) {\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.policyQualifiers, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            policyIdentifier: this.policyIdentifier\r\n        };\r\n        if (this.policyQualifiers)\r\n            res.policyQualifiers = Array.from(this.policyQualifiers, o => o.toJSON());\r\n        return res;\r\n    }\r\n}\r\nPolicyInformation.CLASS_NAME = \"PolicyInformation\";\n\nconst CERTIFICATE_POLICIES = \"certificatePolicies\";\r\nconst CLEAR_PROPS$1n = [\r\n    CERTIFICATE_POLICIES,\r\n];\r\nclass CertificatePolicies extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.certificatePolicies = pvutils.getParametersValue(parameters, CERTIFICATE_POLICIES, CertificatePolicies.defaultValues(CERTIFICATE_POLICIES));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERTIFICATE_POLICIES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.certificatePolicies || EMPTY_STRING),\r\n                    value: PolicyInformation.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1n);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertificatePolicies.schema({\r\n            names: {\r\n                certificatePolicies: CERTIFICATE_POLICIES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.certificatePolicies = Array.from(asn1.result.certificatePolicies, element => new PolicyInformation({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.certificatePolicies, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            certificatePolicies: Array.from(this.certificatePolicies, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nCertificatePolicies.CLASS_NAME = \"CertificatePolicies\";\n\nconst TEMPLATE_ID = \"templateID\";\r\nconst TEMPLATE_MAJOR_VERSION = \"templateMajorVersion\";\r\nconst TEMPLATE_MINOR_VERSION = \"templateMinorVersion\";\r\nconst CLEAR_PROPS$1m = [\r\n    TEMPLATE_ID,\r\n    TEMPLATE_MAJOR_VERSION,\r\n    TEMPLATE_MINOR_VERSION\r\n];\r\nclass CertificateTemplate extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.templateID = pvutils.getParametersValue(parameters, TEMPLATE_ID, CertificateTemplate.defaultValues(TEMPLATE_ID));\r\n        if (TEMPLATE_MAJOR_VERSION in parameters) {\r\n            this.templateMajorVersion = pvutils.getParametersValue(parameters, TEMPLATE_MAJOR_VERSION, CertificateTemplate.defaultValues(TEMPLATE_MAJOR_VERSION));\r\n        }\r\n        if (TEMPLATE_MINOR_VERSION in parameters) {\r\n            this.templateMinorVersion = pvutils.getParametersValue(parameters, TEMPLATE_MINOR_VERSION, CertificateTemplate.defaultValues(TEMPLATE_MINOR_VERSION));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TEMPLATE_ID:\r\n                return EMPTY_STRING;\r\n            case TEMPLATE_MAJOR_VERSION:\r\n            case TEMPLATE_MINOR_VERSION:\r\n                return 0;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.templateID || EMPTY_STRING) }),\r\n                new asn1js.Integer({\r\n                    name: (names.templateMajorVersion || EMPTY_STRING),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Integer({\r\n                    name: (names.templateMinorVersion || EMPTY_STRING),\r\n                    optional: true\r\n                }),\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1m);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertificateTemplate.schema({\r\n            names: {\r\n                templateID: TEMPLATE_ID,\r\n                templateMajorVersion: TEMPLATE_MAJOR_VERSION,\r\n                templateMinorVersion: TEMPLATE_MINOR_VERSION\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.templateID = asn1.result.templateID.valueBlock.toString();\r\n        if (TEMPLATE_MAJOR_VERSION in asn1.result) {\r\n            this.templateMajorVersion = asn1.result.templateMajorVersion.valueBlock.valueDec;\r\n        }\r\n        if (TEMPLATE_MINOR_VERSION in asn1.result) {\r\n            this.templateMinorVersion = asn1.result.templateMinorVersion.valueBlock.valueDec;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.templateID }));\r\n        if (TEMPLATE_MAJOR_VERSION in this) {\r\n            outputArray.push(new asn1js.Integer({ value: this.templateMajorVersion }));\r\n        }\r\n        if (TEMPLATE_MINOR_VERSION in this) {\r\n            outputArray.push(new asn1js.Integer({ value: this.templateMinorVersion }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            templateID: this.templateID\r\n        };\r\n        if (TEMPLATE_MAJOR_VERSION in this)\r\n            res.templateMajorVersion = this.templateMajorVersion;\r\n        if (TEMPLATE_MINOR_VERSION in this)\r\n            res.templateMinorVersion = this.templateMinorVersion;\r\n        return res;\r\n    }\r\n}\n\nconst DISTRIBUTION_POINT$1 = \"distributionPoint\";\r\nconst DISTRIBUTION_POINT_NAMES$1 = \"distributionPointNames\";\r\nconst REASONS = \"reasons\";\r\nconst CRL_ISSUER = \"cRLIssuer\";\r\nconst CRL_ISSUER_NAMES = \"cRLIssuerNames\";\r\nconst CLEAR_PROPS$1l = [\r\n    DISTRIBUTION_POINT$1,\r\n    DISTRIBUTION_POINT_NAMES$1,\r\n    REASONS,\r\n    CRL_ISSUER,\r\n    CRL_ISSUER_NAMES,\r\n];\r\nclass DistributionPoint extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (DISTRIBUTION_POINT$1 in parameters) {\r\n            this.distributionPoint = pvutils.getParametersValue(parameters, DISTRIBUTION_POINT$1, DistributionPoint.defaultValues(DISTRIBUTION_POINT$1));\r\n        }\r\n        if (REASONS in parameters) {\r\n            this.reasons = pvutils.getParametersValue(parameters, REASONS, DistributionPoint.defaultValues(REASONS));\r\n        }\r\n        if (CRL_ISSUER in parameters) {\r\n            this.cRLIssuer = pvutils.getParametersValue(parameters, CRL_ISSUER, DistributionPoint.defaultValues(CRL_ISSUER));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case DISTRIBUTION_POINT$1:\r\n                return [];\r\n            case REASONS:\r\n                return new asn1js.BitString();\r\n            case CRL_ISSUER:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Choice({\r\n                            value: [\r\n                                new asn1js.Constructed({\r\n                                    name: (names.distributionPoint || EMPTY_STRING),\r\n                                    optional: true,\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 0\r\n                                    },\r\n                                    value: [\r\n                                        new asn1js.Repeated({\r\n                                            name: (names.distributionPointNames || EMPTY_STRING),\r\n                                            value: GeneralName.schema()\r\n                                        })\r\n                                    ]\r\n                                }),\r\n                                new asn1js.Constructed({\r\n                                    name: (names.distributionPoint || EMPTY_STRING),\r\n                                    optional: true,\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 1\r\n                                    },\r\n                                    value: RelativeDistinguishedNames.schema().valueBlock.value\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.reasons || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.cRLIssuer || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.cRLIssuerNames || EMPTY_STRING),\r\n                            value: GeneralName.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1l);\r\n        const asn1 = asn1js.compareSchema(schema, schema, DistributionPoint.schema({\r\n            names: {\r\n                distributionPoint: DISTRIBUTION_POINT$1,\r\n                distributionPointNames: DISTRIBUTION_POINT_NAMES$1,\r\n                reasons: REASONS,\r\n                cRLIssuer: CRL_ISSUER,\r\n                cRLIssuerNames: CRL_ISSUER_NAMES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (DISTRIBUTION_POINT$1 in asn1.result) {\r\n            if (asn1.result.distributionPoint.idBlock.tagNumber === 0) {\r\n                this.distributionPoint = Array.from(asn1.result.distributionPointNames, element => new GeneralName({ schema: element }));\r\n            }\r\n            if (asn1.result.distributionPoint.idBlock.tagNumber === 1) {\r\n                this.distributionPoint = new RelativeDistinguishedNames({\r\n                    schema: new asn1js.Sequence({\r\n                        value: asn1.result.distributionPoint.valueBlock.value\r\n                    })\r\n                });\r\n            }\r\n        }\r\n        if (REASONS in asn1.result) {\r\n            this.reasons = new asn1js.BitString({ valueHex: asn1.result.reasons.valueBlock.valueHex });\r\n        }\r\n        if (CRL_ISSUER in asn1.result) {\r\n            this.cRLIssuer = Array.from(asn1.result.cRLIssuerNames, element => new GeneralName({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.distributionPoint) {\r\n            let internalValue;\r\n            if (this.distributionPoint instanceof Array) {\r\n                internalValue = new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: Array.from(this.distributionPoint, o => o.toSchema())\r\n                });\r\n            }\r\n            else {\r\n                internalValue = new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [this.distributionPoint.toSchema()]\r\n                });\r\n            }\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [internalValue]\r\n            }));\r\n        }\r\n        if (this.reasons) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                valueHex: this.reasons.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        if (this.cRLIssuer) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                value: Array.from(this.cRLIssuer, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {};\r\n        if (this.distributionPoint) {\r\n            if (this.distributionPoint instanceof Array) {\r\n                object.distributionPoint = Array.from(this.distributionPoint, o => o.toJSON());\r\n            }\r\n            else {\r\n                object.distributionPoint = this.distributionPoint.toJSON();\r\n            }\r\n        }\r\n        if (this.reasons) {\r\n            object.reasons = this.reasons.toJSON();\r\n        }\r\n        if (this.cRLIssuer) {\r\n            object.cRLIssuer = Array.from(this.cRLIssuer, o => o.toJSON());\r\n        }\r\n        return object;\r\n    }\r\n}\r\nDistributionPoint.CLASS_NAME = \"DistributionPoint\";\n\nconst DISTRIBUTION_POINTS = \"distributionPoints\";\r\nconst CLEAR_PROPS$1k = [\r\n    DISTRIBUTION_POINTS\r\n];\r\nclass CRLDistributionPoints extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.distributionPoints = pvutils.getParametersValue(parameters, DISTRIBUTION_POINTS, CRLDistributionPoints.defaultValues(DISTRIBUTION_POINTS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case DISTRIBUTION_POINTS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.distributionPoints || EMPTY_STRING),\r\n                    value: DistributionPoint.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1k);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CRLDistributionPoints.schema({\r\n            names: {\r\n                distributionPoints: DISTRIBUTION_POINTS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.distributionPoints = Array.from(asn1.result.distributionPoints, element => new DistributionPoint({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.distributionPoints, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            distributionPoints: Array.from(this.distributionPoints, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nCRLDistributionPoints.CLASS_NAME = \"CRLDistributionPoints\";\n\nconst KEY_PURPOSES = \"keyPurposes\";\r\nconst CLEAR_PROPS$1j = [\r\n    KEY_PURPOSES,\r\n];\r\nclass ExtKeyUsage extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.keyPurposes = pvutils.getParametersValue(parameters, KEY_PURPOSES, ExtKeyUsage.defaultValues(KEY_PURPOSES));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_PURPOSES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.keyPurposes || EMPTY_STRING),\r\n                    value: new asn1js.ObjectIdentifier()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1j);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ExtKeyUsage.schema({\r\n            names: {\r\n                keyPurposes: KEY_PURPOSES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.keyPurposes = Array.from(asn1.result.keyPurposes, (element) => element.valueBlock.toString());\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.keyPurposes, element => new asn1js.ObjectIdentifier({ value: element }))\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            keyPurposes: Array.from(this.keyPurposes)\r\n        };\r\n    }\r\n}\r\nExtKeyUsage.CLASS_NAME = \"ExtKeyUsage\";\n\nconst ACCESS_DESCRIPTIONS = \"accessDescriptions\";\r\nclass InfoAccess extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.accessDescriptions = pvutils.getParametersValue(parameters, ACCESS_DESCRIPTIONS, InfoAccess.defaultValues(ACCESS_DESCRIPTIONS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ACCESS_DESCRIPTIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.accessDescriptions || EMPTY_STRING),\r\n                    value: AccessDescription.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            ACCESS_DESCRIPTIONS\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, InfoAccess.schema({\r\n            names: {\r\n                accessDescriptions: ACCESS_DESCRIPTIONS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.accessDescriptions = Array.from(asn1.result.accessDescriptions, element => new AccessDescription({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.accessDescriptions, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            accessDescriptions: Array.from(this.accessDescriptions, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nInfoAccess.CLASS_NAME = \"InfoAccess\";\n\nconst DISTRIBUTION_POINT = \"distributionPoint\";\r\nconst DISTRIBUTION_POINT_NAMES = \"distributionPointNames\";\r\nconst ONLY_CONTAINS_USER_CERTS = \"onlyContainsUserCerts\";\r\nconst ONLY_CONTAINS_CA_CERTS = \"onlyContainsCACerts\";\r\nconst ONLY_SOME_REASON = \"onlySomeReasons\";\r\nconst INDIRECT_CRL = \"indirectCRL\";\r\nconst ONLY_CONTAINS_ATTRIBUTE_CERTS = \"onlyContainsAttributeCerts\";\r\nconst CLEAR_PROPS$1i = [\r\n    DISTRIBUTION_POINT,\r\n    DISTRIBUTION_POINT_NAMES,\r\n    ONLY_CONTAINS_USER_CERTS,\r\n    ONLY_CONTAINS_CA_CERTS,\r\n    ONLY_SOME_REASON,\r\n    INDIRECT_CRL,\r\n    ONLY_CONTAINS_ATTRIBUTE_CERTS,\r\n];\r\nclass IssuingDistributionPoint extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (DISTRIBUTION_POINT in parameters) {\r\n            this.distributionPoint = pvutils.getParametersValue(parameters, DISTRIBUTION_POINT, IssuingDistributionPoint.defaultValues(DISTRIBUTION_POINT));\r\n        }\r\n        this.onlyContainsUserCerts = pvutils.getParametersValue(parameters, ONLY_CONTAINS_USER_CERTS, IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_USER_CERTS));\r\n        this.onlyContainsCACerts = pvutils.getParametersValue(parameters, ONLY_CONTAINS_CA_CERTS, IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_CA_CERTS));\r\n        if (ONLY_SOME_REASON in parameters) {\r\n            this.onlySomeReasons = pvutils.getParametersValue(parameters, ONLY_SOME_REASON, IssuingDistributionPoint.defaultValues(ONLY_SOME_REASON));\r\n        }\r\n        this.indirectCRL = pvutils.getParametersValue(parameters, INDIRECT_CRL, IssuingDistributionPoint.defaultValues(INDIRECT_CRL));\r\n        this.onlyContainsAttributeCerts = pvutils.getParametersValue(parameters, ONLY_CONTAINS_ATTRIBUTE_CERTS, IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case DISTRIBUTION_POINT:\r\n                return [];\r\n            case ONLY_CONTAINS_USER_CERTS:\r\n                return false;\r\n            case ONLY_CONTAINS_CA_CERTS:\r\n                return false;\r\n            case ONLY_SOME_REASON:\r\n                return 0;\r\n            case INDIRECT_CRL:\r\n                return false;\r\n            case ONLY_CONTAINS_ATTRIBUTE_CERTS:\r\n                return false;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Choice({\r\n                            value: [\r\n                                new asn1js.Constructed({\r\n                                    name: (names.distributionPoint || EMPTY_STRING),\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 0\r\n                                    },\r\n                                    value: [\r\n                                        new asn1js.Repeated({\r\n                                            name: (names.distributionPointNames || EMPTY_STRING),\r\n                                            value: GeneralName.schema()\r\n                                        })\r\n                                    ]\r\n                                }),\r\n                                new asn1js.Constructed({\r\n                                    name: (names.distributionPoint || EMPTY_STRING),\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 1\r\n                                    },\r\n                                    value: RelativeDistinguishedNames.schema().valueBlock.value\r\n                                })\r\n                            ]\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.onlyContainsUserCerts || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.onlyContainsCACerts || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.onlySomeReasons || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 3\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.indirectCRL || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 4\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.onlyContainsAttributeCerts || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 5\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1i);\r\n        const asn1 = asn1js.compareSchema(schema, schema, IssuingDistributionPoint.schema({\r\n            names: {\r\n                distributionPoint: DISTRIBUTION_POINT,\r\n                distributionPointNames: DISTRIBUTION_POINT_NAMES,\r\n                onlyContainsUserCerts: ONLY_CONTAINS_USER_CERTS,\r\n                onlyContainsCACerts: ONLY_CONTAINS_CA_CERTS,\r\n                onlySomeReasons: ONLY_SOME_REASON,\r\n                indirectCRL: INDIRECT_CRL,\r\n                onlyContainsAttributeCerts: ONLY_CONTAINS_ATTRIBUTE_CERTS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (DISTRIBUTION_POINT in asn1.result) {\r\n            switch (true) {\r\n                case (asn1.result.distributionPoint.idBlock.tagNumber === 0):\r\n                    this.distributionPoint = Array.from(asn1.result.distributionPointNames, element => new GeneralName({ schema: element }));\r\n                    break;\r\n                case (asn1.result.distributionPoint.idBlock.tagNumber === 1):\r\n                    {\r\n                        this.distributionPoint = new RelativeDistinguishedNames({\r\n                            schema: new asn1js.Sequence({\r\n                                value: asn1.result.distributionPoint.valueBlock.value\r\n                            })\r\n                        });\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}\");\r\n            }\r\n        }\r\n        if (ONLY_CONTAINS_USER_CERTS in asn1.result) {\r\n            const view = new Uint8Array(asn1.result.onlyContainsUserCerts.valueBlock.valueHex);\r\n            this.onlyContainsUserCerts = (view[0] !== 0x00);\r\n        }\r\n        if (ONLY_CONTAINS_CA_CERTS in asn1.result) {\r\n            const view = new Uint8Array(asn1.result.onlyContainsCACerts.valueBlock.valueHex);\r\n            this.onlyContainsCACerts = (view[0] !== 0x00);\r\n        }\r\n        if (ONLY_SOME_REASON in asn1.result) {\r\n            const view = new Uint8Array(asn1.result.onlySomeReasons.valueBlock.valueHex);\r\n            this.onlySomeReasons = view[0];\r\n        }\r\n        if (INDIRECT_CRL in asn1.result) {\r\n            const view = new Uint8Array(asn1.result.indirectCRL.valueBlock.valueHex);\r\n            this.indirectCRL = (view[0] !== 0x00);\r\n        }\r\n        if (ONLY_CONTAINS_ATTRIBUTE_CERTS in asn1.result) {\r\n            const view = new Uint8Array(asn1.result.onlyContainsAttributeCerts.valueBlock.valueHex);\r\n            this.onlyContainsAttributeCerts = (view[0] !== 0x00);\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.distributionPoint) {\r\n            let value;\r\n            if (this.distributionPoint instanceof Array) {\r\n                value = new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: Array.from(this.distributionPoint, o => o.toSchema())\r\n                });\r\n            }\r\n            else {\r\n                value = this.distributionPoint.toSchema();\r\n                value.idBlock.tagClass = 3;\r\n                value.idBlock.tagNumber = 1;\r\n            }\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [value]\r\n            }));\r\n        }\r\n        if (this.onlyContainsUserCerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_USER_CERTS)) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                valueHex: (new Uint8Array([0xFF])).buffer\r\n            }));\r\n        }\r\n        if (this.onlyContainsCACerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_CA_CERTS)) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                valueHex: (new Uint8Array([0xFF])).buffer\r\n            }));\r\n        }\r\n        if (this.onlySomeReasons !== undefined) {\r\n            const buffer = new ArrayBuffer(1);\r\n            const view = new Uint8Array(buffer);\r\n            view[0] = this.onlySomeReasons;\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 3\r\n                },\r\n                valueHex: buffer\r\n            }));\r\n        }\r\n        if (this.indirectCRL !== IssuingDistributionPoint.defaultValues(INDIRECT_CRL)) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 4\r\n                },\r\n                valueHex: (new Uint8Array([0xFF])).buffer\r\n            }));\r\n        }\r\n        if (this.onlyContainsAttributeCerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS)) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 5\r\n                },\r\n                valueHex: (new Uint8Array([0xFF])).buffer\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const obj = {};\r\n        if (this.distributionPoint) {\r\n            if (this.distributionPoint instanceof Array) {\r\n                obj.distributionPoint = Array.from(this.distributionPoint, o => o.toJSON());\r\n            }\r\n            else {\r\n                obj.distributionPoint = this.distributionPoint.toJSON();\r\n            }\r\n        }\r\n        if (this.onlyContainsUserCerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_USER_CERTS)) {\r\n            obj.onlyContainsUserCerts = this.onlyContainsUserCerts;\r\n        }\r\n        if (this.onlyContainsCACerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_CA_CERTS)) {\r\n            obj.onlyContainsCACerts = this.onlyContainsCACerts;\r\n        }\r\n        if (ONLY_SOME_REASON in this) {\r\n            obj.onlySomeReasons = this.onlySomeReasons;\r\n        }\r\n        if (this.indirectCRL !== IssuingDistributionPoint.defaultValues(INDIRECT_CRL)) {\r\n            obj.indirectCRL = this.indirectCRL;\r\n        }\r\n        if (this.onlyContainsAttributeCerts !== IssuingDistributionPoint.defaultValues(ONLY_CONTAINS_ATTRIBUTE_CERTS)) {\r\n            obj.onlyContainsAttributeCerts = this.onlyContainsAttributeCerts;\r\n        }\r\n        return obj;\r\n    }\r\n}\r\nIssuingDistributionPoint.CLASS_NAME = \"IssuingDistributionPoint\";\n\nconst BASE = \"base\";\r\nconst MINIMUM = \"minimum\";\r\nconst MAXIMUM = \"maximum\";\r\nconst CLEAR_PROPS$1h = [\r\n    BASE,\r\n    MINIMUM,\r\n    MAXIMUM\r\n];\r\nclass GeneralSubtree extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.base = pvutils.getParametersValue(parameters, BASE, GeneralSubtree.defaultValues(BASE));\r\n        this.minimum = pvutils.getParametersValue(parameters, MINIMUM, GeneralSubtree.defaultValues(MINIMUM));\r\n        if (MAXIMUM in parameters) {\r\n            this.maximum = pvutils.getParametersValue(parameters, MAXIMUM, GeneralSubtree.defaultValues(MAXIMUM));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case BASE:\r\n                return new GeneralName();\r\n            case MINIMUM:\r\n                return 0;\r\n            case MAXIMUM:\r\n                return 0;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                GeneralName.schema(names.base || {}),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Integer({ name: (names.minimum || EMPTY_STRING) })]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [new asn1js.Integer({ name: (names.maximum || EMPTY_STRING) })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1h);\r\n        const asn1 = asn1js.compareSchema(schema, schema, GeneralSubtree.schema({\r\n            names: {\r\n                base: {\r\n                    names: {\r\n                        blockName: BASE\r\n                    }\r\n                },\r\n                minimum: MINIMUM,\r\n                maximum: MAXIMUM\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.base = new GeneralName({ schema: asn1.result.base });\r\n        if (MINIMUM in asn1.result) {\r\n            if (asn1.result.minimum.valueBlock.isHexOnly)\r\n                this.minimum = asn1.result.minimum;\r\n            else\r\n                this.minimum = asn1.result.minimum.valueBlock.valueDec;\r\n        }\r\n        if (MAXIMUM in asn1.result) {\r\n            if (asn1.result.maximum.valueBlock.isHexOnly)\r\n                this.maximum = asn1.result.maximum;\r\n            else\r\n                this.maximum = asn1.result.maximum.valueBlock.valueDec;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.base.toSchema());\r\n        if (this.minimum !== 0) {\r\n            let valueMinimum = 0;\r\n            if (this.minimum instanceof asn1js.Integer) {\r\n                valueMinimum = this.minimum;\r\n            }\r\n            else {\r\n                valueMinimum = new asn1js.Integer({ value: this.minimum });\r\n            }\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [valueMinimum]\r\n            }));\r\n        }\r\n        if (MAXIMUM in this) {\r\n            let valueMaximum = 0;\r\n            if (this.maximum instanceof asn1js.Integer) {\r\n                valueMaximum = this.maximum;\r\n            }\r\n            else {\r\n                valueMaximum = new asn1js.Integer({ value: this.maximum });\r\n            }\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [valueMaximum]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            base: this.base.toJSON()\r\n        };\r\n        if (this.minimum !== 0) {\r\n            if (typeof this.minimum === \"number\") {\r\n                res.minimum = this.minimum;\r\n            }\r\n            else {\r\n                res.minimum = this.minimum.toJSON();\r\n            }\r\n        }\r\n        if (this.maximum !== undefined) {\r\n            if (typeof this.maximum === \"number\") {\r\n                res.maximum = this.maximum;\r\n            }\r\n            else {\r\n                res.maximum = this.maximum.toJSON();\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n}\r\nGeneralSubtree.CLASS_NAME = \"GeneralSubtree\";\n\nconst PERMITTED_SUBTREES = \"permittedSubtrees\";\r\nconst EXCLUDED_SUBTREES = \"excludedSubtrees\";\r\nconst CLEAR_PROPS$1g = [\r\n    PERMITTED_SUBTREES,\r\n    EXCLUDED_SUBTREES\r\n];\r\nclass NameConstraints extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (PERMITTED_SUBTREES in parameters) {\r\n            this.permittedSubtrees = pvutils.getParametersValue(parameters, PERMITTED_SUBTREES, NameConstraints.defaultValues(PERMITTED_SUBTREES));\r\n        }\r\n        if (EXCLUDED_SUBTREES in parameters) {\r\n            this.excludedSubtrees = pvutils.getParametersValue(parameters, EXCLUDED_SUBTREES, NameConstraints.defaultValues(EXCLUDED_SUBTREES));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case PERMITTED_SUBTREES:\r\n            case EXCLUDED_SUBTREES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.permittedSubtrees || EMPTY_STRING),\r\n                            value: GeneralSubtree.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.excludedSubtrees || EMPTY_STRING),\r\n                            value: GeneralSubtree.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1g);\r\n        const asn1 = asn1js.compareSchema(schema, schema, NameConstraints.schema({\r\n            names: {\r\n                permittedSubtrees: PERMITTED_SUBTREES,\r\n                excludedSubtrees: EXCLUDED_SUBTREES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (PERMITTED_SUBTREES in asn1.result)\r\n            this.permittedSubtrees = Array.from(asn1.result.permittedSubtrees, element => new GeneralSubtree({ schema: element }));\r\n        if (EXCLUDED_SUBTREES in asn1.result)\r\n            this.excludedSubtrees = Array.from(asn1.result.excludedSubtrees, element => new GeneralSubtree({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.permittedSubtrees) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: Array.from(this.permittedSubtrees, o => o.toSchema())\r\n            }));\r\n        }\r\n        if (this.excludedSubtrees) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.excludedSubtrees, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {};\r\n        if (this.permittedSubtrees) {\r\n            object.permittedSubtrees = Array.from(this.permittedSubtrees, o => o.toJSON());\r\n        }\r\n        if (this.excludedSubtrees) {\r\n            object.excludedSubtrees = Array.from(this.excludedSubtrees, o => o.toJSON());\r\n        }\r\n        return object;\r\n    }\r\n}\r\nNameConstraints.CLASS_NAME = \"NameConstraints\";\n\nconst REQUIRE_EXPLICIT_POLICY = \"requireExplicitPolicy\";\r\nconst INHIBIT_POLICY_MAPPING = \"inhibitPolicyMapping\";\r\nconst CLEAR_PROPS$1f = [\r\n    REQUIRE_EXPLICIT_POLICY,\r\n    INHIBIT_POLICY_MAPPING,\r\n];\r\nclass PolicyConstraints extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (REQUIRE_EXPLICIT_POLICY in parameters) {\r\n            this.requireExplicitPolicy = pvutils.getParametersValue(parameters, REQUIRE_EXPLICIT_POLICY, PolicyConstraints.defaultValues(REQUIRE_EXPLICIT_POLICY));\r\n        }\r\n        if (INHIBIT_POLICY_MAPPING in parameters) {\r\n            this.inhibitPolicyMapping = pvutils.getParametersValue(parameters, INHIBIT_POLICY_MAPPING, PolicyConstraints.defaultValues(INHIBIT_POLICY_MAPPING));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case REQUIRE_EXPLICIT_POLICY:\r\n                return 0;\r\n            case INHIBIT_POLICY_MAPPING:\r\n                return 0;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Primitive({\r\n                    name: (names.requireExplicitPolicy || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.inhibitPolicyMapping || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1f);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PolicyConstraints.schema({\r\n            names: {\r\n                requireExplicitPolicy: REQUIRE_EXPLICIT_POLICY,\r\n                inhibitPolicyMapping: INHIBIT_POLICY_MAPPING\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (REQUIRE_EXPLICIT_POLICY in asn1.result) {\r\n            const field1 = asn1.result.requireExplicitPolicy;\r\n            field1.idBlock.tagClass = 1;\r\n            field1.idBlock.tagNumber = 2;\r\n            const ber1 = field1.toBER(false);\r\n            const int1 = asn1js.fromBER(ber1);\r\n            AsnError.assert(int1, \"Integer\");\r\n            this.requireExplicitPolicy = int1.result.valueBlock.valueDec;\r\n        }\r\n        if (INHIBIT_POLICY_MAPPING in asn1.result) {\r\n            const field2 = asn1.result.inhibitPolicyMapping;\r\n            field2.idBlock.tagClass = 1;\r\n            field2.idBlock.tagNumber = 2;\r\n            const ber2 = field2.toBER(false);\r\n            const int2 = asn1js.fromBER(ber2);\r\n            AsnError.assert(int2, \"Integer\");\r\n            this.inhibitPolicyMapping = int2.result.valueBlock.valueDec;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (REQUIRE_EXPLICIT_POLICY in this) {\r\n            const int1 = new asn1js.Integer({ value: this.requireExplicitPolicy });\r\n            int1.idBlock.tagClass = 3;\r\n            int1.idBlock.tagNumber = 0;\r\n            outputArray.push(int1);\r\n        }\r\n        if (INHIBIT_POLICY_MAPPING in this) {\r\n            const int2 = new asn1js.Integer({ value: this.inhibitPolicyMapping });\r\n            int2.idBlock.tagClass = 3;\r\n            int2.idBlock.tagNumber = 1;\r\n            outputArray.push(int2);\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (REQUIRE_EXPLICIT_POLICY in this) {\r\n            res.requireExplicitPolicy = this.requireExplicitPolicy;\r\n        }\r\n        if (INHIBIT_POLICY_MAPPING in this) {\r\n            res.inhibitPolicyMapping = this.inhibitPolicyMapping;\r\n        }\r\n        return res;\r\n    }\r\n}\r\nPolicyConstraints.CLASS_NAME = \"PolicyConstraints\";\n\nconst ISSUER_DOMAIN_POLICY = \"issuerDomainPolicy\";\r\nconst SUBJECT_DOMAIN_POLICY = \"subjectDomainPolicy\";\r\nconst CLEAR_PROPS$1e = [\r\n    ISSUER_DOMAIN_POLICY,\r\n    SUBJECT_DOMAIN_POLICY\r\n];\r\nclass PolicyMapping extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.issuerDomainPolicy = pvutils.getParametersValue(parameters, ISSUER_DOMAIN_POLICY, PolicyMapping.defaultValues(ISSUER_DOMAIN_POLICY));\r\n        this.subjectDomainPolicy = pvutils.getParametersValue(parameters, SUBJECT_DOMAIN_POLICY, PolicyMapping.defaultValues(SUBJECT_DOMAIN_POLICY));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ISSUER_DOMAIN_POLICY:\r\n                return EMPTY_STRING;\r\n            case SUBJECT_DOMAIN_POLICY:\r\n                return EMPTY_STRING;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.issuerDomainPolicy || EMPTY_STRING) }),\r\n                new asn1js.ObjectIdentifier({ name: (names.subjectDomainPolicy || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1e);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PolicyMapping.schema({\r\n            names: {\r\n                issuerDomainPolicy: ISSUER_DOMAIN_POLICY,\r\n                subjectDomainPolicy: SUBJECT_DOMAIN_POLICY\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.issuerDomainPolicy = asn1.result.issuerDomainPolicy.valueBlock.toString();\r\n        this.subjectDomainPolicy = asn1.result.subjectDomainPolicy.valueBlock.toString();\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.issuerDomainPolicy }),\r\n                new asn1js.ObjectIdentifier({ value: this.subjectDomainPolicy })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            issuerDomainPolicy: this.issuerDomainPolicy,\r\n            subjectDomainPolicy: this.subjectDomainPolicy\r\n        };\r\n    }\r\n}\r\nPolicyMapping.CLASS_NAME = \"PolicyMapping\";\n\nconst MAPPINGS = \"mappings\";\r\nconst CLEAR_PROPS$1d = [\r\n    MAPPINGS,\r\n];\r\nclass PolicyMappings extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.mappings = pvutils.getParametersValue(parameters, MAPPINGS, PolicyMappings.defaultValues(MAPPINGS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case MAPPINGS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.mappings || EMPTY_STRING),\r\n                    value: PolicyMapping.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1d);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PolicyMappings.schema({\r\n            names: {\r\n                mappings: MAPPINGS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.mappings = Array.from(asn1.result.mappings, element => new PolicyMapping({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.mappings, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            mappings: Array.from(this.mappings, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nPolicyMappings.CLASS_NAME = \"PolicyMappings\";\n\nconst NOT_BEFORE$1 = \"notBefore\";\r\nconst NOT_AFTER$1 = \"notAfter\";\r\nconst CLEAR_PROPS$1c = [\r\n    NOT_BEFORE$1,\r\n    NOT_AFTER$1\r\n];\r\nclass PrivateKeyUsagePeriod extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (NOT_BEFORE$1 in parameters) {\r\n            this.notBefore = pvutils.getParametersValue(parameters, NOT_BEFORE$1, PrivateKeyUsagePeriod.defaultValues(NOT_BEFORE$1));\r\n        }\r\n        if (NOT_AFTER$1 in parameters) {\r\n            this.notAfter = pvutils.getParametersValue(parameters, NOT_AFTER$1, PrivateKeyUsagePeriod.defaultValues(NOT_AFTER$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case NOT_BEFORE$1:\r\n                return new Date();\r\n            case NOT_AFTER$1:\r\n                return new Date();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Primitive({\r\n                    name: (names.notBefore || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.notAfter || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1c);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PrivateKeyUsagePeriod.schema({\r\n            names: {\r\n                notBefore: NOT_BEFORE$1,\r\n                notAfter: NOT_AFTER$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (NOT_BEFORE$1 in asn1.result) {\r\n            const localNotBefore = new asn1js.GeneralizedTime();\r\n            localNotBefore.fromBuffer(asn1.result.notBefore.valueBlock.valueHex);\r\n            this.notBefore = localNotBefore.toDate();\r\n        }\r\n        if (NOT_AFTER$1 in asn1.result) {\r\n            const localNotAfter = new asn1js.GeneralizedTime({ valueHex: asn1.result.notAfter.valueBlock.valueHex });\r\n            localNotAfter.fromBuffer(asn1.result.notAfter.valueBlock.valueHex);\r\n            this.notAfter = localNotAfter.toDate();\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (NOT_BEFORE$1 in this) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                valueHex: (new asn1js.GeneralizedTime({ valueDate: this.notBefore })).valueBlock.valueHexView\r\n            }));\r\n        }\r\n        if (NOT_AFTER$1 in this) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                valueHex: (new asn1js.GeneralizedTime({ valueDate: this.notAfter })).valueBlock.valueHexView\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (this.notBefore) {\r\n            res.notBefore = this.notBefore;\r\n        }\r\n        if (this.notAfter) {\r\n            res.notAfter = this.notAfter;\r\n        }\r\n        return res;\r\n    }\r\n}\r\nPrivateKeyUsagePeriod.CLASS_NAME = \"PrivateKeyUsagePeriod\";\n\nconst ID = \"id\";\r\nconst TYPE$2 = \"type\";\r\nconst VALUES = \"values\";\r\nconst QC_STATEMENT_CLEAR_PROPS = [\r\n    ID,\r\n    TYPE$2\r\n];\r\nconst QC_STATEMENTS_CLEAR_PROPS = [\r\n    VALUES\r\n];\r\nclass QCStatement extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.id = pvutils.getParametersValue(parameters, ID, QCStatement.defaultValues(ID));\r\n        if (TYPE$2 in parameters) {\r\n            this.type = pvutils.getParametersValue(parameters, TYPE$2, QCStatement.defaultValues(TYPE$2));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ID:\r\n                return EMPTY_STRING;\r\n            case TYPE$2:\r\n                return new asn1js.Null();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ID:\r\n                return (memberValue === EMPTY_STRING);\r\n            case TYPE$2:\r\n                return (memberValue instanceof asn1js.Null);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.id || EMPTY_STRING) }),\r\n                new asn1js.Any({\r\n                    name: (names.type || EMPTY_STRING),\r\n                    optional: true\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, QC_STATEMENT_CLEAR_PROPS);\r\n        const asn1 = asn1js.compareSchema(schema, schema, QCStatement.schema({\r\n            names: {\r\n                id: ID,\r\n                type: TYPE$2\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.id = asn1.result.id.valueBlock.toString();\r\n        if (TYPE$2 in asn1.result)\r\n            this.type = asn1.result.type;\r\n    }\r\n    toSchema() {\r\n        const value = [\r\n            new asn1js.ObjectIdentifier({ value: this.id })\r\n        ];\r\n        if (TYPE$2 in this)\r\n            value.push(this.type);\r\n        return (new asn1js.Sequence({\r\n            value,\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            id: this.id\r\n        };\r\n        if (this.type) {\r\n            object.type = this.type.toJSON();\r\n        }\r\n        return object;\r\n    }\r\n}\r\nQCStatement.CLASS_NAME = \"QCStatement\";\r\nclass QCStatements extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.values = pvutils.getParametersValue(parameters, VALUES, QCStatements.defaultValues(VALUES));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VALUES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VALUES:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.values || EMPTY_STRING),\r\n                    value: QCStatement.schema(names.value || {})\r\n                }),\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, QC_STATEMENTS_CLEAR_PROPS);\r\n        const asn1 = asn1js.compareSchema(schema, schema, QCStatements.schema({\r\n            names: {\r\n                values: VALUES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.values = Array.from(asn1.result.values, element => new QCStatement({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.values, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            values: Array.from(this.values, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nQCStatements.CLASS_NAME = \"QCStatements\";\n\nvar _a;\r\nclass ECNamedCurves {\r\n    static register(name, id, size) {\r\n        this.namedCurves[name.toLowerCase()] = this.namedCurves[id] = { name, id, size };\r\n    }\r\n    static find(nameOrId) {\r\n        return this.namedCurves[nameOrId.toLowerCase()] || null;\r\n    }\r\n}\r\n_a = ECNamedCurves;\r\nECNamedCurves.namedCurves = {};\r\n(() => {\r\n    _a.register(\"P-256\", \"1.2.840.10045.3.1.7\", 32);\r\n    _a.register(\"P-384\", \"1.3.132.0.34\", 48);\r\n    _a.register(\"P-521\", \"1.3.132.0.35\", 66);\r\n    _a.register(\"brainpoolP256r1\", \"1.3.36.3.3.2.8.1.1.7\", 32);\r\n    _a.register(\"brainpoolP384r1\", \"1.3.36.3.3.2.8.1.1.11\", 48);\r\n    _a.register(\"brainpoolP512r1\", \"1.3.36.3.3.2.8.1.1.13\", 64);\r\n})();\n\nconst X = \"x\";\r\nconst Y = \"y\";\r\nconst NAMED_CURVE$1 = \"namedCurve\";\r\nclass ECPublicKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.x = pvutils.getParametersValue(parameters, X, ECPublicKey.defaultValues(X));\r\n        this.y = pvutils.getParametersValue(parameters, Y, ECPublicKey.defaultValues(Y));\r\n        this.namedCurve = pvutils.getParametersValue(parameters, NAMED_CURVE$1, ECPublicKey.defaultValues(NAMED_CURVE$1));\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case X:\r\n            case Y:\r\n                return EMPTY_BUFFER;\r\n            case NAMED_CURVE$1:\r\n                return EMPTY_STRING;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case X:\r\n            case Y:\r\n                return memberValue instanceof ArrayBuffer &&\r\n                    (pvutils.isEqualBuffer(memberValue, ECPublicKey.defaultValues(memberName)));\r\n            case NAMED_CURVE$1:\r\n                return typeof memberValue === \"string\" &&\r\n                    memberValue === ECPublicKey.defaultValues(memberName);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema() {\r\n        return new asn1js.RawData();\r\n    }\r\n    fromSchema(schema1) {\r\n        const view = BufferSourceConverter.toUint8Array(schema1);\r\n        if (view[0] !== 0x04) {\r\n            throw new Error(\"Object's schema was not verified against input data for ECPublicKey\");\r\n        }\r\n        const namedCurve = ECNamedCurves.find(this.namedCurve);\r\n        if (!namedCurve) {\r\n            throw new Error(`Incorrect curve OID: ${this.namedCurve}`);\r\n        }\r\n        const coordinateLength = namedCurve.size;\r\n        if (view.byteLength !== (coordinateLength * 2 + 1)) {\r\n            throw new Error(\"Object's schema was not verified against input data for ECPublicKey\");\r\n        }\r\n        this.namedCurve = namedCurve.name;\r\n        this.x = view.slice(1, coordinateLength + 1).buffer;\r\n        this.y = view.slice(1 + coordinateLength, coordinateLength * 2 + 1).buffer;\r\n    }\r\n    toSchema() {\r\n        return new asn1js.RawData({\r\n            data: pvutils.utilConcatBuf((new Uint8Array([0x04])).buffer, this.x, this.y)\r\n        });\r\n    }\r\n    toJSON() {\r\n        const namedCurve = ECNamedCurves.find(this.namedCurve);\r\n        return {\r\n            crv: namedCurve ? namedCurve.name : this.namedCurve,\r\n            x: pvutils.toBase64(pvutils.arrayBufferToString(this.x), true, true, false),\r\n            y: pvutils.toBase64(pvutils.arrayBufferToString(this.y), true, true, false)\r\n        };\r\n    }\r\n    fromJSON(json) {\r\n        ParameterError.assert(\"json\", json, \"crv\", \"x\", \"y\");\r\n        let coordinateLength = 0;\r\n        const namedCurve = ECNamedCurves.find(json.crv);\r\n        if (namedCurve) {\r\n            this.namedCurve = namedCurve.id;\r\n            coordinateLength = namedCurve.size;\r\n        }\r\n        const xConvertBuffer = pvutils.stringToArrayBuffer(pvutils.fromBase64(json.x, true));\r\n        if (xConvertBuffer.byteLength < coordinateLength) {\r\n            this.x = new ArrayBuffer(coordinateLength);\r\n            const view = new Uint8Array(this.x);\r\n            const convertBufferView = new Uint8Array(xConvertBuffer);\r\n            view.set(convertBufferView, 1);\r\n        }\r\n        else {\r\n            this.x = xConvertBuffer.slice(0, coordinateLength);\r\n        }\r\n        const yConvertBuffer = pvutils.stringToArrayBuffer(pvutils.fromBase64(json.y, true));\r\n        if (yConvertBuffer.byteLength < coordinateLength) {\r\n            this.y = new ArrayBuffer(coordinateLength);\r\n            const view = new Uint8Array(this.y);\r\n            const convertBufferView = new Uint8Array(yConvertBuffer);\r\n            view.set(convertBufferView, 1);\r\n        }\r\n        else {\r\n            this.y = yConvertBuffer.slice(0, coordinateLength);\r\n        }\r\n    }\r\n}\r\nECPublicKey.CLASS_NAME = \"ECPublicKey\";\n\nconst MODULUS$1 = \"modulus\";\r\nconst PUBLIC_EXPONENT$1 = \"publicExponent\";\r\nconst CLEAR_PROPS$1b = [MODULUS$1, PUBLIC_EXPONENT$1];\r\nclass RSAPublicKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.modulus = pvutils.getParametersValue(parameters, MODULUS$1, RSAPublicKey.defaultValues(MODULUS$1));\r\n        this.publicExponent = pvutils.getParametersValue(parameters, PUBLIC_EXPONENT$1, RSAPublicKey.defaultValues(PUBLIC_EXPONENT$1));\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case MODULUS$1:\r\n                return new asn1js.Integer();\r\n            case PUBLIC_EXPONENT$1:\r\n                return new asn1js.Integer();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.modulus || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.publicExponent || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1b);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RSAPublicKey.schema({\r\n            names: {\r\n                modulus: MODULUS$1,\r\n                publicExponent: PUBLIC_EXPONENT$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.modulus = asn1.result.modulus.convertFromDER(256);\r\n        this.publicExponent = asn1.result.publicExponent;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.modulus.convertToDER(),\r\n                this.publicExponent\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            n: pvtsutils.Convert.ToBase64Url(this.modulus.valueBlock.valueHexView),\r\n            e: pvtsutils.Convert.ToBase64Url(this.publicExponent.valueBlock.valueHexView),\r\n        };\r\n    }\r\n    fromJSON(json) {\r\n        ParameterError.assert(\"json\", json, \"n\", \"e\");\r\n        const array = pvutils.stringToArrayBuffer(pvutils.fromBase64(json.n, true));\r\n        this.modulus = new asn1js.Integer({ valueHex: array.slice(0, Math.pow(2, pvutils.nearestPowerOf2(array.byteLength))) });\r\n        this.publicExponent = new asn1js.Integer({ valueHex: pvutils.stringToArrayBuffer(pvutils.fromBase64(json.e, true)).slice(0, 3) });\r\n    }\r\n}\r\nRSAPublicKey.CLASS_NAME = \"RSAPublicKey\";\n\nconst ALGORITHM$1 = \"algorithm\";\r\nconst SUBJECT_PUBLIC_KEY = \"subjectPublicKey\";\r\nconst CLEAR_PROPS$1a = [ALGORITHM$1, SUBJECT_PUBLIC_KEY];\r\nclass PublicKeyInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.algorithm = pvutils.getParametersValue(parameters, ALGORITHM$1, PublicKeyInfo.defaultValues(ALGORITHM$1));\r\n        this.subjectPublicKey = pvutils.getParametersValue(parameters, SUBJECT_PUBLIC_KEY, PublicKeyInfo.defaultValues(SUBJECT_PUBLIC_KEY));\r\n        const parsedKey = pvutils.getParametersValue(parameters, \"parsedKey\", null);\r\n        if (parsedKey) {\r\n            this.parsedKey = parsedKey;\r\n        }\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get parsedKey() {\r\n        if (this._parsedKey === undefined) {\r\n            switch (this.algorithm.algorithmId) {\r\n                case \"1.2.840.10045.2.1\":\r\n                    if (\"algorithmParams\" in this.algorithm) {\r\n                        if (this.algorithm.algorithmParams.constructor.blockName() === asn1js.ObjectIdentifier.blockName()) {\r\n                            try {\r\n                                this._parsedKey = new ECPublicKey({\r\n                                    namedCurve: this.algorithm.algorithmParams.valueBlock.toString(),\r\n                                    schema: this.subjectPublicKey.valueBlock.valueHexView\r\n                                });\r\n                            }\r\n                            catch (ex) {\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"1.2.840.113549.1.1.1\":\r\n                    {\r\n                        const publicKeyASN1 = asn1js.fromBER(this.subjectPublicKey.valueBlock.valueHexView);\r\n                        if (publicKeyASN1.offset !== -1) {\r\n                            try {\r\n                                this._parsedKey = new RSAPublicKey({ schema: publicKeyASN1.result });\r\n                            }\r\n                            catch (ex) {\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n            this._parsedKey || (this._parsedKey = null);\r\n        }\r\n        return this._parsedKey || undefined;\r\n    }\r\n    set parsedKey(value) {\r\n        this._parsedKey = value;\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ALGORITHM$1:\r\n                return new AlgorithmIdentifier();\r\n            case SUBJECT_PUBLIC_KEY:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.algorithm || {}),\r\n                new asn1js.BitString({ name: (names.subjectPublicKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1a);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PublicKeyInfo.schema({\r\n            names: {\r\n                algorithm: {\r\n                    names: {\r\n                        blockName: ALGORITHM$1\r\n                    }\r\n                },\r\n                subjectPublicKey: SUBJECT_PUBLIC_KEY\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.algorithm = new AlgorithmIdentifier({ schema: asn1.result.algorithm });\r\n        this.subjectPublicKey = asn1.result.subjectPublicKey;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.algorithm.toSchema(),\r\n                this.subjectPublicKey\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        if (!this.parsedKey) {\r\n            return {\r\n                algorithm: this.algorithm.toJSON(),\r\n                subjectPublicKey: this.subjectPublicKey.toJSON(),\r\n            };\r\n        }\r\n        const jwk = {};\r\n        switch (this.algorithm.algorithmId) {\r\n            case \"1.2.840.10045.2.1\":\r\n                jwk.kty = \"EC\";\r\n                break;\r\n            case \"1.2.840.113549.1.1.1\":\r\n                jwk.kty = \"RSA\";\r\n                break;\r\n        }\r\n        const publicKeyJWK = this.parsedKey.toJSON();\r\n        Object.assign(jwk, publicKeyJWK);\r\n        return jwk;\r\n    }\r\n    fromJSON(json) {\r\n        if (\"kty\" in json) {\r\n            switch (json.kty.toUpperCase()) {\r\n                case \"EC\":\r\n                    this.parsedKey = new ECPublicKey({ json });\r\n                    this.algorithm = new AlgorithmIdentifier({\r\n                        algorithmId: \"1.2.840.10045.2.1\",\r\n                        algorithmParams: new asn1js.ObjectIdentifier({ value: this.parsedKey.namedCurve })\r\n                    });\r\n                    break;\r\n                case \"RSA\":\r\n                    this.parsedKey = new RSAPublicKey({ json });\r\n                    this.algorithm = new AlgorithmIdentifier({\r\n                        algorithmId: \"1.2.840.113549.1.1.1\",\r\n                        algorithmParams: new asn1js.Null()\r\n                    });\r\n                    break;\r\n                default:\r\n                    throw new Error(`Invalid value for \"kty\" parameter: ${json.kty}`);\r\n            }\r\n            this.subjectPublicKey = new asn1js.BitString({ valueHex: this.parsedKey.toSchema().toBER(false) });\r\n        }\r\n    }\r\n    async importKey(publicKey, crypto = getCrypto(true)) {\r\n        try {\r\n            if (!publicKey) {\r\n                throw new Error(\"Need to provide publicKey input parameter\");\r\n            }\r\n            const exportedKey = await crypto.exportKey(\"spki\", publicKey);\r\n            const asn1 = asn1js.fromBER(exportedKey);\r\n            try {\r\n                this.fromSchema(asn1.result);\r\n            }\r\n            catch (exception) {\r\n                throw new Error(\"Error during initializing object from schema\");\r\n            }\r\n        }\r\n        catch (e) {\r\n            const message = e instanceof Error ? e.message : `${e}`;\r\n            throw new Error(`Error during exporting public key: ${message}`);\r\n        }\r\n    }\r\n}\r\nPublicKeyInfo.CLASS_NAME = \"PublicKeyInfo\";\n\nconst VERSION$l = \"version\";\r\nconst PRIVATE_KEY$1 = \"privateKey\";\r\nconst NAMED_CURVE = \"namedCurve\";\r\nconst PUBLIC_KEY$1 = \"publicKey\";\r\nconst CLEAR_PROPS$19 = [\r\n    VERSION$l,\r\n    PRIVATE_KEY$1,\r\n    NAMED_CURVE,\r\n    PUBLIC_KEY$1\r\n];\r\nclass ECPrivateKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$l, ECPrivateKey.defaultValues(VERSION$l));\r\n        this.privateKey = pvutils.getParametersValue(parameters, PRIVATE_KEY$1, ECPrivateKey.defaultValues(PRIVATE_KEY$1));\r\n        if (NAMED_CURVE in parameters) {\r\n            this.namedCurve = pvutils.getParametersValue(parameters, NAMED_CURVE, ECPrivateKey.defaultValues(NAMED_CURVE));\r\n        }\r\n        if (PUBLIC_KEY$1 in parameters) {\r\n            this.publicKey = pvutils.getParametersValue(parameters, PUBLIC_KEY$1, ECPrivateKey.defaultValues(PUBLIC_KEY$1));\r\n        }\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$l:\r\n                return 1;\r\n            case PRIVATE_KEY$1:\r\n                return new asn1js.OctetString();\r\n            case NAMED_CURVE:\r\n                return EMPTY_STRING;\r\n            case PUBLIC_KEY$1:\r\n                return new ECPublicKey();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$l:\r\n                return (memberValue === ECPrivateKey.defaultValues(memberName));\r\n            case PRIVATE_KEY$1:\r\n                return (memberValue.isEqual(ECPrivateKey.defaultValues(memberName)));\r\n            case NAMED_CURVE:\r\n                return (memberValue === EMPTY_STRING);\r\n            case PUBLIC_KEY$1:\r\n                return ((ECPublicKey.compareWithDefault(NAMED_CURVE, memberValue.namedCurve)) &&\r\n                    (ECPublicKey.compareWithDefault(\"x\", memberValue.x)) &&\r\n                    (ECPublicKey.compareWithDefault(\"y\", memberValue.y)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                new asn1js.OctetString({ name: (names.privateKey || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.ObjectIdentifier({ name: (names.namedCurve || EMPTY_STRING) })\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.BitString({ name: (names.publicKey || EMPTY_STRING) })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$19);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ECPrivateKey.schema({\r\n            names: {\r\n                version: VERSION$l,\r\n                privateKey: PRIVATE_KEY$1,\r\n                namedCurve: NAMED_CURVE,\r\n                publicKey: PUBLIC_KEY$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.privateKey = asn1.result.privateKey;\r\n        if (NAMED_CURVE in asn1.result) {\r\n            this.namedCurve = asn1.result.namedCurve.valueBlock.toString();\r\n        }\r\n        if (PUBLIC_KEY$1 in asn1.result) {\r\n            const publicKeyData = { schema: asn1.result.publicKey.valueBlock.valueHex };\r\n            if (NAMED_CURVE in this) {\r\n                publicKeyData.namedCurve = this.namedCurve;\r\n            }\r\n            this.publicKey = new ECPublicKey(publicKeyData);\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            new asn1js.Integer({ value: this.version }),\r\n            this.privateKey\r\n        ];\r\n        if (this.namedCurve) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.ObjectIdentifier({ value: this.namedCurve })\r\n                ]\r\n            }));\r\n        }\r\n        if (this.publicKey) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [\r\n                    new asn1js.BitString({ valueHex: this.publicKey.toSchema().toBER(false) })\r\n                ]\r\n            }));\r\n        }\r\n        return new asn1js.Sequence({\r\n            value: outputArray\r\n        });\r\n    }\r\n    toJSON() {\r\n        if (!this.namedCurve || ECPrivateKey.compareWithDefault(NAMED_CURVE, this.namedCurve)) {\r\n            throw new Error(\"Not enough information for making JSON: absent \\\"namedCurve\\\" value\");\r\n        }\r\n        const curve = ECNamedCurves.find(this.namedCurve);\r\n        const privateKeyJSON = {\r\n            crv: curve ? curve.name : this.namedCurve,\r\n            d: pvtsutils.Convert.ToBase64Url(this.privateKey.valueBlock.valueHexView),\r\n        };\r\n        if (this.publicKey) {\r\n            const publicKeyJSON = this.publicKey.toJSON();\r\n            privateKeyJSON.x = publicKeyJSON.x;\r\n            privateKeyJSON.y = publicKeyJSON.y;\r\n        }\r\n        return privateKeyJSON;\r\n    }\r\n    fromJSON(json) {\r\n        ParameterError.assert(\"json\", json, \"crv\", \"d\");\r\n        let coordinateLength = 0;\r\n        const curve = ECNamedCurves.find(json.crv);\r\n        if (curve) {\r\n            this.namedCurve = curve.id;\r\n            coordinateLength = curve.size;\r\n        }\r\n        const convertBuffer = pvtsutils.Convert.FromBase64Url(json.d);\r\n        if (convertBuffer.byteLength < coordinateLength) {\r\n            const buffer = new ArrayBuffer(coordinateLength);\r\n            const view = new Uint8Array(buffer);\r\n            const convertBufferView = new Uint8Array(convertBuffer);\r\n            view.set(convertBufferView, 1);\r\n            this.privateKey = new asn1js.OctetString({ valueHex: buffer });\r\n        }\r\n        else {\r\n            this.privateKey = new asn1js.OctetString({ valueHex: convertBuffer.slice(0, coordinateLength) });\r\n        }\r\n        if (json.x && json.y) {\r\n            this.publicKey = new ECPublicKey({ json });\r\n        }\r\n    }\r\n}\r\nECPrivateKey.CLASS_NAME = \"ECPrivateKey\";\n\nconst PRIME = \"prime\";\r\nconst EXPONENT = \"exponent\";\r\nconst COEFFICIENT$1 = \"coefficient\";\r\nconst CLEAR_PROPS$18 = [\r\n    PRIME,\r\n    EXPONENT,\r\n    COEFFICIENT$1,\r\n];\r\nclass OtherPrimeInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.prime = pvutils.getParametersValue(parameters, PRIME, OtherPrimeInfo.defaultValues(PRIME));\r\n        this.exponent = pvutils.getParametersValue(parameters, EXPONENT, OtherPrimeInfo.defaultValues(EXPONENT));\r\n        this.coefficient = pvutils.getParametersValue(parameters, COEFFICIENT$1, OtherPrimeInfo.defaultValues(COEFFICIENT$1));\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case PRIME:\r\n                return new asn1js.Integer();\r\n            case EXPONENT:\r\n                return new asn1js.Integer();\r\n            case COEFFICIENT$1:\r\n                return new asn1js.Integer();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.prime || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.exponent || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.coefficient || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$18);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OtherPrimeInfo.schema({\r\n            names: {\r\n                prime: PRIME,\r\n                exponent: EXPONENT,\r\n                coefficient: COEFFICIENT$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.prime = asn1.result.prime.convertFromDER();\r\n        this.exponent = asn1.result.exponent.convertFromDER();\r\n        this.coefficient = asn1.result.coefficient.convertFromDER();\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.prime.convertToDER(),\r\n                this.exponent.convertToDER(),\r\n                this.coefficient.convertToDER()\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            r: pvtsutils.Convert.ToBase64Url(this.prime.valueBlock.valueHexView),\r\n            d: pvtsutils.Convert.ToBase64Url(this.exponent.valueBlock.valueHexView),\r\n            t: pvtsutils.Convert.ToBase64Url(this.coefficient.valueBlock.valueHexView),\r\n        };\r\n    }\r\n    fromJSON(json) {\r\n        ParameterError.assert(\"json\", json, \"r\", \"d\", \"r\");\r\n        this.prime = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.r) });\r\n        this.exponent = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.d) });\r\n        this.coefficient = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.t) });\r\n    }\r\n}\r\nOtherPrimeInfo.CLASS_NAME = \"OtherPrimeInfo\";\n\nconst VERSION$k = \"version\";\r\nconst MODULUS = \"modulus\";\r\nconst PUBLIC_EXPONENT = \"publicExponent\";\r\nconst PRIVATE_EXPONENT = \"privateExponent\";\r\nconst PRIME1 = \"prime1\";\r\nconst PRIME2 = \"prime2\";\r\nconst EXPONENT1 = \"exponent1\";\r\nconst EXPONENT2 = \"exponent2\";\r\nconst COEFFICIENT = \"coefficient\";\r\nconst OTHER_PRIME_INFOS = \"otherPrimeInfos\";\r\nconst CLEAR_PROPS$17 = [\r\n    VERSION$k,\r\n    MODULUS,\r\n    PUBLIC_EXPONENT,\r\n    PRIVATE_EXPONENT,\r\n    PRIME1,\r\n    PRIME2,\r\n    EXPONENT1,\r\n    EXPONENT2,\r\n    COEFFICIENT,\r\n    OTHER_PRIME_INFOS\r\n];\r\nclass RSAPrivateKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$k, RSAPrivateKey.defaultValues(VERSION$k));\r\n        this.modulus = pvutils.getParametersValue(parameters, MODULUS, RSAPrivateKey.defaultValues(MODULUS));\r\n        this.publicExponent = pvutils.getParametersValue(parameters, PUBLIC_EXPONENT, RSAPrivateKey.defaultValues(PUBLIC_EXPONENT));\r\n        this.privateExponent = pvutils.getParametersValue(parameters, PRIVATE_EXPONENT, RSAPrivateKey.defaultValues(PRIVATE_EXPONENT));\r\n        this.prime1 = pvutils.getParametersValue(parameters, PRIME1, RSAPrivateKey.defaultValues(PRIME1));\r\n        this.prime2 = pvutils.getParametersValue(parameters, PRIME2, RSAPrivateKey.defaultValues(PRIME2));\r\n        this.exponent1 = pvutils.getParametersValue(parameters, EXPONENT1, RSAPrivateKey.defaultValues(EXPONENT1));\r\n        this.exponent2 = pvutils.getParametersValue(parameters, EXPONENT2, RSAPrivateKey.defaultValues(EXPONENT2));\r\n        this.coefficient = pvutils.getParametersValue(parameters, COEFFICIENT, RSAPrivateKey.defaultValues(COEFFICIENT));\r\n        if (OTHER_PRIME_INFOS in parameters) {\r\n            this.otherPrimeInfos = pvutils.getParametersValue(parameters, OTHER_PRIME_INFOS, RSAPrivateKey.defaultValues(OTHER_PRIME_INFOS));\r\n        }\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$k:\r\n                return 0;\r\n            case MODULUS:\r\n                return new asn1js.Integer();\r\n            case PUBLIC_EXPONENT:\r\n                return new asn1js.Integer();\r\n            case PRIVATE_EXPONENT:\r\n                return new asn1js.Integer();\r\n            case PRIME1:\r\n                return new asn1js.Integer();\r\n            case PRIME2:\r\n                return new asn1js.Integer();\r\n            case EXPONENT1:\r\n                return new asn1js.Integer();\r\n            case EXPONENT2:\r\n                return new asn1js.Integer();\r\n            case COEFFICIENT:\r\n                return new asn1js.Integer();\r\n            case OTHER_PRIME_INFOS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.modulus || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.publicExponent || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.privateExponent || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.prime1 || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.prime2 || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.exponent1 || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.exponent2 || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.coefficient || EMPTY_STRING) }),\r\n                new asn1js.Sequence({\r\n                    optional: true,\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.otherPrimeInfosName || EMPTY_STRING),\r\n                            value: OtherPrimeInfo.schema(names.otherPrimeInfo || {})\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$17);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RSAPrivateKey.schema({\r\n            names: {\r\n                version: VERSION$k,\r\n                modulus: MODULUS,\r\n                publicExponent: PUBLIC_EXPONENT,\r\n                privateExponent: PRIVATE_EXPONENT,\r\n                prime1: PRIME1,\r\n                prime2: PRIME2,\r\n                exponent1: EXPONENT1,\r\n                exponent2: EXPONENT2,\r\n                coefficient: COEFFICIENT,\r\n                otherPrimeInfo: {\r\n                    names: {\r\n                        blockName: OTHER_PRIME_INFOS\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.modulus = asn1.result.modulus.convertFromDER(256);\r\n        this.publicExponent = asn1.result.publicExponent;\r\n        this.privateExponent = asn1.result.privateExponent.convertFromDER(256);\r\n        this.prime1 = asn1.result.prime1.convertFromDER(128);\r\n        this.prime2 = asn1.result.prime2.convertFromDER(128);\r\n        this.exponent1 = asn1.result.exponent1.convertFromDER(128);\r\n        this.exponent2 = asn1.result.exponent2.convertFromDER(128);\r\n        this.coefficient = asn1.result.coefficient.convertFromDER(128);\r\n        if (OTHER_PRIME_INFOS in asn1.result)\r\n            this.otherPrimeInfos = Array.from(asn1.result.otherPrimeInfos, element => new OtherPrimeInfo({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(this.modulus.convertToDER());\r\n        outputArray.push(this.publicExponent);\r\n        outputArray.push(this.privateExponent.convertToDER());\r\n        outputArray.push(this.prime1.convertToDER());\r\n        outputArray.push(this.prime2.convertToDER());\r\n        outputArray.push(this.exponent1.convertToDER());\r\n        outputArray.push(this.exponent2.convertToDER());\r\n        outputArray.push(this.coefficient.convertToDER());\r\n        if (this.otherPrimeInfos) {\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.otherPrimeInfos, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const jwk = {\r\n            n: pvtsutils.Convert.ToBase64Url(this.modulus.valueBlock.valueHexView),\r\n            e: pvtsutils.Convert.ToBase64Url(this.publicExponent.valueBlock.valueHexView),\r\n            d: pvtsutils.Convert.ToBase64Url(this.privateExponent.valueBlock.valueHexView),\r\n            p: pvtsutils.Convert.ToBase64Url(this.prime1.valueBlock.valueHexView),\r\n            q: pvtsutils.Convert.ToBase64Url(this.prime2.valueBlock.valueHexView),\r\n            dp: pvtsutils.Convert.ToBase64Url(this.exponent1.valueBlock.valueHexView),\r\n            dq: pvtsutils.Convert.ToBase64Url(this.exponent2.valueBlock.valueHexView),\r\n            qi: pvtsutils.Convert.ToBase64Url(this.coefficient.valueBlock.valueHexView),\r\n        };\r\n        if (this.otherPrimeInfos) {\r\n            jwk.oth = Array.from(this.otherPrimeInfos, o => o.toJSON());\r\n        }\r\n        return jwk;\r\n    }\r\n    fromJSON(json) {\r\n        ParameterError.assert(\"json\", json, \"n\", \"e\", \"d\", \"p\", \"q\", \"dp\", \"dq\", \"qi\");\r\n        this.modulus = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.n) });\r\n        this.publicExponent = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.e) });\r\n        this.privateExponent = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.d) });\r\n        this.prime1 = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.p) });\r\n        this.prime2 = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.q) });\r\n        this.exponent1 = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.dp) });\r\n        this.exponent2 = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.dq) });\r\n        this.coefficient = new asn1js.Integer({ valueHex: pvtsutils.Convert.FromBase64Url(json.qi) });\r\n        if (json.oth) {\r\n            this.otherPrimeInfos = Array.from(json.oth, (element) => new OtherPrimeInfo({ json: element }));\r\n        }\r\n    }\r\n}\r\nRSAPrivateKey.CLASS_NAME = \"RSAPrivateKey\";\n\nconst VERSION$j = \"version\";\r\nconst PRIVATE_KEY_ALGORITHM = \"privateKeyAlgorithm\";\r\nconst PRIVATE_KEY = \"privateKey\";\r\nconst ATTRIBUTES$5 = \"attributes\";\r\nconst PARSED_KEY = \"parsedKey\";\r\nconst CLEAR_PROPS$16 = [\r\n    VERSION$j,\r\n    PRIVATE_KEY_ALGORITHM,\r\n    PRIVATE_KEY,\r\n    ATTRIBUTES$5\r\n];\r\nclass PrivateKeyInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$j, PrivateKeyInfo.defaultValues(VERSION$j));\r\n        this.privateKeyAlgorithm = pvutils.getParametersValue(parameters, PRIVATE_KEY_ALGORITHM, PrivateKeyInfo.defaultValues(PRIVATE_KEY_ALGORITHM));\r\n        this.privateKey = pvutils.getParametersValue(parameters, PRIVATE_KEY, PrivateKeyInfo.defaultValues(PRIVATE_KEY));\r\n        if (ATTRIBUTES$5 in parameters) {\r\n            this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES$5, PrivateKeyInfo.defaultValues(ATTRIBUTES$5));\r\n        }\r\n        if (PARSED_KEY in parameters) {\r\n            this.parsedKey = pvutils.getParametersValue(parameters, PARSED_KEY, PrivateKeyInfo.defaultValues(PARSED_KEY));\r\n        }\r\n        if (parameters.json) {\r\n            this.fromJSON(parameters.json);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$j:\r\n                return 0;\r\n            case PRIVATE_KEY_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case PRIVATE_KEY:\r\n                return new asn1js.OctetString();\r\n            case ATTRIBUTES$5:\r\n                return [];\r\n            case PARSED_KEY:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                AlgorithmIdentifier.schema(names.privateKeyAlgorithm || {}),\r\n                new asn1js.OctetString({ name: (names.privateKey || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.attributes || EMPTY_STRING),\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$16);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PrivateKeyInfo.schema({\r\n            names: {\r\n                version: VERSION$j,\r\n                privateKeyAlgorithm: {\r\n                    names: {\r\n                        blockName: PRIVATE_KEY_ALGORITHM\r\n                    }\r\n                },\r\n                privateKey: PRIVATE_KEY,\r\n                attributes: ATTRIBUTES$5\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.privateKeyAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.privateKeyAlgorithm });\r\n        this.privateKey = asn1.result.privateKey;\r\n        if (ATTRIBUTES$5 in asn1.result)\r\n            this.attributes = Array.from(asn1.result.attributes, element => new Attribute({ schema: element }));\r\n        switch (this.privateKeyAlgorithm.algorithmId) {\r\n            case \"1.2.840.113549.1.1.1\":\r\n                {\r\n                    const privateKeyASN1 = asn1js.fromBER(this.privateKey.valueBlock.valueHexView);\r\n                    if (privateKeyASN1.offset !== -1)\r\n                        this.parsedKey = new RSAPrivateKey({ schema: privateKeyASN1.result });\r\n                }\r\n                break;\r\n            case \"1.2.840.10045.2.1\":\r\n                if (\"algorithmParams\" in this.privateKeyAlgorithm) {\r\n                    if (this.privateKeyAlgorithm.algorithmParams instanceof asn1js.ObjectIdentifier) {\r\n                        const privateKeyASN1 = asn1js.fromBER(this.privateKey.valueBlock.valueHexView);\r\n                        if (privateKeyASN1.offset !== -1) {\r\n                            this.parsedKey = new ECPrivateKey({\r\n                                namedCurve: this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),\r\n                                schema: privateKeyASN1.result\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            new asn1js.Integer({ value: this.version }),\r\n            this.privateKeyAlgorithm.toSchema(),\r\n            this.privateKey\r\n        ];\r\n        if (this.attributes) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: Array.from(this.attributes, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        if (!this.parsedKey) {\r\n            const object = {\r\n                version: this.version,\r\n                privateKeyAlgorithm: this.privateKeyAlgorithm.toJSON(),\r\n                privateKey: this.privateKey.toJSON(),\r\n            };\r\n            if (this.attributes) {\r\n                object.attributes = Array.from(this.attributes, o => o.toJSON());\r\n            }\r\n            return object;\r\n        }\r\n        const jwk = {};\r\n        switch (this.privateKeyAlgorithm.algorithmId) {\r\n            case \"1.2.840.10045.2.1\":\r\n                jwk.kty = \"EC\";\r\n                break;\r\n            case \"1.2.840.113549.1.1.1\":\r\n                jwk.kty = \"RSA\";\r\n                break;\r\n        }\r\n        const publicKeyJWK = this.parsedKey.toJSON();\r\n        Object.assign(jwk, publicKeyJWK);\r\n        return jwk;\r\n    }\r\n    fromJSON(json) {\r\n        if (\"kty\" in json) {\r\n            switch (json.kty.toUpperCase()) {\r\n                case \"EC\":\r\n                    this.parsedKey = new ECPrivateKey({ json });\r\n                    this.privateKeyAlgorithm = new AlgorithmIdentifier({\r\n                        algorithmId: \"1.2.840.10045.2.1\",\r\n                        algorithmParams: new asn1js.ObjectIdentifier({ value: this.parsedKey.namedCurve })\r\n                    });\r\n                    break;\r\n                case \"RSA\":\r\n                    this.parsedKey = new RSAPrivateKey({ json });\r\n                    this.privateKeyAlgorithm = new AlgorithmIdentifier({\r\n                        algorithmId: \"1.2.840.113549.1.1.1\",\r\n                        algorithmParams: new asn1js.Null()\r\n                    });\r\n                    break;\r\n                default:\r\n                    throw new Error(`Invalid value for \"kty\" parameter: ${json.kty}`);\r\n            }\r\n            this.privateKey = new asn1js.OctetString({ valueHex: this.parsedKey.toSchema().toBER(false) });\r\n        }\r\n    }\r\n}\r\nPrivateKeyInfo.CLASS_NAME = \"PrivateKeyInfo\";\n\nconst CONTENT_TYPE$1 = \"contentType\";\r\nconst CONTENT_ENCRYPTION_ALGORITHM = \"contentEncryptionAlgorithm\";\r\nconst ENCRYPTED_CONTENT = \"encryptedContent\";\r\nconst CLEAR_PROPS$15 = [\r\n    CONTENT_TYPE$1,\r\n    CONTENT_ENCRYPTION_ALGORITHM,\r\n    ENCRYPTED_CONTENT,\r\n];\r\nclass EncryptedContentInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.contentType = pvutils.getParametersValue(parameters, CONTENT_TYPE$1, EncryptedContentInfo.defaultValues(CONTENT_TYPE$1));\r\n        this.contentEncryptionAlgorithm = pvutils.getParametersValue(parameters, CONTENT_ENCRYPTION_ALGORITHM, EncryptedContentInfo.defaultValues(CONTENT_ENCRYPTION_ALGORITHM));\r\n        if (ENCRYPTED_CONTENT in parameters && parameters.encryptedContent) {\r\n            this.encryptedContent = parameters.encryptedContent;\r\n            if ((this.encryptedContent.idBlock.tagClass === 1) &&\r\n                (this.encryptedContent.idBlock.tagNumber === 4)) {\r\n                if (this.encryptedContent.idBlock.isConstructed === false) {\r\n                    const constrString = new asn1js.OctetString({\r\n                        idBlock: { isConstructed: true },\r\n                        isConstructed: true\r\n                    });\r\n                    let offset = 0;\r\n                    const valueHex = this.encryptedContent.valueBlock.valueHexView.slice().buffer;\r\n                    let length = valueHex.byteLength;\r\n                    const pieceSize = 1024;\r\n                    while (length > 0) {\r\n                        const pieceView = new Uint8Array(valueHex, offset, ((offset + pieceSize) > valueHex.byteLength) ? (valueHex.byteLength - offset) : pieceSize);\r\n                        const _array = new ArrayBuffer(pieceView.length);\r\n                        const _view = new Uint8Array(_array);\r\n                        for (let i = 0; i < _view.length; i++)\r\n                            _view[i] = pieceView[i];\r\n                        constrString.valueBlock.value.push(new asn1js.OctetString({ valueHex: _array }));\r\n                        length -= pieceView.length;\r\n                        offset += pieceView.length;\r\n                    }\r\n                    this.encryptedContent = constrString;\r\n                }\r\n            }\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CONTENT_TYPE$1:\r\n                return EMPTY_STRING;\r\n            case CONTENT_ENCRYPTION_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case ENCRYPTED_CONTENT:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CONTENT_TYPE$1:\r\n                return (memberValue === EMPTY_STRING);\r\n            case CONTENT_ENCRYPTION_ALGORITHM:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case ENCRYPTED_CONTENT:\r\n                return (memberValue.isEqual(EncryptedContentInfo.defaultValues(ENCRYPTED_CONTENT)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.contentType || EMPTY_STRING) }),\r\n                AlgorithmIdentifier.schema(names.contentEncryptionAlgorithm || {}),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.Constructed({\r\n                            name: (names.encryptedContent || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                            value: [\r\n                                new asn1js.Repeated({\r\n                                    value: new asn1js.OctetString()\r\n                                })\r\n                            ]\r\n                        }),\r\n                        new asn1js.Primitive({\r\n                            name: (names.encryptedContent || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$15);\r\n        const asn1 = asn1js.compareSchema(schema, schema, EncryptedContentInfo.schema({\r\n            names: {\r\n                contentType: CONTENT_TYPE$1,\r\n                contentEncryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: CONTENT_ENCRYPTION_ALGORITHM\r\n                    }\r\n                },\r\n                encryptedContent: ENCRYPTED_CONTENT\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.contentType = asn1.result.contentType.valueBlock.toString();\r\n        this.contentEncryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.contentEncryptionAlgorithm });\r\n        if (ENCRYPTED_CONTENT in asn1.result) {\r\n            this.encryptedContent = asn1.result.encryptedContent;\r\n            this.encryptedContent.idBlock.tagClass = 1;\r\n            this.encryptedContent.idBlock.tagNumber = 4;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const sequenceLengthBlock = {\r\n            isIndefiniteForm: false\r\n        };\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.contentType }));\r\n        outputArray.push(this.contentEncryptionAlgorithm.toSchema());\r\n        if (this.encryptedContent) {\r\n            sequenceLengthBlock.isIndefiniteForm = this.encryptedContent.idBlock.isConstructed;\r\n            const encryptedValue = this.encryptedContent;\r\n            encryptedValue.idBlock.tagClass = 3;\r\n            encryptedValue.idBlock.tagNumber = 0;\r\n            encryptedValue.lenBlock.isIndefiniteForm = this.encryptedContent.idBlock.isConstructed;\r\n            outputArray.push(encryptedValue);\r\n        }\r\n        return (new asn1js.Sequence({\r\n            lenBlock: sequenceLengthBlock,\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            contentType: this.contentType,\r\n            contentEncryptionAlgorithm: this.contentEncryptionAlgorithm.toJSON()\r\n        };\r\n        if (this.encryptedContent) {\r\n            res.encryptedContent = this.encryptedContent.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n    getEncryptedContent() {\r\n        if (!this.encryptedContent) {\r\n            throw new Error(\"Parameter 'encryptedContent' is undefined\");\r\n        }\r\n        return asn1js.OctetString.prototype.getValue.call(this.encryptedContent);\r\n    }\r\n}\r\nEncryptedContentInfo.CLASS_NAME = \"EncryptedContentInfo\";\n\nconst HASH_ALGORITHM$4 = \"hashAlgorithm\";\r\nconst MASK_GEN_ALGORITHM$1 = \"maskGenAlgorithm\";\r\nconst SALT_LENGTH = \"saltLength\";\r\nconst TRAILER_FIELD = \"trailerField\";\r\nconst CLEAR_PROPS$14 = [\r\n    HASH_ALGORITHM$4,\r\n    MASK_GEN_ALGORITHM$1,\r\n    SALT_LENGTH,\r\n    TRAILER_FIELD\r\n];\r\nclass RSASSAPSSParams extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.hashAlgorithm = pvutils.getParametersValue(parameters, HASH_ALGORITHM$4, RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4));\r\n        this.maskGenAlgorithm = pvutils.getParametersValue(parameters, MASK_GEN_ALGORITHM$1, RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1));\r\n        this.saltLength = pvutils.getParametersValue(parameters, SALT_LENGTH, RSASSAPSSParams.defaultValues(SALT_LENGTH));\r\n        this.trailerField = pvutils.getParametersValue(parameters, TRAILER_FIELD, RSASSAPSSParams.defaultValues(TRAILER_FIELD));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM$4:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.3.14.3.2.26\",\r\n                    algorithmParams: new asn1js.Null()\r\n                });\r\n            case MASK_GEN_ALGORITHM$1:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.2.840.113549.1.1.8\",\r\n                    algorithmParams: (new AlgorithmIdentifier({\r\n                        algorithmId: \"1.3.14.3.2.26\",\r\n                        algorithmParams: new asn1js.Null()\r\n                    })).toSchema()\r\n                });\r\n            case SALT_LENGTH:\r\n                return 20;\r\n            case TRAILER_FIELD:\r\n                return 1;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    optional: true,\r\n                    value: [AlgorithmIdentifier.schema(names.hashAlgorithm || {})]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    optional: true,\r\n                    value: [AlgorithmIdentifier.schema(names.maskGenAlgorithm || {})]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    optional: true,\r\n                    value: [new asn1js.Integer({ name: (names.saltLength || EMPTY_STRING) })]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 3\r\n                    },\r\n                    optional: true,\r\n                    value: [new asn1js.Integer({ name: (names.trailerField || EMPTY_STRING) })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$14);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RSASSAPSSParams.schema({\r\n            names: {\r\n                hashAlgorithm: {\r\n                    names: {\r\n                        blockName: HASH_ALGORITHM$4\r\n                    }\r\n                },\r\n                maskGenAlgorithm: {\r\n                    names: {\r\n                        blockName: MASK_GEN_ALGORITHM$1\r\n                    }\r\n                },\r\n                saltLength: SALT_LENGTH,\r\n                trailerField: TRAILER_FIELD\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (HASH_ALGORITHM$4 in asn1.result)\r\n            this.hashAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.hashAlgorithm });\r\n        if (MASK_GEN_ALGORITHM$1 in asn1.result)\r\n            this.maskGenAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.maskGenAlgorithm });\r\n        if (SALT_LENGTH in asn1.result)\r\n            this.saltLength = asn1.result.saltLength.valueBlock.valueDec;\r\n        if (TRAILER_FIELD in asn1.result)\r\n            this.trailerField = asn1.result.trailerField.valueBlock.valueDec;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (!this.hashAlgorithm.isEqual(RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.hashAlgorithm.toSchema()]\r\n            }));\r\n        }\r\n        if (!this.maskGenAlgorithm.isEqual(RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [this.maskGenAlgorithm.toSchema()]\r\n            }));\r\n        }\r\n        if (this.saltLength !== RSASSAPSSParams.defaultValues(SALT_LENGTH)) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                value: [new asn1js.Integer({ value: this.saltLength })]\r\n            }));\r\n        }\r\n        if (this.trailerField !== RSASSAPSSParams.defaultValues(TRAILER_FIELD)) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 3\r\n                },\r\n                value: [new asn1js.Integer({ value: this.trailerField })]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (!this.hashAlgorithm.isEqual(RSASSAPSSParams.defaultValues(HASH_ALGORITHM$4))) {\r\n            res.hashAlgorithm = this.hashAlgorithm.toJSON();\r\n        }\r\n        if (!this.maskGenAlgorithm.isEqual(RSASSAPSSParams.defaultValues(MASK_GEN_ALGORITHM$1))) {\r\n            res.maskGenAlgorithm = this.maskGenAlgorithm.toJSON();\r\n        }\r\n        if (this.saltLength !== RSASSAPSSParams.defaultValues(SALT_LENGTH)) {\r\n            res.saltLength = this.saltLength;\r\n        }\r\n        if (this.trailerField !== RSASSAPSSParams.defaultValues(TRAILER_FIELD)) {\r\n            res.trailerField = this.trailerField;\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRSASSAPSSParams.CLASS_NAME = \"RSASSAPSSParams\";\n\nconst SALT = \"salt\";\r\nconst ITERATION_COUNT = \"iterationCount\";\r\nconst KEY_LENGTH = \"keyLength\";\r\nconst PRF = \"prf\";\r\nconst CLEAR_PROPS$13 = [\r\n    SALT,\r\n    ITERATION_COUNT,\r\n    KEY_LENGTH,\r\n    PRF\r\n];\r\nclass PBKDF2Params extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.salt = pvutils.getParametersValue(parameters, SALT, PBKDF2Params.defaultValues(SALT));\r\n        this.iterationCount = pvutils.getParametersValue(parameters, ITERATION_COUNT, PBKDF2Params.defaultValues(ITERATION_COUNT));\r\n        if (KEY_LENGTH in parameters) {\r\n            this.keyLength = pvutils.getParametersValue(parameters, KEY_LENGTH, PBKDF2Params.defaultValues(KEY_LENGTH));\r\n        }\r\n        if (PRF in parameters) {\r\n            this.prf = pvutils.getParametersValue(parameters, PRF, PBKDF2Params.defaultValues(PRF));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SALT:\r\n                return {};\r\n            case ITERATION_COUNT:\r\n                return (-1);\r\n            case KEY_LENGTH:\r\n                return 0;\r\n            case PRF:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.3.14.3.2.26\",\r\n                    algorithmParams: new asn1js.Null()\r\n                });\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.OctetString({ name: (names.saltPrimitive || EMPTY_STRING) }),\r\n                        AlgorithmIdentifier.schema(names.saltConstructed || {})\r\n                    ]\r\n                }),\r\n                new asn1js.Integer({ name: (names.iterationCount || EMPTY_STRING) }),\r\n                new asn1js.Integer({\r\n                    name: (names.keyLength || EMPTY_STRING),\r\n                    optional: true\r\n                }),\r\n                AlgorithmIdentifier.schema(names.prf || {\r\n                    names: {\r\n                        optional: true\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$13);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PBKDF2Params.schema({\r\n            names: {\r\n                saltPrimitive: SALT,\r\n                saltConstructed: {\r\n                    names: {\r\n                        blockName: SALT\r\n                    }\r\n                },\r\n                iterationCount: ITERATION_COUNT,\r\n                keyLength: KEY_LENGTH,\r\n                prf: {\r\n                    names: {\r\n                        blockName: PRF,\r\n                        optional: true\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.salt = asn1.result.salt;\r\n        this.iterationCount = asn1.result.iterationCount.valueBlock.valueDec;\r\n        if (KEY_LENGTH in asn1.result)\r\n            this.keyLength = asn1.result.keyLength.valueBlock.valueDec;\r\n        if (PRF in asn1.result)\r\n            this.prf = new AlgorithmIdentifier({ schema: asn1.result.prf });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.salt);\r\n        outputArray.push(new asn1js.Integer({ value: this.iterationCount }));\r\n        if (KEY_LENGTH in this) {\r\n            if (PBKDF2Params.defaultValues(KEY_LENGTH) !== this.keyLength)\r\n                outputArray.push(new asn1js.Integer({ value: this.keyLength }));\r\n        }\r\n        if (this.prf) {\r\n            if (PBKDF2Params.defaultValues(PRF).isEqual(this.prf) === false)\r\n                outputArray.push(this.prf.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            salt: this.salt.toJSON(),\r\n            iterationCount: this.iterationCount\r\n        };\r\n        if (KEY_LENGTH in this) {\r\n            if (PBKDF2Params.defaultValues(KEY_LENGTH) !== this.keyLength)\r\n                res.keyLength = this.keyLength;\r\n        }\r\n        if (this.prf) {\r\n            if (PBKDF2Params.defaultValues(PRF).isEqual(this.prf) === false)\r\n                res.prf = this.prf.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nPBKDF2Params.CLASS_NAME = \"PBKDF2Params\";\n\nconst KEY_DERIVATION_FUNC = \"keyDerivationFunc\";\r\nconst ENCRYPTION_SCHEME = \"encryptionScheme\";\r\nconst CLEAR_PROPS$12 = [\r\n    KEY_DERIVATION_FUNC,\r\n    ENCRYPTION_SCHEME\r\n];\r\nclass PBES2Params extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.keyDerivationFunc = pvutils.getParametersValue(parameters, KEY_DERIVATION_FUNC, PBES2Params.defaultValues(KEY_DERIVATION_FUNC));\r\n        this.encryptionScheme = pvutils.getParametersValue(parameters, ENCRYPTION_SCHEME, PBES2Params.defaultValues(ENCRYPTION_SCHEME));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_DERIVATION_FUNC:\r\n                return new AlgorithmIdentifier();\r\n            case ENCRYPTION_SCHEME:\r\n                return new AlgorithmIdentifier();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.keyDerivationFunc || {}),\r\n                AlgorithmIdentifier.schema(names.encryptionScheme || {})\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$12);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PBES2Params.schema({\r\n            names: {\r\n                keyDerivationFunc: {\r\n                    names: {\r\n                        blockName: KEY_DERIVATION_FUNC\r\n                    }\r\n                },\r\n                encryptionScheme: {\r\n                    names: {\r\n                        blockName: ENCRYPTION_SCHEME\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.keyDerivationFunc = new AlgorithmIdentifier({ schema: asn1.result.keyDerivationFunc });\r\n        this.encryptionScheme = new AlgorithmIdentifier({ schema: asn1.result.encryptionScheme });\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.keyDerivationFunc.toSchema(),\r\n                this.encryptionScheme.toSchema()\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            keyDerivationFunc: this.keyDerivationFunc.toJSON(),\r\n            encryptionScheme: this.encryptionScheme.toJSON()\r\n        };\r\n    }\r\n}\r\nPBES2Params.CLASS_NAME = \"PBES2Params\";\n\nclass AbstractCryptoEngine {\r\n    constructor(parameters) {\r\n        this.crypto = parameters.crypto;\r\n        this.subtle = \"webkitSubtle\" in parameters.crypto\r\n            ? parameters.crypto.webkitSubtle\r\n            : parameters.crypto.subtle;\r\n        this.name = pvutils.getParametersValue(parameters, \"name\", EMPTY_STRING);\r\n    }\r\n    async encrypt(...args) {\r\n        return this.subtle.encrypt(...args);\r\n    }\r\n    async decrypt(...args) {\r\n        return this.subtle.decrypt(...args);\r\n    }\r\n    sign(...args) {\r\n        return this.subtle.sign(...args);\r\n    }\r\n    async verify(...args) {\r\n        return this.subtle.verify(...args);\r\n    }\r\n    async digest(...args) {\r\n        return this.subtle.digest(...args);\r\n    }\r\n    async generateKey(...args) {\r\n        return this.subtle.generateKey(...args);\r\n    }\r\n    async deriveKey(...args) {\r\n        return this.subtle.deriveKey(...args);\r\n    }\r\n    async deriveBits(...args) {\r\n        return this.subtle.deriveBits(...args);\r\n    }\r\n    async wrapKey(...args) {\r\n        return this.subtle.wrapKey(...args);\r\n    }\r\n    async unwrapKey(...args) {\r\n        return this.subtle.unwrapKey(...args);\r\n    }\r\n    exportKey(...args) {\r\n        return this.subtle.exportKey(...args);\r\n    }\r\n    importKey(...args) {\r\n        return this.subtle.importKey(...args);\r\n    }\r\n    getRandomValues(array) {\r\n        return this.crypto.getRandomValues(array);\r\n    }\r\n}\n\nasync function makePKCS12B2Key(cryptoEngine, hashAlgorithm, keyLength, password, salt, iterationCount) {\r\n    let u;\r\n    let v;\r\n    const result = [];\r\n    switch (hashAlgorithm.toUpperCase()) {\r\n        case \"SHA-1\":\r\n            u = 20;\r\n            v = 64;\r\n            break;\r\n        case \"SHA-256\":\r\n            u = 32;\r\n            v = 64;\r\n            break;\r\n        case \"SHA-384\":\r\n            u = 48;\r\n            v = 128;\r\n            break;\r\n        case \"SHA-512\":\r\n            u = 64;\r\n            v = 128;\r\n            break;\r\n        default:\r\n            throw new Error(\"Unsupported hashing algorithm\");\r\n    }\r\n    const passwordViewInitial = new Uint8Array(password);\r\n    const passwordTransformed = new ArrayBuffer((password.byteLength * 2) + 2);\r\n    const passwordTransformedView = new Uint8Array(passwordTransformed);\r\n    for (let i = 0; i < passwordViewInitial.length; i++) {\r\n        passwordTransformedView[i * 2] = 0x00;\r\n        passwordTransformedView[i * 2 + 1] = passwordViewInitial[i];\r\n    }\r\n    passwordTransformedView[passwordTransformedView.length - 2] = 0x00;\r\n    passwordTransformedView[passwordTransformedView.length - 1] = 0x00;\r\n    password = passwordTransformed.slice(0);\r\n    const D = new ArrayBuffer(v);\r\n    const dView = new Uint8Array(D);\r\n    for (let i = 0; i < D.byteLength; i++)\r\n        dView[i] = 3;\r\n    const saltLength = salt.byteLength;\r\n    const sLen = v * Math.ceil(saltLength / v);\r\n    const S = new ArrayBuffer(sLen);\r\n    const sView = new Uint8Array(S);\r\n    const saltView = new Uint8Array(salt);\r\n    for (let i = 0; i < sLen; i++)\r\n        sView[i] = saltView[i % saltLength];\r\n    const passwordLength = password.byteLength;\r\n    const pLen = v * Math.ceil(passwordLength / v);\r\n    const P = new ArrayBuffer(pLen);\r\n    const pView = new Uint8Array(P);\r\n    const passwordView = new Uint8Array(password);\r\n    for (let i = 0; i < pLen; i++)\r\n        pView[i] = passwordView[i % passwordLength];\r\n    const sPlusPLength = S.byteLength + P.byteLength;\r\n    let I = new ArrayBuffer(sPlusPLength);\r\n    let iView = new Uint8Array(I);\r\n    iView.set(sView);\r\n    iView.set(pView, sView.length);\r\n    const c = Math.ceil((keyLength >> 3) / u);\r\n    let internalSequence = Promise.resolve(I);\r\n    for (let i = 0; i <= c; i++) {\r\n        internalSequence = internalSequence.then(_I => {\r\n            const dAndI = new ArrayBuffer(D.byteLength + _I.byteLength);\r\n            const dAndIView = new Uint8Array(dAndI);\r\n            dAndIView.set(dView);\r\n            dAndIView.set(iView, dView.length);\r\n            return dAndI;\r\n        });\r\n        for (let j = 0; j < iterationCount; j++)\r\n            internalSequence = internalSequence.then(roundBuffer => cryptoEngine.digest({ name: hashAlgorithm }, new Uint8Array(roundBuffer)));\r\n        internalSequence = internalSequence.then(roundBuffer => {\r\n            const B = new ArrayBuffer(v);\r\n            const bView = new Uint8Array(B);\r\n            for (let j = 0; j < B.byteLength; j++)\r\n                bView[j] = roundBuffer[j % roundBuffer.byteLength];\r\n            const k = Math.ceil(saltLength / v) + Math.ceil(passwordLength / v);\r\n            const iRound = [];\r\n            let sliceStart = 0;\r\n            let sliceLength = v;\r\n            for (let j = 0; j < k; j++) {\r\n                const chunk = Array.from(new Uint8Array(I.slice(sliceStart, sliceStart + sliceLength)));\r\n                sliceStart += v;\r\n                if ((sliceStart + v) > I.byteLength)\r\n                    sliceLength = I.byteLength - sliceStart;\r\n                let x = 0x1ff;\r\n                for (let l = (B.byteLength - 1); l >= 0; l--) {\r\n                    x >>= 8;\r\n                    x += bView[l] + chunk[l];\r\n                    chunk[l] = (x & 0xff);\r\n                }\r\n                iRound.push(...chunk);\r\n            }\r\n            I = new ArrayBuffer(iRound.length);\r\n            iView = new Uint8Array(I);\r\n            iView.set(iRound);\r\n            result.push(...(new Uint8Array(roundBuffer)));\r\n            return I;\r\n        });\r\n    }\r\n    internalSequence = internalSequence.then(() => {\r\n        const resultBuffer = new ArrayBuffer(keyLength >> 3);\r\n        const resultView = new Uint8Array(resultBuffer);\r\n        resultView.set((new Uint8Array(result)).slice(0, keyLength >> 3));\r\n        return resultBuffer;\r\n    });\r\n    return internalSequence;\r\n}\r\nfunction prepareAlgorithm(data) {\r\n    const res = typeof data === \"string\"\r\n        ? { name: data }\r\n        : data;\r\n    if (\"hash\" in res) {\r\n        return {\r\n            ...res,\r\n            hash: prepareAlgorithm(res.hash)\r\n        };\r\n    }\r\n    return res;\r\n}\r\nclass CryptoEngine extends AbstractCryptoEngine {\r\n    async importKey(format, keyData, algorithm, extractable, keyUsages) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        let jwk = {};\r\n        const alg = prepareAlgorithm(algorithm);\r\n        switch (format.toLowerCase()) {\r\n            case \"raw\":\r\n                return this.subtle.importKey(\"raw\", keyData, algorithm, extractable, keyUsages);\r\n            case \"spki\":\r\n                {\r\n                    const asn1 = asn1js.fromBER(pvtsutils.BufferSourceConverter.toArrayBuffer(keyData));\r\n                    AsnError.assert(asn1, \"keyData\");\r\n                    const publicKeyInfo = new PublicKeyInfo();\r\n                    try {\r\n                        publicKeyInfo.fromSchema(asn1.result);\r\n                    }\r\n                    catch {\r\n                        throw new ArgumentError(\"Incorrect keyData\");\r\n                    }\r\n                    switch (alg.name.toUpperCase()) {\r\n                        case \"RSA-PSS\":\r\n                            {\r\n                                if (!alg.hash) {\r\n                                    throw new ParameterError(\"hash\", \"algorithm.hash\", \"Incorrect hash algorithm: Hash algorithm is missed\");\r\n                                }\r\n                                switch (alg.hash.name.toUpperCase()) {\r\n                                    case \"SHA-1\":\r\n                                        jwk.alg = \"PS1\";\r\n                                        break;\r\n                                    case \"SHA-256\":\r\n                                        jwk.alg = \"PS256\";\r\n                                        break;\r\n                                    case \"SHA-384\":\r\n                                        jwk.alg = \"PS384\";\r\n                                        break;\r\n                                    case \"SHA-512\":\r\n                                        jwk.alg = \"PS512\";\r\n                                        break;\r\n                                    default:\r\n                                        throw new Error(`Incorrect hash algorithm: ${alg.hash.name.toUpperCase()}`);\r\n                                }\r\n                            }\r\n                        case \"RSASSA-PKCS1-V1_5\":\r\n                            {\r\n                                keyUsages = [\"verify\"];\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                if (publicKeyInfo.algorithm.algorithmId !== \"1.2.840.113549.1.1.1\")\r\n                                    throw new Error(`Incorrect public key algorithm: ${publicKeyInfo.algorithm.algorithmId}`);\r\n                                if (!jwk.alg) {\r\n                                    if (!alg.hash) {\r\n                                        throw new ParameterError(\"hash\", \"algorithm.hash\", \"Incorrect hash algorithm: Hash algorithm is missed\");\r\n                                    }\r\n                                    switch (alg.hash.name.toUpperCase()) {\r\n                                        case \"SHA-1\":\r\n                                            jwk.alg = \"RS1\";\r\n                                            break;\r\n                                        case \"SHA-256\":\r\n                                            jwk.alg = \"RS256\";\r\n                                            break;\r\n                                        case \"SHA-384\":\r\n                                            jwk.alg = \"RS384\";\r\n                                            break;\r\n                                        case \"SHA-512\":\r\n                                            jwk.alg = \"RS512\";\r\n                                            break;\r\n                                        default:\r\n                                            throw new Error(`Incorrect hash algorithm: ${alg.hash.name.toUpperCase()}`);\r\n                                    }\r\n                                }\r\n                                const publicKeyJSON = publicKeyInfo.toJSON();\r\n                                Object.assign(jwk, publicKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"ECDSA\":\r\n                            keyUsages = [\"verify\"];\r\n                        case \"ECDH\":\r\n                            {\r\n                                jwk = {\r\n                                    kty: \"EC\",\r\n                                    ext: extractable,\r\n                                    key_ops: keyUsages\r\n                                };\r\n                                if (publicKeyInfo.algorithm.algorithmId !== \"1.2.840.10045.2.1\") {\r\n                                    throw new Error(`Incorrect public key algorithm: ${publicKeyInfo.algorithm.algorithmId}`);\r\n                                }\r\n                                const publicKeyJSON = publicKeyInfo.toJSON();\r\n                                Object.assign(jwk, publicKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"RSA-OAEP\":\r\n                            {\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                if (this.name.toLowerCase() === \"safari\")\r\n                                    jwk.alg = \"RSA-OAEP\";\r\n                                else {\r\n                                    if (!alg.hash) {\r\n                                        throw new ParameterError(\"hash\", \"algorithm.hash\", \"Incorrect hash algorithm: Hash algorithm is missed\");\r\n                                    }\r\n                                    switch (alg.hash.name.toUpperCase()) {\r\n                                        case \"SHA-1\":\r\n                                            jwk.alg = \"RSA-OAEP\";\r\n                                            break;\r\n                                        case \"SHA-256\":\r\n                                            jwk.alg = \"RSA-OAEP-256\";\r\n                                            break;\r\n                                        case \"SHA-384\":\r\n                                            jwk.alg = \"RSA-OAEP-384\";\r\n                                            break;\r\n                                        case \"SHA-512\":\r\n                                            jwk.alg = \"RSA-OAEP-512\";\r\n                                            break;\r\n                                        default:\r\n                                            throw new Error(`Incorrect hash algorithm: ${alg.hash.name.toUpperCase()}`);\r\n                                    }\r\n                                }\r\n                                const publicKeyJSON = publicKeyInfo.toJSON();\r\n                                Object.assign(jwk, publicKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"RSAES-PKCS1-V1_5\":\r\n                            {\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                jwk.alg = \"PS1\";\r\n                                const publicKeyJSON = publicKeyInfo.toJSON();\r\n                                Object.assign(jwk, publicKeyJSON);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            throw new Error(`Incorrect algorithm name: ${alg.name.toUpperCase()}`);\r\n                    }\r\n                }\r\n                break;\r\n            case \"pkcs8\":\r\n                {\r\n                    const privateKeyInfo = new PrivateKeyInfo();\r\n                    const asn1 = asn1js.fromBER(pvtsutils.BufferSourceConverter.toArrayBuffer(keyData));\r\n                    AsnError.assert(asn1, \"keyData\");\r\n                    try {\r\n                        privateKeyInfo.fromSchema(asn1.result);\r\n                    }\r\n                    catch (ex) {\r\n                        throw new Error(\"Incorrect keyData\");\r\n                    }\r\n                    if (!privateKeyInfo.parsedKey)\r\n                        throw new Error(\"Incorrect keyData\");\r\n                    switch (alg.name.toUpperCase()) {\r\n                        case \"RSA-PSS\":\r\n                            {\r\n                                switch ((_a = alg.hash) === null || _a === void 0 ? void 0 : _a.name.toUpperCase()) {\r\n                                    case \"SHA-1\":\r\n                                        jwk.alg = \"PS1\";\r\n                                        break;\r\n                                    case \"SHA-256\":\r\n                                        jwk.alg = \"PS256\";\r\n                                        break;\r\n                                    case \"SHA-384\":\r\n                                        jwk.alg = \"PS384\";\r\n                                        break;\r\n                                    case \"SHA-512\":\r\n                                        jwk.alg = \"PS512\";\r\n                                        break;\r\n                                    default:\r\n                                        throw new Error(`Incorrect hash algorithm: ${(_b = alg.hash) === null || _b === void 0 ? void 0 : _b.name.toUpperCase()}`);\r\n                                }\r\n                            }\r\n                        case \"RSASSA-PKCS1-V1_5\":\r\n                            {\r\n                                keyUsages = [\"sign\"];\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                if (privateKeyInfo.privateKeyAlgorithm.algorithmId !== \"1.2.840.113549.1.1.1\")\r\n                                    throw new Error(`Incorrect private key algorithm: ${privateKeyInfo.privateKeyAlgorithm.algorithmId}`);\r\n                                if ((\"alg\" in jwk) === false) {\r\n                                    switch ((_c = alg.hash) === null || _c === void 0 ? void 0 : _c.name.toUpperCase()) {\r\n                                        case \"SHA-1\":\r\n                                            jwk.alg = \"RS1\";\r\n                                            break;\r\n                                        case \"SHA-256\":\r\n                                            jwk.alg = \"RS256\";\r\n                                            break;\r\n                                        case \"SHA-384\":\r\n                                            jwk.alg = \"RS384\";\r\n                                            break;\r\n                                        case \"SHA-512\":\r\n                                            jwk.alg = \"RS512\";\r\n                                            break;\r\n                                        default:\r\n                                            throw new Error(`Incorrect hash algorithm: ${(_d = alg.hash) === null || _d === void 0 ? void 0 : _d.name.toUpperCase()}`);\r\n                                    }\r\n                                }\r\n                                const privateKeyJSON = privateKeyInfo.toJSON();\r\n                                Object.assign(jwk, privateKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"ECDSA\":\r\n                            keyUsages = [\"sign\"];\r\n                        case \"ECDH\":\r\n                            {\r\n                                jwk = {\r\n                                    kty: \"EC\",\r\n                                    ext: extractable,\r\n                                    key_ops: keyUsages\r\n                                };\r\n                                if (privateKeyInfo.privateKeyAlgorithm.algorithmId !== \"1.2.840.10045.2.1\")\r\n                                    throw new Error(`Incorrect algorithm: ${privateKeyInfo.privateKeyAlgorithm.algorithmId}`);\r\n                                const privateKeyJSON = privateKeyInfo.toJSON();\r\n                                Object.assign(jwk, privateKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"RSA-OAEP\":\r\n                            {\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                if (this.name.toLowerCase() === \"safari\")\r\n                                    jwk.alg = \"RSA-OAEP\";\r\n                                else {\r\n                                    switch ((_e = alg.hash) === null || _e === void 0 ? void 0 : _e.name.toUpperCase()) {\r\n                                        case \"SHA-1\":\r\n                                            jwk.alg = \"RSA-OAEP\";\r\n                                            break;\r\n                                        case \"SHA-256\":\r\n                                            jwk.alg = \"RSA-OAEP-256\";\r\n                                            break;\r\n                                        case \"SHA-384\":\r\n                                            jwk.alg = \"RSA-OAEP-384\";\r\n                                            break;\r\n                                        case \"SHA-512\":\r\n                                            jwk.alg = \"RSA-OAEP-512\";\r\n                                            break;\r\n                                        default:\r\n                                            throw new Error(`Incorrect hash algorithm: ${(_f = alg.hash) === null || _f === void 0 ? void 0 : _f.name.toUpperCase()}`);\r\n                                    }\r\n                                }\r\n                                const privateKeyJSON = privateKeyInfo.toJSON();\r\n                                Object.assign(jwk, privateKeyJSON);\r\n                            }\r\n                            break;\r\n                        case \"RSAES-PKCS1-V1_5\":\r\n                            {\r\n                                keyUsages = [\"decrypt\"];\r\n                                jwk.kty = \"RSA\";\r\n                                jwk.ext = extractable;\r\n                                jwk.key_ops = keyUsages;\r\n                                jwk.alg = \"PS1\";\r\n                                const privateKeyJSON = privateKeyInfo.toJSON();\r\n                                Object.assign(jwk, privateKeyJSON);\r\n                            }\r\n                            break;\r\n                        default:\r\n                            throw new Error(`Incorrect algorithm name: ${alg.name.toUpperCase()}`);\r\n                    }\r\n                }\r\n                break;\r\n            case \"jwk\":\r\n                jwk = keyData;\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect format: ${format}`);\r\n        }\r\n        if (this.name.toLowerCase() === \"safari\") {\r\n            try {\r\n                return this.subtle.importKey(\"jwk\", pvutils.stringToArrayBuffer(JSON.stringify(jwk)), algorithm, extractable, keyUsages);\r\n            }\r\n            catch {\r\n                return this.subtle.importKey(\"jwk\", jwk, algorithm, extractable, keyUsages);\r\n            }\r\n        }\r\n        return this.subtle.importKey(\"jwk\", jwk, algorithm, extractable, keyUsages);\r\n    }\r\n    async exportKey(format, key) {\r\n        let jwk = await this.subtle.exportKey(\"jwk\", key);\r\n        if (this.name.toLowerCase() === \"safari\") {\r\n            if (jwk instanceof ArrayBuffer) {\r\n                jwk = JSON.parse(pvutils.arrayBufferToString(jwk));\r\n            }\r\n        }\r\n        switch (format.toLowerCase()) {\r\n            case \"raw\":\r\n                return this.subtle.exportKey(\"raw\", key);\r\n            case \"spki\": {\r\n                const publicKeyInfo = new PublicKeyInfo();\r\n                try {\r\n                    publicKeyInfo.fromJSON(jwk);\r\n                }\r\n                catch (ex) {\r\n                    throw new Error(\"Incorrect key data\");\r\n                }\r\n                return publicKeyInfo.toSchema().toBER(false);\r\n            }\r\n            case \"pkcs8\": {\r\n                const privateKeyInfo = new PrivateKeyInfo();\r\n                try {\r\n                    privateKeyInfo.fromJSON(jwk);\r\n                }\r\n                catch (ex) {\r\n                    throw new Error(\"Incorrect key data\");\r\n                }\r\n                return privateKeyInfo.toSchema().toBER(false);\r\n            }\r\n            case \"jwk\":\r\n                return jwk;\r\n            default:\r\n                throw new Error(`Incorrect format: ${format}`);\r\n        }\r\n    }\r\n    async convert(inputFormat, outputFormat, keyData, algorithm, extractable, keyUsages) {\r\n        if (inputFormat.toLowerCase() === outputFormat.toLowerCase()) {\r\n            return keyData;\r\n        }\r\n        const key = await this.importKey(inputFormat, keyData, algorithm, extractable, keyUsages);\r\n        return this.exportKey(outputFormat, key);\r\n    }\r\n    getAlgorithmByOID(oid, safety = false, target) {\r\n        switch (oid) {\r\n            case \"1.2.840.113549.1.1.1\":\r\n                return {\r\n                    name: \"RSAES-PKCS1-v1_5\"\r\n                };\r\n            case \"1.2.840.113549.1.1.5\":\r\n                return {\r\n                    name: \"RSASSA-PKCS1-v1_5\",\r\n                    hash: {\r\n                        name: \"SHA-1\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.1.1.11\":\r\n                return {\r\n                    name: \"RSASSA-PKCS1-v1_5\",\r\n                    hash: {\r\n                        name: \"SHA-256\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.1.1.12\":\r\n                return {\r\n                    name: \"RSASSA-PKCS1-v1_5\",\r\n                    hash: {\r\n                        name: \"SHA-384\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.1.1.13\":\r\n                return {\r\n                    name: \"RSASSA-PKCS1-v1_5\",\r\n                    hash: {\r\n                        name: \"SHA-512\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.1.1.10\":\r\n                return {\r\n                    name: \"RSA-PSS\"\r\n                };\r\n            case \"1.2.840.113549.1.1.7\":\r\n                return {\r\n                    name: \"RSA-OAEP\"\r\n                };\r\n            case \"1.2.840.10045.2.1\":\r\n            case \"1.2.840.10045.4.1\":\r\n                return {\r\n                    name: \"ECDSA\",\r\n                    hash: {\r\n                        name: \"SHA-1\"\r\n                    }\r\n                };\r\n            case \"1.2.840.10045.4.3.2\":\r\n                return {\r\n                    name: \"ECDSA\",\r\n                    hash: {\r\n                        name: \"SHA-256\"\r\n                    }\r\n                };\r\n            case \"1.2.840.10045.4.3.3\":\r\n                return {\r\n                    name: \"ECDSA\",\r\n                    hash: {\r\n                        name: \"SHA-384\"\r\n                    }\r\n                };\r\n            case \"1.2.840.10045.4.3.4\":\r\n                return {\r\n                    name: \"ECDSA\",\r\n                    hash: {\r\n                        name: \"SHA-512\"\r\n                    }\r\n                };\r\n            case \"1.3.133.16.840.63.0.2\":\r\n                return {\r\n                    name: \"ECDH\",\r\n                    kdf: \"SHA-1\"\r\n                };\r\n            case \"1.3.132.1.11.1\":\r\n                return {\r\n                    name: \"ECDH\",\r\n                    kdf: \"SHA-256\"\r\n                };\r\n            case \"1.3.132.1.11.2\":\r\n                return {\r\n                    name: \"ECDH\",\r\n                    kdf: \"SHA-384\"\r\n                };\r\n            case \"1.3.132.1.11.3\":\r\n                return {\r\n                    name: \"ECDH\",\r\n                    kdf: \"SHA-512\"\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.2\":\r\n                return {\r\n                    name: \"AES-CBC\",\r\n                    length: 128\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.22\":\r\n                return {\r\n                    name: \"AES-CBC\",\r\n                    length: 192\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.42\":\r\n                return {\r\n                    name: \"AES-CBC\",\r\n                    length: 256\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.6\":\r\n                return {\r\n                    name: \"AES-GCM\",\r\n                    length: 128\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.26\":\r\n                return {\r\n                    name: \"AES-GCM\",\r\n                    length: 192\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.46\":\r\n                return {\r\n                    name: \"AES-GCM\",\r\n                    length: 256\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.4\":\r\n                return {\r\n                    name: \"AES-CFB\",\r\n                    length: 128\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.24\":\r\n                return {\r\n                    name: \"AES-CFB\",\r\n                    length: 192\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.44\":\r\n                return {\r\n                    name: \"AES-CFB\",\r\n                    length: 256\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.5\":\r\n                return {\r\n                    name: \"AES-KW\",\r\n                    length: 128\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.25\":\r\n                return {\r\n                    name: \"AES-KW\",\r\n                    length: 192\r\n                };\r\n            case \"2.16.840.1.101.3.4.1.45\":\r\n                return {\r\n                    name: \"AES-KW\",\r\n                    length: 256\r\n                };\r\n            case \"1.2.840.113549.2.7\":\r\n                return {\r\n                    name: \"HMAC\",\r\n                    hash: {\r\n                        name: \"SHA-1\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.2.9\":\r\n                return {\r\n                    name: \"HMAC\",\r\n                    hash: {\r\n                        name: \"SHA-256\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.2.10\":\r\n                return {\r\n                    name: \"HMAC\",\r\n                    hash: {\r\n                        name: \"SHA-384\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.2.11\":\r\n                return {\r\n                    name: \"HMAC\",\r\n                    hash: {\r\n                        name: \"SHA-512\"\r\n                    }\r\n                };\r\n            case \"1.2.840.113549.1.9.16.3.5\":\r\n                return {\r\n                    name: \"DH\"\r\n                };\r\n            case \"1.3.14.3.2.26\":\r\n                return {\r\n                    name: \"SHA-1\"\r\n                };\r\n            case \"2.16.840.1.101.3.4.2.1\":\r\n                return {\r\n                    name: \"SHA-256\"\r\n                };\r\n            case \"2.16.840.1.101.3.4.2.2\":\r\n                return {\r\n                    name: \"SHA-384\"\r\n                };\r\n            case \"2.16.840.1.101.3.4.2.3\":\r\n                return {\r\n                    name: \"SHA-512\"\r\n                };\r\n            case \"1.2.840.113549.1.5.12\":\r\n                return {\r\n                    name: \"PBKDF2\"\r\n                };\r\n            case \"1.2.840.10045.3.1.7\":\r\n                return {\r\n                    name: \"P-256\"\r\n                };\r\n            case \"1.3.132.0.34\":\r\n                return {\r\n                    name: \"P-384\"\r\n                };\r\n            case \"1.3.132.0.35\":\r\n                return {\r\n                    name: \"P-521\"\r\n                };\r\n        }\r\n        if (safety) {\r\n            throw new Error(`Unsupported algorithm identifier ${target ? `for ${target} ` : EMPTY_STRING}: ${oid}`);\r\n        }\r\n        return {};\r\n    }\r\n    getOIDByAlgorithm(algorithm, safety = false, target) {\r\n        let result = EMPTY_STRING;\r\n        switch (algorithm.name.toUpperCase()) {\r\n            case \"RSAES-PKCS1-V1_5\":\r\n                result = \"1.2.840.113549.1.1.1\";\r\n                break;\r\n            case \"RSASSA-PKCS1-V1_5\":\r\n                switch (algorithm.hash.name.toUpperCase()) {\r\n                    case \"SHA-1\":\r\n                        result = \"1.2.840.113549.1.1.5\";\r\n                        break;\r\n                    case \"SHA-256\":\r\n                        result = \"1.2.840.113549.1.1.11\";\r\n                        break;\r\n                    case \"SHA-384\":\r\n                        result = \"1.2.840.113549.1.1.12\";\r\n                        break;\r\n                    case \"SHA-512\":\r\n                        result = \"1.2.840.113549.1.1.13\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"RSA-PSS\":\r\n                result = \"1.2.840.113549.1.1.10\";\r\n                break;\r\n            case \"RSA-OAEP\":\r\n                result = \"1.2.840.113549.1.1.7\";\r\n                break;\r\n            case \"ECDSA\":\r\n                switch (algorithm.hash.name.toUpperCase()) {\r\n                    case \"SHA-1\":\r\n                        result = \"1.2.840.10045.4.1\";\r\n                        break;\r\n                    case \"SHA-256\":\r\n                        result = \"1.2.840.10045.4.3.2\";\r\n                        break;\r\n                    case \"SHA-384\":\r\n                        result = \"1.2.840.10045.4.3.3\";\r\n                        break;\r\n                    case \"SHA-512\":\r\n                        result = \"1.2.840.10045.4.3.4\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"ECDH\":\r\n                switch (algorithm.kdf.toUpperCase()) {\r\n                    case \"SHA-1\":\r\n                        result = \"1.3.133.16.840.63.0.2\";\r\n                        break;\r\n                    case \"SHA-256\":\r\n                        result = \"1.3.132.1.11.1\";\r\n                        break;\r\n                    case \"SHA-384\":\r\n                        result = \"1.3.132.1.11.2\";\r\n                        break;\r\n                    case \"SHA-512\":\r\n                        result = \"1.3.132.1.11.3\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"AES-CTR\":\r\n                break;\r\n            case \"AES-CBC\":\r\n                switch (algorithm.length) {\r\n                    case 128:\r\n                        result = \"2.16.840.1.101.3.4.1.2\";\r\n                        break;\r\n                    case 192:\r\n                        result = \"2.16.840.1.101.3.4.1.22\";\r\n                        break;\r\n                    case 256:\r\n                        result = \"2.16.840.1.101.3.4.1.42\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"AES-CMAC\":\r\n                break;\r\n            case \"AES-GCM\":\r\n                switch (algorithm.length) {\r\n                    case 128:\r\n                        result = \"2.16.840.1.101.3.4.1.6\";\r\n                        break;\r\n                    case 192:\r\n                        result = \"2.16.840.1.101.3.4.1.26\";\r\n                        break;\r\n                    case 256:\r\n                        result = \"2.16.840.1.101.3.4.1.46\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"AES-CFB\":\r\n                switch (algorithm.length) {\r\n                    case 128:\r\n                        result = \"2.16.840.1.101.3.4.1.4\";\r\n                        break;\r\n                    case 192:\r\n                        result = \"2.16.840.1.101.3.4.1.24\";\r\n                        break;\r\n                    case 256:\r\n                        result = \"2.16.840.1.101.3.4.1.44\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"AES-KW\":\r\n                switch (algorithm.length) {\r\n                    case 128:\r\n                        result = \"2.16.840.1.101.3.4.1.5\";\r\n                        break;\r\n                    case 192:\r\n                        result = \"2.16.840.1.101.3.4.1.25\";\r\n                        break;\r\n                    case 256:\r\n                        result = \"2.16.840.1.101.3.4.1.45\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"HMAC\":\r\n                switch (algorithm.hash.name.toUpperCase()) {\r\n                    case \"SHA-1\":\r\n                        result = \"1.2.840.113549.2.7\";\r\n                        break;\r\n                    case \"SHA-256\":\r\n                        result = \"1.2.840.113549.2.9\";\r\n                        break;\r\n                    case \"SHA-384\":\r\n                        result = \"1.2.840.113549.2.10\";\r\n                        break;\r\n                    case \"SHA-512\":\r\n                        result = \"1.2.840.113549.2.11\";\r\n                        break;\r\n                }\r\n                break;\r\n            case \"DH\":\r\n                result = \"1.2.840.113549.1.9.16.3.5\";\r\n                break;\r\n            case \"SHA-1\":\r\n                result = \"1.3.14.3.2.26\";\r\n                break;\r\n            case \"SHA-256\":\r\n                result = \"2.16.840.1.101.3.4.2.1\";\r\n                break;\r\n            case \"SHA-384\":\r\n                result = \"2.16.840.1.101.3.4.2.2\";\r\n                break;\r\n            case \"SHA-512\":\r\n                result = \"2.16.840.1.101.3.4.2.3\";\r\n                break;\r\n            case \"CONCAT\":\r\n                break;\r\n            case \"HKDF\":\r\n                break;\r\n            case \"PBKDF2\":\r\n                result = \"1.2.840.113549.1.5.12\";\r\n                break;\r\n            case \"P-256\":\r\n                result = \"1.2.840.10045.3.1.7\";\r\n                break;\r\n            case \"P-384\":\r\n                result = \"1.3.132.0.34\";\r\n                break;\r\n            case \"P-521\":\r\n                result = \"1.3.132.0.35\";\r\n                break;\r\n        }\r\n        if (!result && safety) {\r\n            throw new Error(`Unsupported algorithm ${target ? `for ${target} ` : EMPTY_STRING}: ${algorithm.name}`);\r\n        }\r\n        return result;\r\n    }\r\n    getAlgorithmParameters(algorithmName, operation) {\r\n        let result = {\r\n            algorithm: {},\r\n            usages: []\r\n        };\r\n        switch (algorithmName.toUpperCase()) {\r\n            case \"RSAES-PKCS1-V1_5\":\r\n            case \"RSASSA-PKCS1-V1_5\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSASSA-PKCS1-v1_5\",\r\n                                modulusLength: 2048,\r\n                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"verify\":\r\n                    case \"sign\":\r\n                    case \"importkey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSASSA-PKCS1-v1_5\",\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"exportkey\":\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"RSASSA-PKCS1-v1_5\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"RSA-PSS\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"sign\":\r\n                    case \"verify\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-PSS\",\r\n                                hash: {\r\n                                    name: \"SHA-1\"\r\n                                },\r\n                                saltLength: 20\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-PSS\",\r\n                                modulusLength: 2048,\r\n                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n                                hash: {\r\n                                    name: \"SHA-1\"\r\n                                }\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"importkey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-PSS\",\r\n                                hash: {\r\n                                    name: \"SHA-1\"\r\n                                }\r\n                            },\r\n                            usages: [\"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"exportkey\":\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"RSA-PSS\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"RSA-OAEP\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"encrypt\":\r\n                    case \"decrypt\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-OAEP\"\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\"]\r\n                        };\r\n                        break;\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-OAEP\",\r\n                                modulusLength: 2048,\r\n                                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    case \"importkey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"RSA-OAEP\",\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"encrypt\"]\r\n                        };\r\n                        break;\r\n                    case \"exportkey\":\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"RSA-OAEP\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"ECDSA\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"ECDSA\",\r\n                                namedCurve: \"P-256\"\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"importkey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"ECDSA\",\r\n                                namedCurve: \"P-256\"\r\n                            },\r\n                            usages: [\"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"verify\":\r\n                    case \"sign\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"ECDSA\",\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"sign\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"ECDSA\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"ECDH\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"exportkey\":\r\n                    case \"importkey\":\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"ECDH\",\r\n                                namedCurve: \"P-256\"\r\n                            },\r\n                            usages: [\"deriveKey\", \"deriveBits\"]\r\n                        };\r\n                        break;\r\n                    case \"derivekey\":\r\n                    case \"derivebits\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"ECDH\",\r\n                                namedCurve: \"P-256\",\r\n                                public: []\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"ECDH\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"AES-CTR\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"importkey\":\r\n                    case \"exportkey\":\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-CTR\",\r\n                                length: 256\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    case \"decrypt\":\r\n                    case \"encrypt\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-CTR\",\r\n                                counter: new Uint8Array(16),\r\n                                length: 10\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"AES-CTR\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"AES-CBC\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"importkey\":\r\n                    case \"exportkey\":\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-CBC\",\r\n                                length: 256\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    case \"decrypt\":\r\n                    case \"encrypt\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-CBC\",\r\n                                iv: this.getRandomValues(new Uint8Array(16))\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"AES-CBC\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"AES-GCM\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"importkey\":\r\n                    case \"exportkey\":\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-GCM\",\r\n                                length: 256\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    case \"decrypt\":\r\n                    case \"encrypt\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-GCM\",\r\n                                iv: this.getRandomValues(new Uint8Array(16))\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"AES-GCM\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"AES-KW\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"importkey\":\r\n                    case \"exportkey\":\r\n                    case \"generatekey\":\r\n                    case \"wrapkey\":\r\n                    case \"unwrapkey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"AES-KW\",\r\n                                length: 256\r\n                            },\r\n                            usages: [\"wrapKey\", \"unwrapKey\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"AES-KW\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"HMAC\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"sign\":\r\n                    case \"verify\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"HMAC\"\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    case \"importkey\":\r\n                    case \"exportkey\":\r\n                    case \"generatekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"HMAC\",\r\n                                length: 32,\r\n                                hash: {\r\n                                    name: \"SHA-256\"\r\n                                }\r\n                            },\r\n                            usages: [\"sign\", \"verify\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"HMAC\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"HKDF\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"derivekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"HKDF\",\r\n                                hash: \"SHA-256\",\r\n                                salt: new Uint8Array([]),\r\n                                info: new Uint8Array([])\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"HKDF\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n            case \"PBKDF2\":\r\n                switch (operation.toLowerCase()) {\r\n                    case \"derivekey\":\r\n                        result = {\r\n                            algorithm: {\r\n                                name: \"PBKDF2\",\r\n                                hash: { name: \"SHA-256\" },\r\n                                salt: new Uint8Array([]),\r\n                                iterations: 10000\r\n                            },\r\n                            usages: [\"encrypt\", \"decrypt\"]\r\n                        };\r\n                        break;\r\n                    default:\r\n                        return {\r\n                            algorithm: {\r\n                                name: \"PBKDF2\"\r\n                            },\r\n                            usages: []\r\n                        };\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    getHashAlgorithm(signatureAlgorithm) {\r\n        let result = EMPTY_STRING;\r\n        switch (signatureAlgorithm.algorithmId) {\r\n            case \"1.2.840.10045.4.1\":\r\n            case \"1.2.840.113549.1.1.5\":\r\n                result = \"SHA-1\";\r\n                break;\r\n            case \"1.2.840.10045.4.3.2\":\r\n            case \"1.2.840.113549.1.1.11\":\r\n                result = \"SHA-256\";\r\n                break;\r\n            case \"1.2.840.10045.4.3.3\":\r\n            case \"1.2.840.113549.1.1.12\":\r\n                result = \"SHA-384\";\r\n                break;\r\n            case \"1.2.840.10045.4.3.4\":\r\n            case \"1.2.840.113549.1.1.13\":\r\n                result = \"SHA-512\";\r\n                break;\r\n            case \"1.2.840.113549.1.1.10\":\r\n                {\r\n                    try {\r\n                        const params = new RSASSAPSSParams({ schema: signatureAlgorithm.algorithmParams });\r\n                        if (params.hashAlgorithm) {\r\n                            const algorithm = this.getAlgorithmByOID(params.hashAlgorithm.algorithmId);\r\n                            if (\"name\" in algorithm) {\r\n                                result = algorithm.name;\r\n                            }\r\n                            else {\r\n                                return EMPTY_STRING;\r\n                            }\r\n                        }\r\n                        else\r\n                            result = \"SHA-1\";\r\n                    }\r\n                    catch {\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    async encryptEncryptedContentInfo(parameters) {\r\n        ParameterError.assert(parameters, \"password\", \"contentEncryptionAlgorithm\", \"hmacHashAlgorithm\", \"iterationCount\", \"contentToEncrypt\", \"contentToEncrypt\", \"contentType\");\r\n        const contentEncryptionOID = this.getOIDByAlgorithm(parameters.contentEncryptionAlgorithm, true, \"contentEncryptionAlgorithm\");\r\n        const pbkdf2OID = this.getOIDByAlgorithm({\r\n            name: \"PBKDF2\"\r\n        }, true, \"PBKDF2\");\r\n        const hmacOID = this.getOIDByAlgorithm({\r\n            name: \"HMAC\",\r\n            hash: {\r\n                name: parameters.hmacHashAlgorithm\r\n            }\r\n        }, true, \"hmacHashAlgorithm\");\r\n        const ivBuffer = new ArrayBuffer(16);\r\n        const ivView = new Uint8Array(ivBuffer);\r\n        this.getRandomValues(ivView);\r\n        const saltBuffer = new ArrayBuffer(64);\r\n        const saltView = new Uint8Array(saltBuffer);\r\n        this.getRandomValues(saltView);\r\n        const contentView = new Uint8Array(parameters.contentToEncrypt);\r\n        const pbkdf2Params = new PBKDF2Params({\r\n            salt: new asn1js.OctetString({ valueHex: saltBuffer }),\r\n            iterationCount: parameters.iterationCount,\r\n            prf: new AlgorithmIdentifier({\r\n                algorithmId: hmacOID,\r\n                algorithmParams: new asn1js.Null()\r\n            })\r\n        });\r\n        const passwordView = new Uint8Array(parameters.password);\r\n        const pbkdfKey = await this.importKey(\"raw\", passwordView, \"PBKDF2\", false, [\"deriveKey\"]);\r\n        const derivedKey = await this.deriveKey({\r\n            name: \"PBKDF2\",\r\n            hash: {\r\n                name: parameters.hmacHashAlgorithm\r\n            },\r\n            salt: saltView,\r\n            iterations: parameters.iterationCount\r\n        }, pbkdfKey, parameters.contentEncryptionAlgorithm, false, [\"encrypt\"]);\r\n        const encryptedData = await this.encrypt({\r\n            name: parameters.contentEncryptionAlgorithm.name,\r\n            iv: ivView\r\n        }, derivedKey, contentView);\r\n        const pbes2Parameters = new PBES2Params({\r\n            keyDerivationFunc: new AlgorithmIdentifier({\r\n                algorithmId: pbkdf2OID,\r\n                algorithmParams: pbkdf2Params.toSchema()\r\n            }),\r\n            encryptionScheme: new AlgorithmIdentifier({\r\n                algorithmId: contentEncryptionOID,\r\n                algorithmParams: new asn1js.OctetString({ valueHex: ivBuffer })\r\n            })\r\n        });\r\n        return new EncryptedContentInfo({\r\n            contentType: parameters.contentType,\r\n            contentEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                algorithmId: \"1.2.840.113549.1.5.13\",\r\n                algorithmParams: pbes2Parameters.toSchema()\r\n            }),\r\n            encryptedContent: new asn1js.OctetString({ valueHex: encryptedData })\r\n        });\r\n    }\r\n    async decryptEncryptedContentInfo(parameters) {\r\n        ParameterError.assert(parameters, \"password\", \"encryptedContentInfo\");\r\n        if (parameters.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId !== \"1.2.840.113549.1.5.13\")\r\n            throw new Error(`Unknown \"contentEncryptionAlgorithm\": ${parameters.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);\r\n        let pbes2Parameters;\r\n        try {\r\n            pbes2Parameters = new PBES2Params({ schema: parameters.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams });\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Incorrectly encoded \\\"pbes2Parameters\\\"\");\r\n        }\r\n        let pbkdf2Params;\r\n        try {\r\n            pbkdf2Params = new PBKDF2Params({ schema: pbes2Parameters.keyDerivationFunc.algorithmParams });\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Incorrectly encoded \\\"pbkdf2Params\\\"\");\r\n        }\r\n        const contentEncryptionAlgorithm = this.getAlgorithmByOID(pbes2Parameters.encryptionScheme.algorithmId, true);\r\n        const ivBuffer = pbes2Parameters.encryptionScheme.algorithmParams.valueBlock.valueHex;\r\n        const ivView = new Uint8Array(ivBuffer);\r\n        const saltBuffer = pbkdf2Params.salt.valueBlock.valueHex;\r\n        const saltView = new Uint8Array(saltBuffer);\r\n        const iterationCount = pbkdf2Params.iterationCount;\r\n        let hmacHashAlgorithm = \"SHA-1\";\r\n        if (pbkdf2Params.prf) {\r\n            const algorithm = this.getAlgorithmByOID(pbkdf2Params.prf.algorithmId, true);\r\n            hmacHashAlgorithm = algorithm.hash.name;\r\n        }\r\n        const pbkdfKey = await this.importKey(\"raw\", parameters.password, \"PBKDF2\", false, [\"deriveKey\"]);\r\n        const result = await this.deriveKey({\r\n            name: \"PBKDF2\",\r\n            hash: {\r\n                name: hmacHashAlgorithm\r\n            },\r\n            salt: saltView,\r\n            iterations: iterationCount\r\n        }, pbkdfKey, contentEncryptionAlgorithm, false, [\"decrypt\"]);\r\n        const dataBuffer = parameters.encryptedContentInfo.getEncryptedContent();\r\n        return this.decrypt({\r\n            name: contentEncryptionAlgorithm.name,\r\n            iv: ivView\r\n        }, result, dataBuffer);\r\n    }\r\n    async stampDataWithPassword(parameters) {\r\n        if ((parameters instanceof Object) === false)\r\n            throw new Error(\"Parameters must have type \\\"Object\\\"\");\r\n        ParameterError.assert(parameters, \"password\", \"hashAlgorithm\", \"iterationCount\", \"salt\", \"contentToStamp\");\r\n        let length;\r\n        switch (parameters.hashAlgorithm.toLowerCase()) {\r\n            case \"sha-1\":\r\n                length = 160;\r\n                break;\r\n            case \"sha-256\":\r\n                length = 256;\r\n                break;\r\n            case \"sha-384\":\r\n                length = 384;\r\n                break;\r\n            case \"sha-512\":\r\n                length = 512;\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect \"parameters.hashAlgorithm\" parameter: ${parameters.hashAlgorithm}`);\r\n        }\r\n        const hmacAlgorithm = {\r\n            name: \"HMAC\",\r\n            length,\r\n            hash: {\r\n                name: parameters.hashAlgorithm\r\n            }\r\n        };\r\n        const pkcsKey = await makePKCS12B2Key(this, parameters.hashAlgorithm, length, parameters.password, parameters.salt, parameters.iterationCount);\r\n        const hmacKey = await this.importKey(\"raw\", new Uint8Array(pkcsKey), hmacAlgorithm, false, [\"sign\"]);\r\n        return this.sign(hmacAlgorithm, hmacKey, new Uint8Array(parameters.contentToStamp));\r\n    }\r\n    async verifyDataStampedWithPassword(parameters) {\r\n        ParameterError.assert(parameters, \"password\", \"hashAlgorithm\", \"salt\", \"iterationCount\", \"contentToVerify\", \"signatureToVerify\");\r\n        let length = 0;\r\n        switch (parameters.hashAlgorithm.toLowerCase()) {\r\n            case \"sha-1\":\r\n                length = 160;\r\n                break;\r\n            case \"sha-256\":\r\n                length = 256;\r\n                break;\r\n            case \"sha-384\":\r\n                length = 384;\r\n                break;\r\n            case \"sha-512\":\r\n                length = 512;\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect \"parameters.hashAlgorithm\" parameter: ${parameters.hashAlgorithm}`);\r\n        }\r\n        const hmacAlgorithm = {\r\n            name: \"HMAC\",\r\n            length,\r\n            hash: {\r\n                name: parameters.hashAlgorithm\r\n            }\r\n        };\r\n        const pkcsKey = await makePKCS12B2Key(this, parameters.hashAlgorithm, length, parameters.password, parameters.salt, parameters.iterationCount);\r\n        const hmacKey = await this.importKey(\"raw\", new Uint8Array(pkcsKey), hmacAlgorithm, false, [\"verify\"]);\r\n        return this.verify(hmacAlgorithm, hmacKey, new Uint8Array(parameters.signatureToVerify), new Uint8Array(parameters.contentToVerify));\r\n    }\r\n    async getSignatureParameters(privateKey, hashAlgorithm = \"SHA-1\") {\r\n        this.getOIDByAlgorithm({ name: hashAlgorithm }, true, \"hashAlgorithm\");\r\n        const signatureAlgorithm = new AlgorithmIdentifier();\r\n        const parameters = this.getAlgorithmParameters(privateKey.algorithm.name, \"sign\");\r\n        if (!Object.keys(parameters.algorithm).length) {\r\n            throw new Error(\"Parameter 'algorithm' is empty\");\r\n        }\r\n        const algorithm = parameters.algorithm;\r\n        algorithm.hash.name = hashAlgorithm;\r\n        switch (privateKey.algorithm.name.toUpperCase()) {\r\n            case \"RSASSA-PKCS1-V1_5\":\r\n            case \"ECDSA\":\r\n                signatureAlgorithm.algorithmId = this.getOIDByAlgorithm(algorithm, true);\r\n                break;\r\n            case \"RSA-PSS\":\r\n                {\r\n                    switch (hashAlgorithm.toUpperCase()) {\r\n                        case \"SHA-256\":\r\n                            algorithm.saltLength = 32;\r\n                            break;\r\n                        case \"SHA-384\":\r\n                            algorithm.saltLength = 48;\r\n                            break;\r\n                        case \"SHA-512\":\r\n                            algorithm.saltLength = 64;\r\n                            break;\r\n                    }\r\n                    const paramsObject = {};\r\n                    if (hashAlgorithm.toUpperCase() !== \"SHA-1\") {\r\n                        const hashAlgorithmOID = this.getOIDByAlgorithm({ name: hashAlgorithm }, true, \"hashAlgorithm\");\r\n                        paramsObject.hashAlgorithm = new AlgorithmIdentifier({\r\n                            algorithmId: hashAlgorithmOID,\r\n                            algorithmParams: new asn1js.Null()\r\n                        });\r\n                        paramsObject.maskGenAlgorithm = new AlgorithmIdentifier({\r\n                            algorithmId: \"1.2.840.113549.1.1.8\",\r\n                            algorithmParams: paramsObject.hashAlgorithm.toSchema()\r\n                        });\r\n                    }\r\n                    if (algorithm.saltLength !== 20)\r\n                        paramsObject.saltLength = algorithm.saltLength;\r\n                    const pssParameters = new RSASSAPSSParams(paramsObject);\r\n                    signatureAlgorithm.algorithmId = \"1.2.840.113549.1.1.10\";\r\n                    signatureAlgorithm.algorithmParams = pssParameters.toSchema();\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Unsupported signature algorithm: ${privateKey.algorithm.name}`);\r\n        }\r\n        return {\r\n            signatureAlgorithm,\r\n            parameters\r\n        };\r\n    }\r\n    async signWithPrivateKey(data, privateKey, parameters) {\r\n        const signature = await this.sign(parameters.algorithm, privateKey, data);\r\n        if (parameters.algorithm.name === \"ECDSA\") {\r\n            return createCMSECDSASignature(signature);\r\n        }\r\n        return signature;\r\n    }\r\n    fillPublicKeyParameters(publicKeyInfo, signatureAlgorithm) {\r\n        const parameters = {};\r\n        const shaAlgorithm = this.getHashAlgorithm(signatureAlgorithm);\r\n        if (shaAlgorithm === EMPTY_STRING)\r\n            throw new Error(`Unsupported signature algorithm: ${signatureAlgorithm.algorithmId}`);\r\n        let algorithmId;\r\n        if (signatureAlgorithm.algorithmId === \"1.2.840.113549.1.1.10\")\r\n            algorithmId = signatureAlgorithm.algorithmId;\r\n        else\r\n            algorithmId = publicKeyInfo.algorithm.algorithmId;\r\n        const algorithmObject = this.getAlgorithmByOID(algorithmId, true);\r\n        parameters.algorithm = this.getAlgorithmParameters(algorithmObject.name, \"importKey\");\r\n        if (\"hash\" in parameters.algorithm.algorithm)\r\n            parameters.algorithm.algorithm.hash.name = shaAlgorithm;\r\n        if (algorithmObject.name === \"ECDSA\") {\r\n            const publicKeyAlgorithm = publicKeyInfo.algorithm;\r\n            if (!publicKeyAlgorithm.algorithmParams) {\r\n                throw new Error(\"Algorithm parameters for ECDSA public key are missed\");\r\n            }\r\n            const publicKeyAlgorithmParams = publicKeyAlgorithm.algorithmParams;\r\n            if (\"idBlock\" in publicKeyAlgorithm.algorithmParams) {\r\n                if (!((publicKeyAlgorithmParams.idBlock.tagClass === 1) && (publicKeyAlgorithmParams.idBlock.tagNumber === 6))) {\r\n                    throw new Error(\"Incorrect type for ECDSA public key parameters\");\r\n                }\r\n            }\r\n            const curveObject = this.getAlgorithmByOID(publicKeyAlgorithmParams.valueBlock.toString(), true);\r\n            parameters.algorithm.algorithm.namedCurve = curveObject.name;\r\n        }\r\n        return parameters;\r\n    }\r\n    async getPublicKey(publicKeyInfo, signatureAlgorithm, parameters) {\r\n        if (!parameters) {\r\n            parameters = this.fillPublicKeyParameters(publicKeyInfo, signatureAlgorithm);\r\n        }\r\n        const publicKeyInfoBuffer = publicKeyInfo.toSchema().toBER(false);\r\n        return this.importKey(\"spki\", publicKeyInfoBuffer, parameters.algorithm.algorithm, true, parameters.algorithm.usages);\r\n    }\r\n    async verifyWithPublicKey(data, signature, publicKeyInfo, signatureAlgorithm, shaAlgorithm) {\r\n        let publicKey;\r\n        if (!shaAlgorithm) {\r\n            shaAlgorithm = this.getHashAlgorithm(signatureAlgorithm);\r\n            if (!shaAlgorithm)\r\n                throw new Error(`Unsupported signature algorithm: ${signatureAlgorithm.algorithmId}`);\r\n            publicKey = await this.getPublicKey(publicKeyInfo, signatureAlgorithm);\r\n        }\r\n        else {\r\n            const parameters = {};\r\n            let algorithmId;\r\n            if (signatureAlgorithm.algorithmId === \"1.2.840.113549.1.1.10\")\r\n                algorithmId = signatureAlgorithm.algorithmId;\r\n            else\r\n                algorithmId = publicKeyInfo.algorithm.algorithmId;\r\n            const algorithmObject = this.getAlgorithmByOID(algorithmId, true);\r\n            parameters.algorithm = this.getAlgorithmParameters(algorithmObject.name, \"importKey\");\r\n            if (\"hash\" in parameters.algorithm.algorithm)\r\n                parameters.algorithm.algorithm.hash.name = shaAlgorithm;\r\n            if (algorithmObject.name === \"ECDSA\") {\r\n                let algorithmParamsChecked = false;\r\n                if ((\"algorithmParams\" in publicKeyInfo.algorithm) === true) {\r\n                    if (\"idBlock\" in publicKeyInfo.algorithm.algorithmParams) {\r\n                        if ((publicKeyInfo.algorithm.algorithmParams.idBlock.tagClass === 1) && (publicKeyInfo.algorithm.algorithmParams.idBlock.tagNumber === 6))\r\n                            algorithmParamsChecked = true;\r\n                    }\r\n                }\r\n                if (algorithmParamsChecked === false) {\r\n                    throw new Error(\"Incorrect type for ECDSA public key parameters\");\r\n                }\r\n                const curveObject = this.getAlgorithmByOID(publicKeyInfo.algorithm.algorithmParams.valueBlock.toString(), true);\r\n                parameters.algorithm.algorithm.namedCurve = curveObject.name;\r\n            }\r\n            publicKey = await this.getPublicKey(publicKeyInfo, null, parameters);\r\n        }\r\n        const algorithm = this.getAlgorithmParameters(publicKey.algorithm.name, \"verify\");\r\n        if (\"hash\" in algorithm.algorithm)\r\n            algorithm.algorithm.hash.name = shaAlgorithm;\r\n        let signatureValue = signature.valueBlock.valueHexView;\r\n        if (publicKey.algorithm.name === \"ECDSA\") {\r\n            const namedCurve = ECNamedCurves.find(publicKey.algorithm.namedCurve);\r\n            if (!namedCurve) {\r\n                throw new Error(\"Unsupported named curve in use\");\r\n            }\r\n            const asn1 = asn1js.fromBER(signatureValue);\r\n            AsnError.assert(asn1, \"Signature value\");\r\n            signatureValue = createECDSASignatureFromCMS(asn1.result, namedCurve.size);\r\n        }\r\n        if (publicKey.algorithm.name === \"RSA-PSS\") {\r\n            const pssParameters = new RSASSAPSSParams({ schema: signatureAlgorithm.algorithmParams });\r\n            if (\"saltLength\" in pssParameters)\r\n                algorithm.algorithm.saltLength = pssParameters.saltLength;\r\n            else\r\n                algorithm.algorithm.saltLength = 20;\r\n            let hashAlgo = \"SHA-1\";\r\n            if (\"hashAlgorithm\" in pssParameters) {\r\n                const hashAlgorithm = this.getAlgorithmByOID(pssParameters.hashAlgorithm.algorithmId, true);\r\n                hashAlgo = hashAlgorithm.name;\r\n            }\r\n            algorithm.algorithm.hash.name = hashAlgo;\r\n        }\r\n        return this.verify(algorithm.algorithm, publicKey, signatureValue, data);\r\n    }\r\n}\n\nlet engine = {\r\n    name: \"none\",\r\n    crypto: null,\r\n};\r\nfunction isCryptoEngine(engine) {\r\n    return engine\r\n        && typeof engine === \"object\"\r\n        && \"crypto\" in engine\r\n        ? true\r\n        : false;\r\n}\r\nfunction setEngine(name, ...args) {\r\n    let crypto = null;\r\n    if (args.length === 1) {\r\n        crypto = args[0];\r\n    }\r\n    else {\r\n        const cryptoArg = args[0];\r\n        const subtleArg = args[1];\r\n        if (isCryptoEngine(subtleArg)) {\r\n            crypto = subtleArg;\r\n        }\r\n        if (isCryptoEngine(cryptoArg)) {\r\n            crypto = cryptoArg;\r\n        }\r\n        if (\"subtle\" in cryptoArg && \"getRandomValues\" in cryptoArg) {\r\n            crypto = new CryptoEngine({\r\n                crypto: cryptoArg,\r\n            });\r\n        }\r\n    }\r\n    if ((typeof process !== \"undefined\") && (\"pid\" in process) && (typeof global !== \"undefined\") && (typeof window === \"undefined\")) {\r\n        if (typeof global[process.pid] === \"undefined\") {\r\n            global[process.pid] = {};\r\n        }\r\n        else {\r\n            if (typeof global[process.pid] !== \"object\") {\r\n                throw new Error(`Name global.${process.pid} already exists and it is not an object`);\r\n            }\r\n        }\r\n        if (typeof global[process.pid].pkijs === \"undefined\") {\r\n            global[process.pid].pkijs = {};\r\n        }\r\n        else {\r\n            if (typeof global[process.pid].pkijs !== \"object\") {\r\n                throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);\r\n            }\r\n        }\r\n        global[process.pid].pkijs.engine = {\r\n            name: name,\r\n            crypto,\r\n        };\r\n    }\r\n    else {\r\n        if (engine.name !== name) {\r\n            engine = {\r\n                name: name,\r\n                crypto,\r\n            };\r\n        }\r\n    }\r\n}\r\nfunction getEngine() {\r\n    if ((typeof process !== \"undefined\") && (\"pid\" in process) && (typeof global !== \"undefined\") && (typeof window === \"undefined\")) {\r\n        let _engine;\r\n        try {\r\n            _engine = global[process.pid].pkijs.engine;\r\n        }\r\n        catch (ex) {\r\n            throw new Error(\"Please call 'setEngine' before call to 'getEngine'\");\r\n        }\r\n        return _engine;\r\n    }\r\n    return engine;\r\n}\r\nfunction getCrypto(safety = false) {\r\n    const _engine = getEngine();\r\n    if (!_engine.crypto && safety) {\r\n        throw new Error(\"Unable to create WebCrypto object\");\r\n    }\r\n    return _engine.crypto;\r\n}\r\nfunction getRandomValues(view) {\r\n    return getCrypto(true).getRandomValues(view);\r\n}\r\nfunction getOIDByAlgorithm(algorithm, safety, target) {\r\n    return getCrypto(true).getOIDByAlgorithm(algorithm, safety, target);\r\n}\r\nfunction getAlgorithmParameters(algorithmName, operation) {\r\n    return getCrypto(true).getAlgorithmParameters(algorithmName, operation);\r\n}\r\nfunction createCMSECDSASignature(signatureBuffer) {\r\n    if ((signatureBuffer.byteLength % 2) !== 0)\r\n        return EMPTY_BUFFER;\r\n    const length = signatureBuffer.byteLength / 2;\r\n    const rBuffer = new ArrayBuffer(length);\r\n    const rView = new Uint8Array(rBuffer);\r\n    rView.set(new Uint8Array(signatureBuffer, 0, length));\r\n    const rInteger = new asn1js.Integer({ valueHex: rBuffer });\r\n    const sBuffer = new ArrayBuffer(length);\r\n    const sView = new Uint8Array(sBuffer);\r\n    sView.set(new Uint8Array(signatureBuffer, length, length));\r\n    const sInteger = new asn1js.Integer({ valueHex: sBuffer });\r\n    return (new asn1js.Sequence({\r\n        value: [\r\n            rInteger.convertToDER(),\r\n            sInteger.convertToDER()\r\n        ]\r\n    })).toBER(false);\r\n}\r\nfunction createECDSASignatureFromCMS(cmsSignature, pointSize) {\r\n    if (!(cmsSignature instanceof asn1js.Sequence\r\n        && cmsSignature.valueBlock.value.length === 2\r\n        && cmsSignature.valueBlock.value[0] instanceof asn1js.Integer\r\n        && cmsSignature.valueBlock.value[1] instanceof asn1js.Integer))\r\n        return EMPTY_BUFFER;\r\n    const rValueView = cmsSignature.valueBlock.value[0].convertFromDER().valueBlock.valueHexView;\r\n    const sValueView = cmsSignature.valueBlock.value[1].convertFromDER().valueBlock.valueHexView;\r\n    const res = new Uint8Array(pointSize * 2);\r\n    res.set(rValueView, pointSize - rValueView.byteLength);\r\n    res.set(sValueView, (2 * pointSize) - sValueView.byteLength);\r\n    return res.buffer;\r\n}\r\nfunction getAlgorithmByOID(oid, safety = false, target) {\r\n    return getCrypto(true).getAlgorithmByOID(oid, safety, target);\r\n}\r\nfunction getHashAlgorithm(signatureAlgorithm) {\r\n    return getCrypto(true).getHashAlgorithm(signatureAlgorithm);\r\n}\r\nasync function kdfWithCounter(hashFunction, zBuffer, Counter, SharedInfo, crypto) {\r\n    switch (hashFunction.toUpperCase()) {\r\n        case \"SHA-1\":\r\n        case \"SHA-256\":\r\n        case \"SHA-384\":\r\n        case \"SHA-512\":\r\n            break;\r\n        default:\r\n            throw new ArgumentError(`Unknown hash function: ${hashFunction}`);\r\n    }\r\n    ArgumentError.assert(zBuffer, \"zBuffer\", \"ArrayBuffer\");\r\n    if (zBuffer.byteLength === 0)\r\n        throw new ArgumentError(\"'zBuffer' has zero length, error\");\r\n    ArgumentError.assert(SharedInfo, \"SharedInfo\", \"ArrayBuffer\");\r\n    if (Counter > 255)\r\n        throw new ArgumentError(\"Please set 'Counter' argument to value less or equal to 255\");\r\n    const counterBuffer = new ArrayBuffer(4);\r\n    const counterView = new Uint8Array(counterBuffer);\r\n    counterView[0] = 0x00;\r\n    counterView[1] = 0x00;\r\n    counterView[2] = 0x00;\r\n    counterView[3] = Counter;\r\n    let combinedBuffer = EMPTY_BUFFER;\r\n    combinedBuffer = pvutils.utilConcatBuf(combinedBuffer, zBuffer);\r\n    combinedBuffer = pvutils.utilConcatBuf(combinedBuffer, counterBuffer);\r\n    combinedBuffer = pvutils.utilConcatBuf(combinedBuffer, SharedInfo);\r\n    const result = await crypto.digest({ name: hashFunction }, combinedBuffer);\r\n    return {\r\n        counter: Counter,\r\n        result\r\n    };\r\n}\r\nasync function kdf(hashFunction, Zbuffer, keydatalen, SharedInfo, crypto = getCrypto(true)) {\r\n    let hashLength = 0;\r\n    let maxCounter = 1;\r\n    switch (hashFunction.toUpperCase()) {\r\n        case \"SHA-1\":\r\n            hashLength = 160;\r\n            break;\r\n        case \"SHA-256\":\r\n            hashLength = 256;\r\n            break;\r\n        case \"SHA-384\":\r\n            hashLength = 384;\r\n            break;\r\n        case \"SHA-512\":\r\n            hashLength = 512;\r\n            break;\r\n        default:\r\n            throw new ArgumentError(`Unknown hash function: ${hashFunction}`);\r\n    }\r\n    ArgumentError.assert(Zbuffer, \"Zbuffer\", \"ArrayBuffer\");\r\n    if (Zbuffer.byteLength === 0)\r\n        throw new ArgumentError(\"'Zbuffer' has zero length, error\");\r\n    ArgumentError.assert(SharedInfo, \"SharedInfo\", \"ArrayBuffer\");\r\n    const quotient = keydatalen / hashLength;\r\n    if (Math.floor(quotient) > 0) {\r\n        maxCounter = Math.floor(quotient);\r\n        if ((quotient - maxCounter) > 0)\r\n            maxCounter++;\r\n    }\r\n    const incomingResult = [];\r\n    for (let i = 1; i <= maxCounter; i++)\r\n        incomingResult.push(await kdfWithCounter(hashFunction, Zbuffer, i, SharedInfo, crypto));\r\n    let combinedBuffer = EMPTY_BUFFER;\r\n    let currentCounter = 1;\r\n    let found = true;\r\n    while (found) {\r\n        found = false;\r\n        for (const result of incomingResult) {\r\n            if (result.counter === currentCounter) {\r\n                combinedBuffer = pvutils.utilConcatBuf(combinedBuffer, result.result);\r\n                found = true;\r\n                break;\r\n            }\r\n        }\r\n        currentCounter++;\r\n    }\r\n    keydatalen >>= 3;\r\n    if (combinedBuffer.byteLength > keydatalen) {\r\n        const newBuffer = new ArrayBuffer(keydatalen);\r\n        const newView = new Uint8Array(newBuffer);\r\n        const combinedView = new Uint8Array(combinedBuffer);\r\n        for (let i = 0; i < keydatalen; i++)\r\n            newView[i] = combinedView[i];\r\n        return newBuffer;\r\n    }\r\n    return combinedBuffer;\r\n}\n\nconst VERSION$i = \"version\";\r\nconst LOG_ID = \"logID\";\r\nconst EXTENSIONS$6 = \"extensions\";\r\nconst TIMESTAMP = \"timestamp\";\r\nconst HASH_ALGORITHM$3 = \"hashAlgorithm\";\r\nconst SIGNATURE_ALGORITHM$8 = \"signatureAlgorithm\";\r\nconst SIGNATURE$7 = \"signature\";\r\nconst NONE = \"none\";\r\nconst MD5 = \"md5\";\r\nconst SHA1 = \"sha1\";\r\nconst SHA224 = \"sha224\";\r\nconst SHA256 = \"sha256\";\r\nconst SHA384 = \"sha384\";\r\nconst SHA512 = \"sha512\";\r\nconst ANONYMOUS = \"anonymous\";\r\nconst RSA = \"rsa\";\r\nconst DSA = \"dsa\";\r\nconst ECDSA = \"ecdsa\";\r\nclass SignedCertificateTimestamp extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$i, SignedCertificateTimestamp.defaultValues(VERSION$i));\r\n        this.logID = pvutils.getParametersValue(parameters, LOG_ID, SignedCertificateTimestamp.defaultValues(LOG_ID));\r\n        this.timestamp = pvutils.getParametersValue(parameters, TIMESTAMP, SignedCertificateTimestamp.defaultValues(TIMESTAMP));\r\n        this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$6, SignedCertificateTimestamp.defaultValues(EXTENSIONS$6));\r\n        this.hashAlgorithm = pvutils.getParametersValue(parameters, HASH_ALGORITHM$3, SignedCertificateTimestamp.defaultValues(HASH_ALGORITHM$3));\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$8, SignedCertificateTimestamp.defaultValues(SIGNATURE_ALGORITHM$8));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$7, SignedCertificateTimestamp.defaultValues(SIGNATURE$7));\r\n        if (\"stream\" in parameters && parameters.stream) {\r\n            this.fromStream(parameters.stream);\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$i:\r\n                return 0;\r\n            case LOG_ID:\r\n            case EXTENSIONS$6:\r\n                return EMPTY_BUFFER;\r\n            case TIMESTAMP:\r\n                return new Date(0);\r\n            case HASH_ALGORITHM$3:\r\n            case SIGNATURE_ALGORITHM$8:\r\n                return EMPTY_STRING;\r\n            case SIGNATURE$7:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    fromSchema(schema) {\r\n        if ((schema instanceof asn1js.RawData) === false)\r\n            throw new Error(\"Object's schema was not verified against input data for SignedCertificateTimestamp\");\r\n        const seqStream = new bs.SeqStream({\r\n            stream: new bs.ByteStream({\r\n                buffer: schema.data\r\n            })\r\n        });\r\n        this.fromStream(seqStream);\r\n    }\r\n    fromStream(stream) {\r\n        const blockLength = stream.getUint16();\r\n        this.version = (stream.getBlock(1))[0];\r\n        if (this.version === 0) {\r\n            this.logID = (new Uint8Array(stream.getBlock(32))).buffer.slice(0);\r\n            this.timestamp = new Date(pvutils.utilFromBase(new Uint8Array(stream.getBlock(8)), 8));\r\n            const extensionsLength = stream.getUint16();\r\n            this.extensions = (new Uint8Array(stream.getBlock(extensionsLength))).buffer.slice(0);\r\n            switch ((stream.getBlock(1))[0]) {\r\n                case 0:\r\n                    this.hashAlgorithm = NONE;\r\n                    break;\r\n                case 1:\r\n                    this.hashAlgorithm = MD5;\r\n                    break;\r\n                case 2:\r\n                    this.hashAlgorithm = SHA1;\r\n                    break;\r\n                case 3:\r\n                    this.hashAlgorithm = SHA224;\r\n                    break;\r\n                case 4:\r\n                    this.hashAlgorithm = SHA256;\r\n                    break;\r\n                case 5:\r\n                    this.hashAlgorithm = SHA384;\r\n                    break;\r\n                case 6:\r\n                    this.hashAlgorithm = SHA512;\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Object's stream was not correct for SignedCertificateTimestamp\");\r\n            }\r\n            switch ((stream.getBlock(1))[0]) {\r\n                case 0:\r\n                    this.signatureAlgorithm = ANONYMOUS;\r\n                    break;\r\n                case 1:\r\n                    this.signatureAlgorithm = RSA;\r\n                    break;\r\n                case 2:\r\n                    this.signatureAlgorithm = DSA;\r\n                    break;\r\n                case 3:\r\n                    this.signatureAlgorithm = ECDSA;\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Object's stream was not correct for SignedCertificateTimestamp\");\r\n            }\r\n            const signatureLength = stream.getUint16();\r\n            const signatureData = new Uint8Array(stream.getBlock(signatureLength)).buffer.slice(0);\r\n            const asn1 = asn1js.fromBER(signatureData);\r\n            AsnError.assert(asn1, \"SignedCertificateTimestamp\");\r\n            this.signature = asn1.result;\r\n            if (blockLength !== (47 + extensionsLength + signatureLength)) {\r\n                throw new Error(\"Object's stream was not correct for SignedCertificateTimestamp\");\r\n            }\r\n        }\r\n    }\r\n    toSchema() {\r\n        const stream = this.toStream();\r\n        return new asn1js.RawData({ data: stream.stream.buffer });\r\n    }\r\n    toStream() {\r\n        const stream = new bs.SeqStream();\r\n        stream.appendUint16(47 + this.extensions.byteLength + this.signature.valueBeforeDecodeView.byteLength);\r\n        stream.appendChar(this.version);\r\n        stream.appendView(new Uint8Array(this.logID));\r\n        const timeBuffer = new ArrayBuffer(8);\r\n        const timeView = new Uint8Array(timeBuffer);\r\n        const baseArray = pvutils.utilToBase(this.timestamp.valueOf(), 8);\r\n        timeView.set(new Uint8Array(baseArray), 8 - baseArray.byteLength);\r\n        stream.appendView(timeView);\r\n        stream.appendUint16(this.extensions.byteLength);\r\n        if (this.extensions.byteLength)\r\n            stream.appendView(new Uint8Array(this.extensions));\r\n        let _hashAlgorithm;\r\n        switch (this.hashAlgorithm.toLowerCase()) {\r\n            case NONE:\r\n                _hashAlgorithm = 0;\r\n                break;\r\n            case MD5:\r\n                _hashAlgorithm = 1;\r\n                break;\r\n            case SHA1:\r\n                _hashAlgorithm = 2;\r\n                break;\r\n            case SHA224:\r\n                _hashAlgorithm = 3;\r\n                break;\r\n            case SHA256:\r\n                _hashAlgorithm = 4;\r\n                break;\r\n            case SHA384:\r\n                _hashAlgorithm = 5;\r\n                break;\r\n            case SHA512:\r\n                _hashAlgorithm = 6;\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`);\r\n        }\r\n        stream.appendChar(_hashAlgorithm);\r\n        let _signatureAlgorithm;\r\n        switch (this.signatureAlgorithm.toLowerCase()) {\r\n            case ANONYMOUS:\r\n                _signatureAlgorithm = 0;\r\n                break;\r\n            case RSA:\r\n                _signatureAlgorithm = 1;\r\n                break;\r\n            case DSA:\r\n                _signatureAlgorithm = 2;\r\n                break;\r\n            case ECDSA:\r\n                _signatureAlgorithm = 3;\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`);\r\n        }\r\n        stream.appendChar(_signatureAlgorithm);\r\n        const _signature = this.signature.toBER(false);\r\n        stream.appendUint16(_signature.byteLength);\r\n        stream.appendView(new Uint8Array(_signature));\r\n        return stream;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            version: this.version,\r\n            logID: pvutils.bufferToHexCodes(this.logID),\r\n            timestamp: this.timestamp,\r\n            extensions: pvutils.bufferToHexCodes(this.extensions),\r\n            hashAlgorithm: this.hashAlgorithm,\r\n            signatureAlgorithm: this.signatureAlgorithm,\r\n            signature: this.signature.toJSON()\r\n        };\r\n    }\r\n    async verify(logs, data, dataType = 0, crypto = getCrypto(true)) {\r\n        const logId = pvutils.toBase64(pvutils.arrayBufferToString(this.logID));\r\n        let publicKeyBase64 = null;\r\n        const stream = new bs.SeqStream();\r\n        for (const log of logs) {\r\n            if (log.log_id === logId) {\r\n                publicKeyBase64 = log.key;\r\n                break;\r\n            }\r\n        }\r\n        if (!publicKeyBase64) {\r\n            throw new Error(`Public key not found for CT with logId: ${logId}`);\r\n        }\r\n        const pki = pvutils.stringToArrayBuffer(pvutils.fromBase64(publicKeyBase64));\r\n        const publicKeyInfo = PublicKeyInfo.fromBER(pki);\r\n        stream.appendChar(0x00);\r\n        stream.appendChar(0x00);\r\n        const timeBuffer = new ArrayBuffer(8);\r\n        const timeView = new Uint8Array(timeBuffer);\r\n        const baseArray = pvutils.utilToBase(this.timestamp.valueOf(), 8);\r\n        timeView.set(new Uint8Array(baseArray), 8 - baseArray.byteLength);\r\n        stream.appendView(timeView);\r\n        stream.appendUint16(dataType);\r\n        if (dataType === 0)\r\n            stream.appendUint24(data.byteLength);\r\n        stream.appendView(new Uint8Array(data));\r\n        stream.appendUint16(this.extensions.byteLength);\r\n        if (this.extensions.byteLength !== 0)\r\n            stream.appendView(new Uint8Array(this.extensions));\r\n        return crypto.verifyWithPublicKey(stream.buffer.slice(0, stream.length), { valueBlock: { valueHex: this.signature.toBER(false) } }, publicKeyInfo, { algorithmId: EMPTY_STRING }, \"SHA-256\");\r\n    }\r\n}\r\nSignedCertificateTimestamp.CLASS_NAME = \"SignedCertificateTimestamp\";\r\nasync function verifySCTsForCertificate(certificate, issuerCertificate, logs, index = (-1), crypto = getCrypto(true)) {\r\n    let parsedValue = null;\r\n    const stream = new bs.SeqStream();\r\n    for (let i = 0; certificate.extensions && i < certificate.extensions.length; i++) {\r\n        switch (certificate.extensions[i].extnID) {\r\n            case id_SignedCertificateTimestampList:\r\n                {\r\n                    parsedValue = certificate.extensions[i].parsedValue;\r\n                    if (!parsedValue || parsedValue.timestamps.length === 0)\r\n                        throw new Error(\"Nothing to verify in the certificate\");\r\n                    certificate.extensions.splice(i, 1);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    if (parsedValue === null)\r\n        throw new Error(\"No SignedCertificateTimestampList extension in the specified certificate\");\r\n    const tbs = certificate.encodeTBS().toBER();\r\n    const issuerId = await crypto.digest({ name: \"SHA-256\" }, new Uint8Array(issuerCertificate.subjectPublicKeyInfo.toSchema().toBER(false)));\r\n    stream.appendView(new Uint8Array(issuerId));\r\n    stream.appendUint24(tbs.byteLength);\r\n    stream.appendView(new Uint8Array(tbs));\r\n    const preCert = stream.stream.slice(0, stream.length);\r\n    if (index === (-1)) {\r\n        const verifyArray = [];\r\n        for (const timestamp of parsedValue.timestamps) {\r\n            const verifyResult = await timestamp.verify(logs, preCert.buffer, 1, crypto);\r\n            verifyArray.push(verifyResult);\r\n        }\r\n        return verifyArray;\r\n    }\r\n    if (index >= parsedValue.timestamps.length)\r\n        index = (parsedValue.timestamps.length - 1);\r\n    return [await parsedValue.timestamps[index].verify(logs, preCert.buffer, 1, crypto)];\r\n}\n\nconst TIMESTAMPS = \"timestamps\";\r\nclass SignedCertificateTimestampList extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.timestamps = pvutils.getParametersValue(parameters, TIMESTAMPS, SignedCertificateTimestampList.defaultValues(TIMESTAMPS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TIMESTAMPS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TIMESTAMPS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        var _a;\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        (_a = names.optional) !== null && _a !== void 0 ? _a : (names.optional = false);\r\n        return (new asn1js.OctetString({\r\n            name: (names.blockName || \"SignedCertificateTimestampList\"),\r\n            optional: names.optional\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        if ((schema instanceof asn1js.OctetString) === false) {\r\n            throw new Error(\"Object's schema was not verified against input data for SignedCertificateTimestampList\");\r\n        }\r\n        const seqStream = new bs.SeqStream({\r\n            stream: new bs.ByteStream({\r\n                buffer: schema.valueBlock.valueHex\r\n            })\r\n        });\r\n        const dataLength = seqStream.getUint16();\r\n        if (dataLength !== seqStream.length) {\r\n            throw new Error(\"Object's schema was not verified against input data for SignedCertificateTimestampList\");\r\n        }\r\n        while (seqStream.length) {\r\n            this.timestamps.push(new SignedCertificateTimestamp({ stream: seqStream }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const stream = new bs.SeqStream();\r\n        let overallLength = 0;\r\n        const timestampsData = [];\r\n        for (const timestamp of this.timestamps) {\r\n            const timestampStream = timestamp.toStream();\r\n            timestampsData.push(timestampStream);\r\n            overallLength += timestampStream.stream.buffer.byteLength;\r\n        }\r\n        stream.appendUint16(overallLength);\r\n        for (const timestamp of timestampsData) {\r\n            stream.appendView(timestamp.stream.view);\r\n        }\r\n        return new asn1js.OctetString({ valueHex: stream.stream.buffer.slice(0) });\r\n    }\r\n    toJSON() {\r\n        return {\r\n            timestamps: Array.from(this.timestamps, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nSignedCertificateTimestampList.CLASS_NAME = \"SignedCertificateTimestampList\";\n\nconst ATTRIBUTES$4 = \"attributes\";\r\nconst CLEAR_PROPS$11 = [\r\n    ATTRIBUTES$4\r\n];\r\nclass SubjectDirectoryAttributes extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES$4, SubjectDirectoryAttributes.defaultValues(ATTRIBUTES$4));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ATTRIBUTES$4:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.attributes || EMPTY_STRING),\r\n                    value: Attribute.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$11);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SubjectDirectoryAttributes.schema({\r\n            names: {\r\n                attributes: ATTRIBUTES$4\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.attributes = Array.from(asn1.result.attributes, element => new Attribute({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.attributes, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            attributes: Array.from(this.attributes, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nSubjectDirectoryAttributes.CLASS_NAME = \"SubjectDirectoryAttributes\";\n\nclass ExtensionValueFactory {\r\n    static getItems() {\r\n        if (!this.types) {\r\n            this.types = {};\r\n            ExtensionValueFactory.register(id_SubjectAltName, \"SubjectAltName\", AltName);\r\n            ExtensionValueFactory.register(id_IssuerAltName, \"IssuerAltName\", AltName);\r\n            ExtensionValueFactory.register(id_AuthorityKeyIdentifier, \"AuthorityKeyIdentifier\", AuthorityKeyIdentifier);\r\n            ExtensionValueFactory.register(id_BasicConstraints, \"BasicConstraints\", BasicConstraints);\r\n            ExtensionValueFactory.register(id_MicrosoftCaVersion, \"MicrosoftCaVersion\", CAVersion);\r\n            ExtensionValueFactory.register(id_CertificatePolicies, \"CertificatePolicies\", CertificatePolicies);\r\n            ExtensionValueFactory.register(id_MicrosoftAppPolicies, \"CertificatePoliciesMicrosoft\", CertificatePolicies);\r\n            ExtensionValueFactory.register(id_MicrosoftCertTemplateV2, \"MicrosoftCertTemplateV2\", CertificateTemplate);\r\n            ExtensionValueFactory.register(id_CRLDistributionPoints, \"CRLDistributionPoints\", CRLDistributionPoints);\r\n            ExtensionValueFactory.register(id_FreshestCRL, \"FreshestCRL\", CRLDistributionPoints);\r\n            ExtensionValueFactory.register(id_ExtKeyUsage, \"ExtKeyUsage\", ExtKeyUsage);\r\n            ExtensionValueFactory.register(id_CertificateIssuer, \"CertificateIssuer\", GeneralNames);\r\n            ExtensionValueFactory.register(id_AuthorityInfoAccess, \"AuthorityInfoAccess\", InfoAccess);\r\n            ExtensionValueFactory.register(id_SubjectInfoAccess, \"SubjectInfoAccess\", InfoAccess);\r\n            ExtensionValueFactory.register(id_IssuingDistributionPoint, \"IssuingDistributionPoint\", IssuingDistributionPoint);\r\n            ExtensionValueFactory.register(id_NameConstraints, \"NameConstraints\", NameConstraints);\r\n            ExtensionValueFactory.register(id_PolicyConstraints, \"PolicyConstraints\", PolicyConstraints);\r\n            ExtensionValueFactory.register(id_PolicyMappings, \"PolicyMappings\", PolicyMappings);\r\n            ExtensionValueFactory.register(id_PrivateKeyUsagePeriod, \"PrivateKeyUsagePeriod\", PrivateKeyUsagePeriod);\r\n            ExtensionValueFactory.register(id_QCStatements, \"QCStatements\", QCStatements);\r\n            ExtensionValueFactory.register(id_SignedCertificateTimestampList, \"SignedCertificateTimestampList\", SignedCertificateTimestampList);\r\n            ExtensionValueFactory.register(id_SubjectDirectoryAttributes, \"SubjectDirectoryAttributes\", SubjectDirectoryAttributes);\r\n        }\r\n        return this.types;\r\n    }\r\n    static fromBER(id, raw) {\r\n        const asn1 = asn1js.fromBER(raw);\r\n        if (asn1.offset === -1) {\r\n            return null;\r\n        }\r\n        const item = this.find(id);\r\n        if (item) {\r\n            try {\r\n                return new item.type({ schema: asn1.result });\r\n            }\r\n            catch (ex) {\r\n                const res = new item.type();\r\n                res.parsingError = `Incorrectly formatted value of extension ${item.name} (${id})`;\r\n                return res;\r\n            }\r\n        }\r\n        return asn1.result;\r\n    }\r\n    static find(id) {\r\n        const types = this.getItems();\r\n        return types[id] || null;\r\n    }\r\n    static register(id, name, type) {\r\n        this.getItems()[id] = { name, type };\r\n    }\r\n}\n\nconst EXTN_ID = \"extnID\";\r\nconst CRITICAL = \"critical\";\r\nconst EXTN_VALUE = \"extnValue\";\r\nconst PARSED_VALUE$5 = \"parsedValue\";\r\nconst CLEAR_PROPS$10 = [\r\n    EXTN_ID,\r\n    CRITICAL,\r\n    EXTN_VALUE\r\n];\r\nclass Extension extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.extnID = pvutils.getParametersValue(parameters, EXTN_ID, Extension.defaultValues(EXTN_ID));\r\n        this.critical = pvutils.getParametersValue(parameters, CRITICAL, Extension.defaultValues(CRITICAL));\r\n        if (EXTN_VALUE in parameters) {\r\n            this.extnValue = new asn1js.OctetString({ valueHex: parameters.extnValue });\r\n        }\r\n        else {\r\n            this.extnValue = Extension.defaultValues(EXTN_VALUE);\r\n        }\r\n        if (PARSED_VALUE$5 in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE$5, Extension.defaultValues(PARSED_VALUE$5));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get parsedValue() {\r\n        if (this._parsedValue === undefined) {\r\n            const parsedValue = ExtensionValueFactory.fromBER(this.extnID, this.extnValue.valueBlock.valueHexView);\r\n            this._parsedValue = parsedValue;\r\n        }\r\n        return this._parsedValue || undefined;\r\n    }\r\n    set parsedValue(value) {\r\n        this._parsedValue = value;\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case EXTN_ID:\r\n                return EMPTY_STRING;\r\n            case CRITICAL:\r\n                return false;\r\n            case EXTN_VALUE:\r\n                return new asn1js.OctetString();\r\n            case PARSED_VALUE$5:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.extnID || EMPTY_STRING) }),\r\n                new asn1js.Boolean({\r\n                    name: (names.critical || EMPTY_STRING),\r\n                    optional: true\r\n                }),\r\n                new asn1js.OctetString({ name: (names.extnValue || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$10);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Extension.schema({\r\n            names: {\r\n                extnID: EXTN_ID,\r\n                critical: CRITICAL,\r\n                extnValue: EXTN_VALUE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.extnID = asn1.result.extnID.valueBlock.toString();\r\n        if (CRITICAL in asn1.result) {\r\n            this.critical = asn1.result.critical.valueBlock.value;\r\n        }\r\n        this.extnValue = asn1.result.extnValue;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.extnID }));\r\n        if (this.critical !== Extension.defaultValues(CRITICAL)) {\r\n            outputArray.push(new asn1js.Boolean({ value: this.critical }));\r\n        }\r\n        outputArray.push(this.extnValue);\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            extnID: this.extnID,\r\n            extnValue: this.extnValue.toJSON(),\r\n        };\r\n        if (this.critical !== Extension.defaultValues(CRITICAL)) {\r\n            object.critical = this.critical;\r\n        }\r\n        if (this.parsedValue && this.parsedValue.toJSON) {\r\n            object.parsedValue = this.parsedValue.toJSON();\r\n        }\r\n        return object;\r\n    }\r\n}\r\nExtension.CLASS_NAME = \"Extension\";\n\nconst EXTENSIONS$5 = \"extensions\";\r\nconst CLEAR_PROPS$$ = [\r\n    EXTENSIONS$5,\r\n];\r\nclass Extensions extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$5, Extensions.defaultValues(EXTENSIONS$5));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case EXTENSIONS$5:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}, optional = false) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            optional,\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.extensions || EMPTY_STRING),\r\n                    value: Extension.schema(names.extension || {})\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$$);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Extensions.schema({\r\n            names: {\r\n                extensions: EXTENSIONS$5\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.extensions = Array.from(asn1.result.extensions, element => new Extension({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.extensions, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            extensions: this.extensions.map(o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nExtensions.CLASS_NAME = \"Extensions\";\n\nconst ISSUER$5 = \"issuer\";\r\nconst SERIAL_NUMBER$6 = \"serialNumber\";\r\nconst ISSUER_UID = \"issuerUID\";\r\nconst CLEAR_PROPS$_ = [\r\n    ISSUER$5,\r\n    SERIAL_NUMBER$6,\r\n    ISSUER_UID,\r\n];\r\nclass IssuerSerial extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER$5, IssuerSerial.defaultValues(ISSUER$5));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$6, IssuerSerial.defaultValues(SERIAL_NUMBER$6));\r\n        if (ISSUER_UID in parameters) {\r\n            this.issuerUID = pvutils.getParametersValue(parameters, ISSUER_UID, IssuerSerial.defaultValues(ISSUER_UID));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ISSUER$5:\r\n                return new GeneralNames();\r\n            case SERIAL_NUMBER$6:\r\n                return new asn1js.Integer();\r\n            case ISSUER_UID:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                GeneralNames.schema(names.issuer || {}),\r\n                new asn1js.Integer({ name: (names.serialNumber || EMPTY_STRING) }),\r\n                new asn1js.BitString({\r\n                    optional: true,\r\n                    name: (names.issuerUID || EMPTY_STRING)\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$_);\r\n        const asn1 = asn1js.compareSchema(schema, schema, IssuerSerial.schema({\r\n            names: {\r\n                issuer: {\r\n                    names: {\r\n                        blockName: ISSUER$5\r\n                    }\r\n                },\r\n                serialNumber: SERIAL_NUMBER$6,\r\n                issuerUID: ISSUER_UID\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.issuer = new GeneralNames({ schema: asn1.result.issuer });\r\n        this.serialNumber = asn1.result.serialNumber;\r\n        if (ISSUER_UID in asn1.result)\r\n            this.issuerUID = asn1.result.issuerUID;\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence({\r\n            value: [\r\n                this.issuer.toSchema(),\r\n                this.serialNumber\r\n            ]\r\n        });\r\n        if (this.issuerUID) {\r\n            result.valueBlock.value.push(this.issuerUID);\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {\r\n            issuer: this.issuer.toJSON(),\r\n            serialNumber: this.serialNumber.toJSON()\r\n        };\r\n        if (this.issuerUID) {\r\n            result.issuerUID = this.issuerUID.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nIssuerSerial.CLASS_NAME = \"IssuerSerial\";\n\nconst VERSION$h = \"version\";\r\nconst BASE_CERTIFICATE_ID$2 = \"baseCertificateID\";\r\nconst SUBJECT_NAME = \"subjectName\";\r\nconst ISSUER$4 = \"issuer\";\r\nconst SIGNATURE$6 = \"signature\";\r\nconst SERIAL_NUMBER$5 = \"serialNumber\";\r\nconst ATTR_CERT_VALIDITY_PERIOD$1 = \"attrCertValidityPeriod\";\r\nconst ATTRIBUTES$3 = \"attributes\";\r\nconst ISSUER_UNIQUE_ID$2 = \"issuerUniqueID\";\r\nconst EXTENSIONS$4 = \"extensions\";\r\nconst CLEAR_PROPS$Z = [\r\n    VERSION$h,\r\n    BASE_CERTIFICATE_ID$2,\r\n    SUBJECT_NAME,\r\n    ISSUER$4,\r\n    SIGNATURE$6,\r\n    SERIAL_NUMBER$5,\r\n    ATTR_CERT_VALIDITY_PERIOD$1,\r\n    ATTRIBUTES$3,\r\n    ISSUER_UNIQUE_ID$2,\r\n    EXTENSIONS$4,\r\n];\r\nclass AttributeCertificateInfoV1 extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$h, AttributeCertificateInfoV1.defaultValues(VERSION$h));\r\n        if (BASE_CERTIFICATE_ID$2 in parameters) {\r\n            this.baseCertificateID = pvutils.getParametersValue(parameters, BASE_CERTIFICATE_ID$2, AttributeCertificateInfoV1.defaultValues(BASE_CERTIFICATE_ID$2));\r\n        }\r\n        if (SUBJECT_NAME in parameters) {\r\n            this.subjectName = pvutils.getParametersValue(parameters, SUBJECT_NAME, AttributeCertificateInfoV1.defaultValues(SUBJECT_NAME));\r\n        }\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER$4, AttributeCertificateInfoV1.defaultValues(ISSUER$4));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$6, AttributeCertificateInfoV1.defaultValues(SIGNATURE$6));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$5, AttributeCertificateInfoV1.defaultValues(SERIAL_NUMBER$5));\r\n        this.attrCertValidityPeriod = pvutils.getParametersValue(parameters, ATTR_CERT_VALIDITY_PERIOD$1, AttributeCertificateInfoV1.defaultValues(ATTR_CERT_VALIDITY_PERIOD$1));\r\n        this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES$3, AttributeCertificateInfoV1.defaultValues(ATTRIBUTES$3));\r\n        if (ISSUER_UNIQUE_ID$2 in parameters)\r\n            this.issuerUniqueID = pvutils.getParametersValue(parameters, ISSUER_UNIQUE_ID$2, AttributeCertificateInfoV1.defaultValues(ISSUER_UNIQUE_ID$2));\r\n        if (EXTENSIONS$4 in parameters) {\r\n            this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$4, AttributeCertificateInfoV1.defaultValues(EXTENSIONS$4));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$h:\r\n                return 0;\r\n            case BASE_CERTIFICATE_ID$2:\r\n                return new IssuerSerial();\r\n            case SUBJECT_NAME:\r\n                return new GeneralNames();\r\n            case ISSUER$4:\r\n                return new GeneralNames();\r\n            case SIGNATURE$6:\r\n                return new AlgorithmIdentifier();\r\n            case SERIAL_NUMBER$5:\r\n                return new asn1js.Integer();\r\n            case ATTR_CERT_VALIDITY_PERIOD$1:\r\n                return new AttCertValidityPeriod();\r\n            case ATTRIBUTES$3:\r\n                return [];\r\n            case ISSUER_UNIQUE_ID$2:\r\n                return new asn1js.BitString();\r\n            case EXTENSIONS$4:\r\n                return new Extensions();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.Constructed({\r\n                            name: (names.baseCertificateID || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                            value: IssuerSerial.schema().valueBlock.value\r\n                        }),\r\n                        new asn1js.Constructed({\r\n                            name: (names.subjectName || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 1\r\n                            },\r\n                            value: GeneralNames.schema().valueBlock.value\r\n                        }),\r\n                    ]\r\n                }),\r\n                GeneralNames.schema({\r\n                    names: {\r\n                        blockName: (names.issuer || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                AlgorithmIdentifier.schema(names.signature || {}),\r\n                new asn1js.Integer({ name: (names.serialNumber || EMPTY_STRING) }),\r\n                AttCertValidityPeriod.schema(names.attrCertValidityPeriod || {}),\r\n                new asn1js.Sequence({\r\n                    name: (names.attributes || EMPTY_STRING),\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.BitString({\r\n                    optional: true,\r\n                    name: (names.issuerUniqueID || EMPTY_STRING)\r\n                }),\r\n                Extensions.schema(names.extensions || {}, true)\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$Z);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttributeCertificateInfoV1.schema({\r\n            names: {\r\n                version: VERSION$h,\r\n                baseCertificateID: BASE_CERTIFICATE_ID$2,\r\n                subjectName: SUBJECT_NAME,\r\n                issuer: ISSUER$4,\r\n                signature: {\r\n                    names: {\r\n                        blockName: SIGNATURE$6\r\n                    }\r\n                },\r\n                serialNumber: SERIAL_NUMBER$5,\r\n                attrCertValidityPeriod: {\r\n                    names: {\r\n                        blockName: ATTR_CERT_VALIDITY_PERIOD$1\r\n                    }\r\n                },\r\n                attributes: ATTRIBUTES$3,\r\n                issuerUniqueID: ISSUER_UNIQUE_ID$2,\r\n                extensions: {\r\n                    names: {\r\n                        blockName: EXTENSIONS$4\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        if (BASE_CERTIFICATE_ID$2 in asn1.result) {\r\n            this.baseCertificateID = new IssuerSerial({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.baseCertificateID.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        if (SUBJECT_NAME in asn1.result) {\r\n            this.subjectName = new GeneralNames({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.subjectName.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        this.issuer = asn1.result.issuer;\r\n        this.signature = new AlgorithmIdentifier({ schema: asn1.result.signature });\r\n        this.serialNumber = asn1.result.serialNumber;\r\n        this.attrCertValidityPeriod = new AttCertValidityPeriod({ schema: asn1.result.attrCertValidityPeriod });\r\n        this.attributes = Array.from(asn1.result.attributes.valueBlock.value, element => new Attribute({ schema: element }));\r\n        if (ISSUER_UNIQUE_ID$2 in asn1.result) {\r\n            this.issuerUniqueID = asn1.result.issuerUniqueID;\r\n        }\r\n        if (EXTENSIONS$4 in asn1.result) {\r\n            this.extensions = new Extensions({ schema: asn1.result.extensions });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence({\r\n            value: [new asn1js.Integer({ value: this.version })]\r\n        });\r\n        if (this.baseCertificateID) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.baseCertificateID.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        if (this.subjectName) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: this.subjectName.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        result.valueBlock.value.push(this.issuer.toSchema());\r\n        result.valueBlock.value.push(this.signature.toSchema());\r\n        result.valueBlock.value.push(this.serialNumber);\r\n        result.valueBlock.value.push(this.attrCertValidityPeriod.toSchema());\r\n        result.valueBlock.value.push(new asn1js.Sequence({\r\n            value: Array.from(this.attributes, o => o.toSchema())\r\n        }));\r\n        if (this.issuerUniqueID) {\r\n            result.valueBlock.value.push(this.issuerUniqueID);\r\n        }\r\n        if (this.extensions) {\r\n            result.valueBlock.value.push(this.extensions.toSchema());\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {\r\n            version: this.version\r\n        };\r\n        if (this.baseCertificateID) {\r\n            result.baseCertificateID = this.baseCertificateID.toJSON();\r\n        }\r\n        if (this.subjectName) {\r\n            result.subjectName = this.subjectName.toJSON();\r\n        }\r\n        result.issuer = this.issuer.toJSON();\r\n        result.signature = this.signature.toJSON();\r\n        result.serialNumber = this.serialNumber.toJSON();\r\n        result.attrCertValidityPeriod = this.attrCertValidityPeriod.toJSON();\r\n        result.attributes = Array.from(this.attributes, o => o.toJSON());\r\n        if (this.issuerUniqueID) {\r\n            result.issuerUniqueID = this.issuerUniqueID.toJSON();\r\n        }\r\n        if (this.extensions) {\r\n            result.extensions = this.extensions.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nAttributeCertificateInfoV1.CLASS_NAME = \"AttributeCertificateInfoV1\";\n\nconst ACINFO$1 = \"acinfo\";\r\nconst SIGNATURE_ALGORITHM$7 = \"signatureAlgorithm\";\r\nconst SIGNATURE_VALUE$4 = \"signatureValue\";\r\nconst CLEAR_PROPS$Y = [\r\n    ACINFO$1,\r\n    SIGNATURE_VALUE$4,\r\n    SIGNATURE_ALGORITHM$7\r\n];\r\nclass AttributeCertificateV1 extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.acinfo = pvutils.getParametersValue(parameters, ACINFO$1, AttributeCertificateV1.defaultValues(ACINFO$1));\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$7, AttributeCertificateV1.defaultValues(SIGNATURE_ALGORITHM$7));\r\n        this.signatureValue = pvutils.getParametersValue(parameters, SIGNATURE_VALUE$4, AttributeCertificateV1.defaultValues(SIGNATURE_VALUE$4));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ACINFO$1:\r\n                return new AttributeCertificateInfoV1();\r\n            case SIGNATURE_ALGORITHM$7:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE_VALUE$4:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AttributeCertificateInfoV1.schema(names.acinfo || {}),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {}),\r\n                new asn1js.BitString({ name: (names.signatureValue || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$Y);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttributeCertificateV1.schema({\r\n            names: {\r\n                acinfo: {\r\n                    names: {\r\n                        blockName: ACINFO$1\r\n                    }\r\n                },\r\n                signatureAlgorithm: {\r\n                    names: {\r\n                        blockName: SIGNATURE_ALGORITHM$7\r\n                    }\r\n                },\r\n                signatureValue: SIGNATURE_VALUE$4\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.acinfo = new AttributeCertificateInfoV1({ schema: asn1.result.acinfo });\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signatureValue = asn1.result.signatureValue;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.acinfo.toSchema(),\r\n                this.signatureAlgorithm.toSchema(),\r\n                this.signatureValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            acinfo: this.acinfo.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signatureValue: this.signatureValue.toJSON(),\r\n        };\r\n    }\r\n}\r\nAttributeCertificateV1.CLASS_NAME = \"AttributeCertificateV1\";\n\nconst DIGESTED_OBJECT_TYPE = \"digestedObjectType\";\r\nconst OTHER_OBJECT_TYPE_ID = \"otherObjectTypeID\";\r\nconst DIGEST_ALGORITHM$2 = \"digestAlgorithm\";\r\nconst OBJECT_DIGEST = \"objectDigest\";\r\nconst CLEAR_PROPS$X = [\r\n    DIGESTED_OBJECT_TYPE,\r\n    OTHER_OBJECT_TYPE_ID,\r\n    DIGEST_ALGORITHM$2,\r\n    OBJECT_DIGEST,\r\n];\r\nclass ObjectDigestInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.digestedObjectType = pvutils.getParametersValue(parameters, DIGESTED_OBJECT_TYPE, ObjectDigestInfo.defaultValues(DIGESTED_OBJECT_TYPE));\r\n        if (OTHER_OBJECT_TYPE_ID in parameters) {\r\n            this.otherObjectTypeID = pvutils.getParametersValue(parameters, OTHER_OBJECT_TYPE_ID, ObjectDigestInfo.defaultValues(OTHER_OBJECT_TYPE_ID));\r\n        }\r\n        this.digestAlgorithm = pvutils.getParametersValue(parameters, DIGEST_ALGORITHM$2, ObjectDigestInfo.defaultValues(DIGEST_ALGORITHM$2));\r\n        this.objectDigest = pvutils.getParametersValue(parameters, OBJECT_DIGEST, ObjectDigestInfo.defaultValues(OBJECT_DIGEST));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case DIGESTED_OBJECT_TYPE:\r\n                return new asn1js.Enumerated();\r\n            case OTHER_OBJECT_TYPE_ID:\r\n                return new asn1js.ObjectIdentifier();\r\n            case DIGEST_ALGORITHM$2:\r\n                return new AlgorithmIdentifier();\r\n            case OBJECT_DIGEST:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Enumerated({ name: (names.digestedObjectType || EMPTY_STRING) }),\r\n                new asn1js.ObjectIdentifier({\r\n                    optional: true,\r\n                    name: (names.otherObjectTypeID || EMPTY_STRING)\r\n                }),\r\n                AlgorithmIdentifier.schema(names.digestAlgorithm || {}),\r\n                new asn1js.BitString({ name: (names.objectDigest || EMPTY_STRING) }),\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$X);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ObjectDigestInfo.schema({\r\n            names: {\r\n                digestedObjectType: DIGESTED_OBJECT_TYPE,\r\n                otherObjectTypeID: OTHER_OBJECT_TYPE_ID,\r\n                digestAlgorithm: {\r\n                    names: {\r\n                        blockName: DIGEST_ALGORITHM$2\r\n                    }\r\n                },\r\n                objectDigest: OBJECT_DIGEST\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.digestedObjectType = asn1.result.digestedObjectType;\r\n        if (OTHER_OBJECT_TYPE_ID in asn1.result) {\r\n            this.otherObjectTypeID = asn1.result.otherObjectTypeID;\r\n        }\r\n        this.digestAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.digestAlgorithm });\r\n        this.objectDigest = asn1.result.objectDigest;\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence({\r\n            value: [this.digestedObjectType]\r\n        });\r\n        if (this.otherObjectTypeID) {\r\n            result.valueBlock.value.push(this.otherObjectTypeID);\r\n        }\r\n        result.valueBlock.value.push(this.digestAlgorithm.toSchema());\r\n        result.valueBlock.value.push(this.objectDigest);\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {\r\n            digestedObjectType: this.digestedObjectType.toJSON(),\r\n            digestAlgorithm: this.digestAlgorithm.toJSON(),\r\n            objectDigest: this.objectDigest.toJSON(),\r\n        };\r\n        if (this.otherObjectTypeID) {\r\n            result.otherObjectTypeID = this.otherObjectTypeID.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nObjectDigestInfo.CLASS_NAME = \"ObjectDigestInfo\";\n\nconst ISSUER_NAME = \"issuerName\";\r\nconst BASE_CERTIFICATE_ID$1 = \"baseCertificateID\";\r\nconst OBJECT_DIGEST_INFO$1 = \"objectDigestInfo\";\r\nconst CLEAR_PROPS$W = [\r\n    ISSUER_NAME,\r\n    BASE_CERTIFICATE_ID$1,\r\n    OBJECT_DIGEST_INFO$1\r\n];\r\nclass V2Form extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (ISSUER_NAME in parameters) {\r\n            this.issuerName = pvutils.getParametersValue(parameters, ISSUER_NAME, V2Form.defaultValues(ISSUER_NAME));\r\n        }\r\n        if (BASE_CERTIFICATE_ID$1 in parameters) {\r\n            this.baseCertificateID = pvutils.getParametersValue(parameters, BASE_CERTIFICATE_ID$1, V2Form.defaultValues(BASE_CERTIFICATE_ID$1));\r\n        }\r\n        if (OBJECT_DIGEST_INFO$1 in parameters) {\r\n            this.objectDigestInfo = pvutils.getParametersValue(parameters, OBJECT_DIGEST_INFO$1, V2Form.defaultValues(OBJECT_DIGEST_INFO$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ISSUER_NAME:\r\n                return new GeneralNames();\r\n            case BASE_CERTIFICATE_ID$1:\r\n                return new IssuerSerial();\r\n            case OBJECT_DIGEST_INFO$1:\r\n                return new ObjectDigestInfo();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                GeneralNames.schema({\r\n                    names: {\r\n                        blockName: names.issuerName\r\n                    }\r\n                }, true),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    name: (names.baseCertificateID || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: IssuerSerial.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    name: (names.objectDigestInfo || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: ObjectDigestInfo.schema().valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$W);\r\n        const asn1 = asn1js.compareSchema(schema, schema, V2Form.schema({\r\n            names: {\r\n                issuerName: ISSUER_NAME,\r\n                baseCertificateID: BASE_CERTIFICATE_ID$1,\r\n                objectDigestInfo: OBJECT_DIGEST_INFO$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (ISSUER_NAME in asn1.result)\r\n            this.issuerName = new GeneralNames({ schema: asn1.result.issuerName });\r\n        if (BASE_CERTIFICATE_ID$1 in asn1.result) {\r\n            this.baseCertificateID = new IssuerSerial({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.baseCertificateID.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        if (OBJECT_DIGEST_INFO$1 in asn1.result) {\r\n            this.objectDigestInfo = new ObjectDigestInfo({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.objectDigestInfo.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence();\r\n        if (this.issuerName)\r\n            result.valueBlock.value.push(this.issuerName.toSchema());\r\n        if (this.baseCertificateID) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.baseCertificateID.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        if (this.objectDigestInfo) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: this.objectDigestInfo.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {};\r\n        if (this.issuerName) {\r\n            result.issuerName = this.issuerName.toJSON();\r\n        }\r\n        if (this.baseCertificateID) {\r\n            result.baseCertificateID = this.baseCertificateID.toJSON();\r\n        }\r\n        if (this.objectDigestInfo) {\r\n            result.objectDigestInfo = this.objectDigestInfo.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nV2Form.CLASS_NAME = \"V2Form\";\n\nconst BASE_CERTIFICATE_ID = \"baseCertificateID\";\r\nconst ENTITY_NAME = \"entityName\";\r\nconst OBJECT_DIGEST_INFO = \"objectDigestInfo\";\r\nconst CLEAR_PROPS$V = [\r\n    BASE_CERTIFICATE_ID,\r\n    ENTITY_NAME,\r\n    OBJECT_DIGEST_INFO\r\n];\r\nclass Holder extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        if (BASE_CERTIFICATE_ID in parameters) {\r\n            this.baseCertificateID = pvutils.getParametersValue(parameters, BASE_CERTIFICATE_ID, Holder.defaultValues(BASE_CERTIFICATE_ID));\r\n        }\r\n        if (ENTITY_NAME in parameters) {\r\n            this.entityName = pvutils.getParametersValue(parameters, ENTITY_NAME, Holder.defaultValues(ENTITY_NAME));\r\n        }\r\n        if (OBJECT_DIGEST_INFO in parameters) {\r\n            this.objectDigestInfo = pvutils.getParametersValue(parameters, OBJECT_DIGEST_INFO, Holder.defaultValues(OBJECT_DIGEST_INFO));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case BASE_CERTIFICATE_ID:\r\n                return new IssuerSerial();\r\n            case ENTITY_NAME:\r\n                return new GeneralNames();\r\n            case OBJECT_DIGEST_INFO:\r\n                return new ObjectDigestInfo();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    name: (names.baseCertificateID || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: IssuerSerial.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    name: (names.entityName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: GeneralNames.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    name: (names.objectDigestInfo || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: ObjectDigestInfo.schema().valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$V);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Holder.schema({\r\n            names: {\r\n                baseCertificateID: BASE_CERTIFICATE_ID,\r\n                entityName: ENTITY_NAME,\r\n                objectDigestInfo: OBJECT_DIGEST_INFO\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (BASE_CERTIFICATE_ID in asn1.result) {\r\n            this.baseCertificateID = new IssuerSerial({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.baseCertificateID.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        if (ENTITY_NAME in asn1.result) {\r\n            this.entityName = new GeneralNames({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.entityName.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        if (OBJECT_DIGEST_INFO in asn1.result) {\r\n            this.objectDigestInfo = new ObjectDigestInfo({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.objectDigestInfo.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence();\r\n        if (this.baseCertificateID) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.baseCertificateID.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        if (this.entityName) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: this.entityName.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        if (this.objectDigestInfo) {\r\n            result.valueBlock.value.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                value: this.objectDigestInfo.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {};\r\n        if (this.baseCertificateID) {\r\n            result.baseCertificateID = this.baseCertificateID.toJSON();\r\n        }\r\n        if (this.entityName) {\r\n            result.entityName = this.entityName.toJSON();\r\n        }\r\n        if (this.objectDigestInfo) {\r\n            result.objectDigestInfo = this.objectDigestInfo.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nHolder.CLASS_NAME = \"Holder\";\n\nconst VERSION$g = \"version\";\r\nconst HOLDER = \"holder\";\r\nconst ISSUER$3 = \"issuer\";\r\nconst SIGNATURE$5 = \"signature\";\r\nconst SERIAL_NUMBER$4 = \"serialNumber\";\r\nconst ATTR_CERT_VALIDITY_PERIOD = \"attrCertValidityPeriod\";\r\nconst ATTRIBUTES$2 = \"attributes\";\r\nconst ISSUER_UNIQUE_ID$1 = \"issuerUniqueID\";\r\nconst EXTENSIONS$3 = \"extensions\";\r\nconst CLEAR_PROPS$U = [\r\n    VERSION$g,\r\n    HOLDER,\r\n    ISSUER$3,\r\n    SIGNATURE$5,\r\n    SERIAL_NUMBER$4,\r\n    ATTR_CERT_VALIDITY_PERIOD,\r\n    ATTRIBUTES$2,\r\n    ISSUER_UNIQUE_ID$1,\r\n    EXTENSIONS$3\r\n];\r\nclass AttributeCertificateInfoV2 extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$g, AttributeCertificateInfoV2.defaultValues(VERSION$g));\r\n        this.holder = pvutils.getParametersValue(parameters, HOLDER, AttributeCertificateInfoV2.defaultValues(HOLDER));\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER$3, AttributeCertificateInfoV2.defaultValues(ISSUER$3));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$5, AttributeCertificateInfoV2.defaultValues(SIGNATURE$5));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$4, AttributeCertificateInfoV2.defaultValues(SERIAL_NUMBER$4));\r\n        this.attrCertValidityPeriod = pvutils.getParametersValue(parameters, ATTR_CERT_VALIDITY_PERIOD, AttributeCertificateInfoV2.defaultValues(ATTR_CERT_VALIDITY_PERIOD));\r\n        this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES$2, AttributeCertificateInfoV2.defaultValues(ATTRIBUTES$2));\r\n        if (ISSUER_UNIQUE_ID$1 in parameters) {\r\n            this.issuerUniqueID = pvutils.getParametersValue(parameters, ISSUER_UNIQUE_ID$1, AttributeCertificateInfoV2.defaultValues(ISSUER_UNIQUE_ID$1));\r\n        }\r\n        if (EXTENSIONS$3 in parameters) {\r\n            this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$3, AttributeCertificateInfoV2.defaultValues(EXTENSIONS$3));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$g:\r\n                return 1;\r\n            case HOLDER:\r\n                return new Holder();\r\n            case ISSUER$3:\r\n                return {};\r\n            case SIGNATURE$5:\r\n                return new AlgorithmIdentifier();\r\n            case SERIAL_NUMBER$4:\r\n                return new asn1js.Integer();\r\n            case ATTR_CERT_VALIDITY_PERIOD:\r\n                return new AttCertValidityPeriod();\r\n            case ATTRIBUTES$2:\r\n                return [];\r\n            case ISSUER_UNIQUE_ID$1:\r\n                return new asn1js.BitString();\r\n            case EXTENSIONS$3:\r\n                return new Extensions();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                Holder.schema(names.holder || {}),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        GeneralNames.schema({\r\n                            names: {\r\n                                blockName: (names.issuer || EMPTY_STRING)\r\n                            }\r\n                        }),\r\n                        new asn1js.Constructed({\r\n                            name: (names.issuer || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                            value: V2Form.schema().valueBlock.value\r\n                        })\r\n                    ]\r\n                }),\r\n                AlgorithmIdentifier.schema(names.signature || {}),\r\n                new asn1js.Integer({ name: (names.serialNumber || EMPTY_STRING) }),\r\n                AttCertValidityPeriod.schema(names.attrCertValidityPeriod || {}),\r\n                new asn1js.Sequence({\r\n                    name: (names.attributes || EMPTY_STRING),\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.BitString({\r\n                    optional: true,\r\n                    name: (names.issuerUniqueID || EMPTY_STRING)\r\n                }),\r\n                Extensions.schema(names.extensions || {}, true)\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$U);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttributeCertificateInfoV2.schema({\r\n            names: {\r\n                version: VERSION$g,\r\n                holder: {\r\n                    names: {\r\n                        blockName: HOLDER\r\n                    }\r\n                },\r\n                issuer: ISSUER$3,\r\n                signature: {\r\n                    names: {\r\n                        blockName: SIGNATURE$5\r\n                    }\r\n                },\r\n                serialNumber: SERIAL_NUMBER$4,\r\n                attrCertValidityPeriod: {\r\n                    names: {\r\n                        blockName: ATTR_CERT_VALIDITY_PERIOD\r\n                    }\r\n                },\r\n                attributes: ATTRIBUTES$2,\r\n                issuerUniqueID: ISSUER_UNIQUE_ID$1,\r\n                extensions: {\r\n                    names: {\r\n                        blockName: EXTENSIONS$3\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.holder = new Holder({ schema: asn1.result.holder });\r\n        switch (asn1.result.issuer.idBlock.tagClass) {\r\n            case 3:\r\n                this.issuer = new V2Form({\r\n                    schema: new asn1js.Sequence({\r\n                        value: asn1.result.issuer.valueBlock.value\r\n                    })\r\n                });\r\n                break;\r\n            case 1:\r\n            default:\r\n                throw new Error(\"Incorrect value for 'issuer' in AttributeCertificateInfoV2\");\r\n        }\r\n        this.signature = new AlgorithmIdentifier({ schema: asn1.result.signature });\r\n        this.serialNumber = asn1.result.serialNumber;\r\n        this.attrCertValidityPeriod = new AttCertValidityPeriod({ schema: asn1.result.attrCertValidityPeriod });\r\n        this.attributes = Array.from(asn1.result.attributes.valueBlock.value, element => new Attribute({ schema: element }));\r\n        if (ISSUER_UNIQUE_ID$1 in asn1.result) {\r\n            this.issuerUniqueID = asn1.result.issuerUniqueID;\r\n        }\r\n        if (EXTENSIONS$3 in asn1.result) {\r\n            this.extensions = new Extensions({ schema: asn1.result.extensions });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const result = new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.Integer({ value: this.version }),\r\n                this.holder.toSchema(),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: this.issuer.toSchema().valueBlock.value\r\n                }),\r\n                this.signature.toSchema(),\r\n                this.serialNumber,\r\n                this.attrCertValidityPeriod.toSchema(),\r\n                new asn1js.Sequence({\r\n                    value: Array.from(this.attributes, o => o.toSchema())\r\n                })\r\n            ]\r\n        });\r\n        if (this.issuerUniqueID) {\r\n            result.valueBlock.value.push(this.issuerUniqueID);\r\n        }\r\n        if (this.extensions) {\r\n            result.valueBlock.value.push(this.extensions.toSchema());\r\n        }\r\n        return result;\r\n    }\r\n    toJSON() {\r\n        const result = {\r\n            version: this.version,\r\n            holder: this.holder.toJSON(),\r\n            issuer: this.issuer.toJSON(),\r\n            signature: this.signature.toJSON(),\r\n            serialNumber: this.serialNumber.toJSON(),\r\n            attrCertValidityPeriod: this.attrCertValidityPeriod.toJSON(),\r\n            attributes: Array.from(this.attributes, o => o.toJSON())\r\n        };\r\n        if (this.issuerUniqueID) {\r\n            result.issuerUniqueID = this.issuerUniqueID.toJSON();\r\n        }\r\n        if (this.extensions) {\r\n            result.extensions = this.extensions.toJSON();\r\n        }\r\n        return result;\r\n    }\r\n}\r\nAttributeCertificateInfoV2.CLASS_NAME = \"AttributeCertificateInfoV2\";\n\nconst ACINFO = \"acinfo\";\r\nconst SIGNATURE_ALGORITHM$6 = \"signatureAlgorithm\";\r\nconst SIGNATURE_VALUE$3 = \"signatureValue\";\r\nconst CLEAR_PROPS$T = [\r\n    ACINFO,\r\n    SIGNATURE_ALGORITHM$6,\r\n    SIGNATURE_VALUE$3,\r\n];\r\nclass AttributeCertificateV2 extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.acinfo = pvutils.getParametersValue(parameters, ACINFO, AttributeCertificateV2.defaultValues(ACINFO));\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$6, AttributeCertificateV2.defaultValues(SIGNATURE_ALGORITHM$6));\r\n        this.signatureValue = pvutils.getParametersValue(parameters, SIGNATURE_VALUE$3, AttributeCertificateV2.defaultValues(SIGNATURE_VALUE$3));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ACINFO:\r\n                return new AttributeCertificateInfoV2();\r\n            case SIGNATURE_ALGORITHM$6:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE_VALUE$3:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AttributeCertificateInfoV2.schema(names.acinfo || {}),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {}),\r\n                new asn1js.BitString({ name: (names.signatureValue || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$T);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AttributeCertificateV2.schema({\r\n            names: {\r\n                acinfo: {\r\n                    names: {\r\n                        blockName: ACINFO\r\n                    }\r\n                },\r\n                signatureAlgorithm: {\r\n                    names: {\r\n                        blockName: SIGNATURE_ALGORITHM$6\r\n                    }\r\n                },\r\n                signatureValue: SIGNATURE_VALUE$3\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.acinfo = new AttributeCertificateInfoV2({ schema: asn1.result.acinfo });\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signatureValue = asn1.result.signatureValue;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.acinfo.toSchema(),\r\n                this.signatureAlgorithm.toSchema(),\r\n                this.signatureValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            acinfo: this.acinfo.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signatureValue: this.signatureValue.toJSON(),\r\n        };\r\n    }\r\n}\r\nAttributeCertificateV2.CLASS_NAME = \"AttributeCertificateV2\";\n\nconst CONTENT_TYPE = \"contentType\";\r\nconst CONTENT = \"content\";\r\nconst CLEAR_PROPS$S = [CONTENT_TYPE, CONTENT];\r\nclass ContentInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.contentType = pvutils.getParametersValue(parameters, CONTENT_TYPE, ContentInfo.defaultValues(CONTENT_TYPE));\r\n        this.content = pvutils.getParametersValue(parameters, CONTENT, ContentInfo.defaultValues(CONTENT));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CONTENT_TYPE:\r\n                return EMPTY_STRING;\r\n            case CONTENT:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CONTENT_TYPE:\r\n                return (typeof memberValue === \"string\" &&\r\n                    memberValue === this.defaultValues(CONTENT_TYPE));\r\n            case CONTENT:\r\n                return (memberValue instanceof asn1js.Any);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        if ((\"optional\" in names) === false) {\r\n            names.optional = false;\r\n        }\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || \"ContentInfo\"),\r\n            optional: names.optional,\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.contentType || CONTENT_TYPE) }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Any({ name: (names.content || CONTENT) })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$S);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ContentInfo.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.contentType = asn1.result.contentType.valueBlock.toString();\r\n        this.content = asn1.result.content;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.contentType }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [this.content]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            contentType: this.contentType\r\n        };\r\n        if (!(this.content instanceof asn1js.Any)) {\r\n            object.content = this.content.toJSON();\r\n        }\r\n        return object;\r\n    }\r\n}\r\nContentInfo.CLASS_NAME = \"ContentInfo\";\r\nContentInfo.DATA = id_ContentType_Data;\r\nContentInfo.SIGNED_DATA = id_ContentType_SignedData;\r\nContentInfo.ENVELOPED_DATA = id_ContentType_EnvelopedData;\r\nContentInfo.ENCRYPTED_DATA = id_ContentType_EncryptedData;\n\nconst TYPE$1 = \"type\";\r\nconst VALUE$4 = \"value\";\r\nconst UTC_TIME_NAME = \"utcTimeName\";\r\nconst GENERAL_TIME_NAME = \"generalTimeName\";\r\nconst CLEAR_PROPS$R = [UTC_TIME_NAME, GENERAL_TIME_NAME];\r\nvar TimeType;\r\n(function (TimeType) {\r\n    TimeType[TimeType[\"UTCTime\"] = 0] = \"UTCTime\";\r\n    TimeType[TimeType[\"GeneralizedTime\"] = 1] = \"GeneralizedTime\";\r\n    TimeType[TimeType[\"empty\"] = 2] = \"empty\";\r\n})(TimeType || (TimeType = {}));\r\nclass Time extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.type = pvutils.getParametersValue(parameters, TYPE$1, Time.defaultValues(TYPE$1));\r\n        this.value = pvutils.getParametersValue(parameters, VALUE$4, Time.defaultValues(VALUE$4));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE$1:\r\n                return 0;\r\n            case VALUE$4:\r\n                return new Date(0, 0, 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}, optional = false) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            optional,\r\n            value: [\r\n                new asn1js.UTCTime({ name: (names.utcTimeName || EMPTY_STRING) }),\r\n                new asn1js.GeneralizedTime({ name: (names.generalTimeName || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$R);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Time.schema({\r\n            names: {\r\n                utcTimeName: UTC_TIME_NAME,\r\n                generalTimeName: GENERAL_TIME_NAME\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (UTC_TIME_NAME in asn1.result) {\r\n            this.type = 0;\r\n            this.value = asn1.result.utcTimeName.toDate();\r\n        }\r\n        if (GENERAL_TIME_NAME in asn1.result) {\r\n            this.type = 1;\r\n            this.value = asn1.result.generalTimeName.toDate();\r\n        }\r\n    }\r\n    toSchema() {\r\n        if (this.type === 0) {\r\n            return new asn1js.UTCTime({ valueDate: this.value });\r\n        }\r\n        else if (this.type === 1) {\r\n            return new asn1js.GeneralizedTime({ valueDate: this.value });\r\n        }\r\n        return {};\r\n    }\r\n    toJSON() {\r\n        return {\r\n            type: this.type,\r\n            value: this.value\r\n        };\r\n    }\r\n}\r\nTime.CLASS_NAME = \"Time\";\n\nconst TBS$4 = \"tbs\";\r\nconst VERSION$f = \"version\";\r\nconst SERIAL_NUMBER$3 = \"serialNumber\";\r\nconst SIGNATURE$4 = \"signature\";\r\nconst ISSUER$2 = \"issuer\";\r\nconst NOT_BEFORE = \"notBefore\";\r\nconst NOT_AFTER = \"notAfter\";\r\nconst SUBJECT$1 = \"subject\";\r\nconst SUBJECT_PUBLIC_KEY_INFO = \"subjectPublicKeyInfo\";\r\nconst ISSUER_UNIQUE_ID = \"issuerUniqueID\";\r\nconst SUBJECT_UNIQUE_ID = \"subjectUniqueID\";\r\nconst EXTENSIONS$2 = \"extensions\";\r\nconst SIGNATURE_ALGORITHM$5 = \"signatureAlgorithm\";\r\nconst SIGNATURE_VALUE$2 = \"signatureValue\";\r\nconst TBS_CERTIFICATE = \"tbsCertificate\";\r\nconst TBS_CERTIFICATE_VERSION = `${TBS_CERTIFICATE}.${VERSION$f}`;\r\nconst TBS_CERTIFICATE_SERIAL_NUMBER = `${TBS_CERTIFICATE}.${SERIAL_NUMBER$3}`;\r\nconst TBS_CERTIFICATE_SIGNATURE = `${TBS_CERTIFICATE}.${SIGNATURE$4}`;\r\nconst TBS_CERTIFICATE_ISSUER = `${TBS_CERTIFICATE}.${ISSUER$2}`;\r\nconst TBS_CERTIFICATE_NOT_BEFORE = `${TBS_CERTIFICATE}.${NOT_BEFORE}`;\r\nconst TBS_CERTIFICATE_NOT_AFTER = `${TBS_CERTIFICATE}.${NOT_AFTER}`;\r\nconst TBS_CERTIFICATE_SUBJECT = `${TBS_CERTIFICATE}.${SUBJECT$1}`;\r\nconst TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY = `${TBS_CERTIFICATE}.${SUBJECT_PUBLIC_KEY_INFO}`;\r\nconst TBS_CERTIFICATE_ISSUER_UNIQUE_ID = `${TBS_CERTIFICATE}.${ISSUER_UNIQUE_ID}`;\r\nconst TBS_CERTIFICATE_SUBJECT_UNIQUE_ID = `${TBS_CERTIFICATE}.${SUBJECT_UNIQUE_ID}`;\r\nconst TBS_CERTIFICATE_EXTENSIONS = `${TBS_CERTIFICATE}.${EXTENSIONS$2}`;\r\nconst CLEAR_PROPS$Q = [\r\n    TBS_CERTIFICATE,\r\n    TBS_CERTIFICATE_VERSION,\r\n    TBS_CERTIFICATE_SERIAL_NUMBER,\r\n    TBS_CERTIFICATE_SIGNATURE,\r\n    TBS_CERTIFICATE_ISSUER,\r\n    TBS_CERTIFICATE_NOT_BEFORE,\r\n    TBS_CERTIFICATE_NOT_AFTER,\r\n    TBS_CERTIFICATE_SUBJECT,\r\n    TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY,\r\n    TBS_CERTIFICATE_ISSUER_UNIQUE_ID,\r\n    TBS_CERTIFICATE_SUBJECT_UNIQUE_ID,\r\n    TBS_CERTIFICATE_EXTENSIONS,\r\n    SIGNATURE_ALGORITHM$5,\r\n    SIGNATURE_VALUE$2\r\n];\r\nfunction tbsCertificate(parameters = {}) {\r\n    const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n    return (new asn1js.Sequence({\r\n        name: (names.blockName || TBS_CERTIFICATE),\r\n        value: [\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Integer({ name: (names.tbsCertificateVersion || TBS_CERTIFICATE_VERSION) })\r\n                ]\r\n            }),\r\n            new asn1js.Integer({ name: (names.tbsCertificateSerialNumber || TBS_CERTIFICATE_SERIAL_NUMBER) }),\r\n            AlgorithmIdentifier.schema(names.signature || {\r\n                names: {\r\n                    blockName: TBS_CERTIFICATE_SIGNATURE\r\n                }\r\n            }),\r\n            RelativeDistinguishedNames.schema(names.issuer || {\r\n                names: {\r\n                    blockName: TBS_CERTIFICATE_ISSUER\r\n                }\r\n            }),\r\n            new asn1js.Sequence({\r\n                name: (names.tbsCertificateValidity || \"tbsCertificate.validity\"),\r\n                value: [\r\n                    Time.schema(names.notBefore || {\r\n                        names: {\r\n                            utcTimeName: TBS_CERTIFICATE_NOT_BEFORE,\r\n                            generalTimeName: TBS_CERTIFICATE_NOT_BEFORE\r\n                        }\r\n                    }),\r\n                    Time.schema(names.notAfter || {\r\n                        names: {\r\n                            utcTimeName: TBS_CERTIFICATE_NOT_AFTER,\r\n                            generalTimeName: TBS_CERTIFICATE_NOT_AFTER\r\n                        }\r\n                    })\r\n                ]\r\n            }),\r\n            RelativeDistinguishedNames.schema(names.subject || {\r\n                names: {\r\n                    blockName: TBS_CERTIFICATE_SUBJECT\r\n                }\r\n            }),\r\n            PublicKeyInfo.schema(names.subjectPublicKeyInfo || {\r\n                names: {\r\n                    blockName: TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY\r\n                }\r\n            }),\r\n            new asn1js.Primitive({\r\n                name: (names.tbsCertificateIssuerUniqueID || TBS_CERTIFICATE_ISSUER_UNIQUE_ID),\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                }\r\n            }),\r\n            new asn1js.Primitive({\r\n                name: (names.tbsCertificateSubjectUniqueID || TBS_CERTIFICATE_SUBJECT_UNIQUE_ID),\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                }\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 3\r\n                },\r\n                value: [Extensions.schema(names.extensions || {\r\n                        names: {\r\n                            blockName: TBS_CERTIFICATE_EXTENSIONS\r\n                        }\r\n                    })]\r\n            })\r\n        ]\r\n    }));\r\n}\r\nclass Certificate extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsView = new Uint8Array(pvutils.getParametersValue(parameters, TBS$4, Certificate.defaultValues(TBS$4)));\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$f, Certificate.defaultValues(VERSION$f));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$3, Certificate.defaultValues(SERIAL_NUMBER$3));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$4, Certificate.defaultValues(SIGNATURE$4));\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER$2, Certificate.defaultValues(ISSUER$2));\r\n        this.notBefore = pvutils.getParametersValue(parameters, NOT_BEFORE, Certificate.defaultValues(NOT_BEFORE));\r\n        this.notAfter = pvutils.getParametersValue(parameters, NOT_AFTER, Certificate.defaultValues(NOT_AFTER));\r\n        this.subject = pvutils.getParametersValue(parameters, SUBJECT$1, Certificate.defaultValues(SUBJECT$1));\r\n        this.subjectPublicKeyInfo = pvutils.getParametersValue(parameters, SUBJECT_PUBLIC_KEY_INFO, Certificate.defaultValues(SUBJECT_PUBLIC_KEY_INFO));\r\n        if (ISSUER_UNIQUE_ID in parameters) {\r\n            this.issuerUniqueID = pvutils.getParametersValue(parameters, ISSUER_UNIQUE_ID, Certificate.defaultValues(ISSUER_UNIQUE_ID));\r\n        }\r\n        if (SUBJECT_UNIQUE_ID in parameters) {\r\n            this.subjectUniqueID = pvutils.getParametersValue(parameters, SUBJECT_UNIQUE_ID, Certificate.defaultValues(SUBJECT_UNIQUE_ID));\r\n        }\r\n        if (EXTENSIONS$2 in parameters) {\r\n            this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$2, Certificate.defaultValues(EXTENSIONS$2));\r\n        }\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$5, Certificate.defaultValues(SIGNATURE_ALGORITHM$5));\r\n        this.signatureValue = pvutils.getParametersValue(parameters, SIGNATURE_VALUE$2, Certificate.defaultValues(SIGNATURE_VALUE$2));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get tbs() {\r\n        return pvtsutils.BufferSourceConverter.toArrayBuffer(this.tbsView);\r\n    }\r\n    set tbs(value) {\r\n        this.tbsView = new Uint8Array(value);\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS$4:\r\n                return EMPTY_BUFFER;\r\n            case VERSION$f:\r\n                return 0;\r\n            case SERIAL_NUMBER$3:\r\n                return new asn1js.Integer();\r\n            case SIGNATURE$4:\r\n                return new AlgorithmIdentifier();\r\n            case ISSUER$2:\r\n                return new RelativeDistinguishedNames();\r\n            case NOT_BEFORE:\r\n                return new Time();\r\n            case NOT_AFTER:\r\n                return new Time();\r\n            case SUBJECT$1:\r\n                return new RelativeDistinguishedNames();\r\n            case SUBJECT_PUBLIC_KEY_INFO:\r\n                return new PublicKeyInfo();\r\n            case ISSUER_UNIQUE_ID:\r\n                return EMPTY_BUFFER;\r\n            case SUBJECT_UNIQUE_ID:\r\n                return EMPTY_BUFFER;\r\n            case EXTENSIONS$2:\r\n                return [];\r\n            case SIGNATURE_ALGORITHM$5:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE_VALUE$2:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                tbsCertificate(names.tbsCertificate),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {\r\n                    names: {\r\n                        blockName: SIGNATURE_ALGORITHM$5\r\n                    }\r\n                }),\r\n                new asn1js.BitString({ name: (names.signatureValue || SIGNATURE_VALUE$2) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$Q);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Certificate.schema({\r\n            names: {\r\n                tbsCertificate: {\r\n                    names: {\r\n                        extensions: {\r\n                            names: {\r\n                                extensions: TBS_CERTIFICATE_EXTENSIONS\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsView = asn1.result.tbsCertificate.valueBeforeDecodeView;\r\n        if (TBS_CERTIFICATE_VERSION in asn1.result)\r\n            this.version = asn1.result[TBS_CERTIFICATE_VERSION].valueBlock.valueDec;\r\n        this.serialNumber = asn1.result[TBS_CERTIFICATE_SERIAL_NUMBER];\r\n        this.signature = new AlgorithmIdentifier({ schema: asn1.result[TBS_CERTIFICATE_SIGNATURE] });\r\n        this.issuer = new RelativeDistinguishedNames({ schema: asn1.result[TBS_CERTIFICATE_ISSUER] });\r\n        this.notBefore = new Time({ schema: asn1.result[TBS_CERTIFICATE_NOT_BEFORE] });\r\n        this.notAfter = new Time({ schema: asn1.result[TBS_CERTIFICATE_NOT_AFTER] });\r\n        this.subject = new RelativeDistinguishedNames({ schema: asn1.result[TBS_CERTIFICATE_SUBJECT] });\r\n        this.subjectPublicKeyInfo = new PublicKeyInfo({ schema: asn1.result[TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY] });\r\n        if (TBS_CERTIFICATE_ISSUER_UNIQUE_ID in asn1.result)\r\n            this.issuerUniqueID = asn1.result[TBS_CERTIFICATE_ISSUER_UNIQUE_ID].valueBlock.valueHex;\r\n        if (TBS_CERTIFICATE_SUBJECT_UNIQUE_ID in asn1.result)\r\n            this.subjectUniqueID = asn1.result[TBS_CERTIFICATE_SUBJECT_UNIQUE_ID].valueBlock.valueHex;\r\n        if (TBS_CERTIFICATE_EXTENSIONS in asn1.result)\r\n            this.extensions = Array.from(asn1.result[TBS_CERTIFICATE_EXTENSIONS], element => new Extension({ schema: element }));\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signatureValue = asn1.result.signatureValue;\r\n    }\r\n    encodeTBS() {\r\n        const outputArray = [];\r\n        if ((VERSION$f in this) && (this.version !== Certificate.defaultValues(VERSION$f))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Integer({ value: this.version })\r\n                ]\r\n            }));\r\n        }\r\n        outputArray.push(this.serialNumber);\r\n        outputArray.push(this.signature.toSchema());\r\n        outputArray.push(this.issuer.toSchema());\r\n        outputArray.push(new asn1js.Sequence({\r\n            value: [\r\n                this.notBefore.toSchema(),\r\n                this.notAfter.toSchema()\r\n            ]\r\n        }));\r\n        outputArray.push(this.subject.toSchema());\r\n        outputArray.push(this.subjectPublicKeyInfo.toSchema());\r\n        if (this.issuerUniqueID) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                valueHex: this.issuerUniqueID\r\n            }));\r\n        }\r\n        if (this.subjectUniqueID) {\r\n            outputArray.push(new asn1js.Primitive({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                valueHex: this.subjectUniqueID\r\n            }));\r\n        }\r\n        if (this.extensions) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 3\r\n                },\r\n                value: [new asn1js.Sequence({\r\n                        value: Array.from(this.extensions, o => o.toSchema())\r\n                    })]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        let tbsSchema;\r\n        if (encodeFlag === false) {\r\n            if (!this.tbsView.byteLength) {\r\n                return Certificate.schema().value[0];\r\n            }\r\n            const asn1 = asn1js.fromBER(this.tbsView);\r\n            AsnError.assert(asn1, \"TBS Certificate\");\r\n            tbsSchema = asn1.result;\r\n        }\r\n        else {\r\n            tbsSchema = this.encodeTBS();\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                tbsSchema,\r\n                this.signatureAlgorithm.toSchema(),\r\n                this.signatureValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            tbs: pvtsutils.Convert.ToHex(this.tbsView),\r\n            version: this.version,\r\n            serialNumber: this.serialNumber.toJSON(),\r\n            signature: this.signature.toJSON(),\r\n            issuer: this.issuer.toJSON(),\r\n            notBefore: this.notBefore.toJSON(),\r\n            notAfter: this.notAfter.toJSON(),\r\n            subject: this.subject.toJSON(),\r\n            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signatureValue: this.signatureValue.toJSON(),\r\n        };\r\n        if ((VERSION$f in this) && (this.version !== Certificate.defaultValues(VERSION$f))) {\r\n            res.version = this.version;\r\n        }\r\n        if (this.issuerUniqueID) {\r\n            res.issuerUniqueID = pvtsutils.Convert.ToHex(this.issuerUniqueID);\r\n        }\r\n        if (this.subjectUniqueID) {\r\n            res.subjectUniqueID = pvtsutils.Convert.ToHex(this.subjectUniqueID);\r\n        }\r\n        if (this.extensions) {\r\n            res.extensions = Array.from(this.extensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n    async getPublicKey(parameters, crypto = getCrypto(true)) {\r\n        return crypto.getPublicKey(this.subjectPublicKeyInfo, this.signatureAlgorithm, parameters);\r\n    }\r\n    async getKeyHash(hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        return crypto.digest({ name: hashAlgorithm }, this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);\r\n    }\r\n    async sign(privateKey, hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        if (!privateKey) {\r\n            throw new Error(\"Need to provide a private key for signing\");\r\n        }\r\n        const signatureParameters = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const parameters = signatureParameters.parameters;\r\n        this.signature = signatureParameters.signatureAlgorithm;\r\n        this.signatureAlgorithm = signatureParameters.signatureAlgorithm;\r\n        this.tbsView = new Uint8Array(this.encodeTBS().toBER());\r\n        const signature = await crypto.signWithPrivateKey(this.tbsView, privateKey, parameters);\r\n        this.signatureValue = new asn1js.BitString({ valueHex: signature });\r\n    }\r\n    async verify(issuerCertificate, crypto = getCrypto(true)) {\r\n        let subjectPublicKeyInfo;\r\n        if (issuerCertificate) {\r\n            subjectPublicKeyInfo = issuerCertificate.subjectPublicKeyInfo;\r\n        }\r\n        else if (this.issuer.isEqual(this.subject)) {\r\n            subjectPublicKeyInfo = this.subjectPublicKeyInfo;\r\n        }\r\n        if (!(subjectPublicKeyInfo instanceof PublicKeyInfo)) {\r\n            throw new Error(\"Please provide issuer certificate as a parameter\");\r\n        }\r\n        return crypto.verifyWithPublicKey(this.tbsView, this.signatureValue, subjectPublicKeyInfo, this.signatureAlgorithm);\r\n    }\r\n}\r\nCertificate.CLASS_NAME = \"Certificate\";\r\nfunction checkCA(cert, signerCert = null) {\r\n    if (signerCert && cert.issuer.isEqual(signerCert.issuer) && cert.serialNumber.isEqual(signerCert.serialNumber)) {\r\n        return null;\r\n    }\r\n    let isCA = false;\r\n    if (cert.extensions) {\r\n        for (const extension of cert.extensions) {\r\n            if (extension.extnID === id_BasicConstraints && extension.parsedValue instanceof BasicConstraints) {\r\n                if (extension.parsedValue.cA) {\r\n                    isCA = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (isCA) {\r\n        return cert;\r\n    }\r\n    return null;\r\n}\n\nconst CERT_ID$1 = \"certId\";\r\nconst CERT_VALUE = \"certValue\";\r\nconst PARSED_VALUE$4 = \"parsedValue\";\r\nconst CLEAR_PROPS$P = [\r\n    CERT_ID$1,\r\n    CERT_VALUE\r\n];\r\nclass CertBag extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.certId = pvutils.getParametersValue(parameters, CERT_ID$1, CertBag.defaultValues(CERT_ID$1));\r\n        this.certValue = pvutils.getParametersValue(parameters, CERT_VALUE, CertBag.defaultValues(CERT_VALUE));\r\n        if (PARSED_VALUE$4 in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE$4, CertBag.defaultValues(PARSED_VALUE$4));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERT_ID$1:\r\n                return EMPTY_STRING;\r\n            case CERT_VALUE:\r\n                return (new asn1js.Any());\r\n            case PARSED_VALUE$4:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CERT_ID$1:\r\n                return (memberValue === EMPTY_STRING);\r\n            case CERT_VALUE:\r\n                return (memberValue instanceof asn1js.Any);\r\n            case PARSED_VALUE$4:\r\n                return ((memberValue instanceof Object) && (Object.keys(memberValue).length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.id || \"id\") }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Any({ name: (names.value || \"value\") })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$P);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertBag.schema({\r\n            names: {\r\n                id: CERT_ID$1,\r\n                value: CERT_VALUE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.certId = asn1.result.certId.valueBlock.toString();\r\n        this.certValue = asn1.result.certValue;\r\n        const certValueHex = this.certValue.valueBlock.valueHexView;\r\n        switch (this.certId) {\r\n            case id_CertBag_X509Certificate:\r\n                {\r\n                    try {\r\n                        this.parsedValue = Certificate.fromBER(certValueHex);\r\n                    }\r\n                    catch (ex) {\r\n                        AttributeCertificateV2.fromBER(certValueHex);\r\n                    }\r\n                }\r\n                break;\r\n            case id_CertBag_AttributeCertificate:\r\n                {\r\n                    this.parsedValue = AttributeCertificateV2.fromBER(certValueHex);\r\n                }\r\n                break;\r\n            case id_CertBag_SDSICertificate:\r\n            default:\r\n                throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`);\r\n        }\r\n    }\r\n    toSchema() {\r\n        if (PARSED_VALUE$4 in this) {\r\n            if (\"acinfo\" in this.parsedValue) {\r\n                this.certId = id_CertBag_AttributeCertificate;\r\n            }\r\n            else {\r\n                this.certId = id_CertBag_X509Certificate;\r\n            }\r\n            this.certValue = new asn1js.OctetString({ valueHex: this.parsedValue.toSchema().toBER(false) });\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.certId }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [((\"toSchema\" in this.certValue) ? this.certValue.toSchema() : this.certValue)]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            certId: this.certId,\r\n            certValue: this.certValue.toJSON()\r\n        };\r\n    }\r\n}\r\nCertBag.CLASS_NAME = \"CertBag\";\n\nconst USER_CERTIFICATE = \"userCertificate\";\r\nconst REVOCATION_DATE = \"revocationDate\";\r\nconst CRL_ENTRY_EXTENSIONS = \"crlEntryExtensions\";\r\nconst CLEAR_PROPS$O = [\r\n    USER_CERTIFICATE,\r\n    REVOCATION_DATE,\r\n    CRL_ENTRY_EXTENSIONS\r\n];\r\nclass RevokedCertificate extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.userCertificate = pvutils.getParametersValue(parameters, USER_CERTIFICATE, RevokedCertificate.defaultValues(USER_CERTIFICATE));\r\n        this.revocationDate = pvutils.getParametersValue(parameters, REVOCATION_DATE, RevokedCertificate.defaultValues(REVOCATION_DATE));\r\n        if (CRL_ENTRY_EXTENSIONS in parameters) {\r\n            this.crlEntryExtensions = pvutils.getParametersValue(parameters, CRL_ENTRY_EXTENSIONS, RevokedCertificate.defaultValues(CRL_ENTRY_EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case USER_CERTIFICATE:\r\n                return new asn1js.Integer();\r\n            case REVOCATION_DATE:\r\n                return new Time();\r\n            case CRL_ENTRY_EXTENSIONS:\r\n                return new Extensions();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.userCertificate || USER_CERTIFICATE) }),\r\n                Time.schema({\r\n                    names: {\r\n                        utcTimeName: (names.revocationDate || REVOCATION_DATE),\r\n                        generalTimeName: (names.revocationDate || REVOCATION_DATE)\r\n                    }\r\n                }),\r\n                Extensions.schema({\r\n                    names: {\r\n                        blockName: (names.crlEntryExtensions || CRL_ENTRY_EXTENSIONS)\r\n                    }\r\n                }, true)\r\n            ]\r\n        });\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$O);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RevokedCertificate.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.userCertificate = asn1.result.userCertificate;\r\n        this.revocationDate = new Time({ schema: asn1.result.revocationDate });\r\n        if (CRL_ENTRY_EXTENSIONS in asn1.result) {\r\n            this.crlEntryExtensions = new Extensions({ schema: asn1.result.crlEntryExtensions });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            this.userCertificate,\r\n            this.revocationDate.toSchema()\r\n        ];\r\n        if (this.crlEntryExtensions) {\r\n            outputArray.push(this.crlEntryExtensions.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            userCertificate: this.userCertificate.toJSON(),\r\n            revocationDate: this.revocationDate.toJSON(),\r\n        };\r\n        if (this.crlEntryExtensions) {\r\n            res.crlEntryExtensions = this.crlEntryExtensions.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRevokedCertificate.CLASS_NAME = \"RevokedCertificate\";\n\nconst TBS$3 = \"tbs\";\r\nconst VERSION$e = \"version\";\r\nconst SIGNATURE$3 = \"signature\";\r\nconst ISSUER$1 = \"issuer\";\r\nconst THIS_UPDATE$1 = \"thisUpdate\";\r\nconst NEXT_UPDATE$1 = \"nextUpdate\";\r\nconst REVOKED_CERTIFICATES = \"revokedCertificates\";\r\nconst CRL_EXTENSIONS = \"crlExtensions\";\r\nconst SIGNATURE_ALGORITHM$4 = \"signatureAlgorithm\";\r\nconst SIGNATURE_VALUE$1 = \"signatureValue\";\r\nconst TBS_CERT_LIST = \"tbsCertList\";\r\nconst TBS_CERT_LIST_VERSION = `${TBS_CERT_LIST}.version`;\r\nconst TBS_CERT_LIST_SIGNATURE = `${TBS_CERT_LIST}.signature`;\r\nconst TBS_CERT_LIST_ISSUER = `${TBS_CERT_LIST}.issuer`;\r\nconst TBS_CERT_LIST_THIS_UPDATE = `${TBS_CERT_LIST}.thisUpdate`;\r\nconst TBS_CERT_LIST_NEXT_UPDATE = `${TBS_CERT_LIST}.nextUpdate`;\r\nconst TBS_CERT_LIST_REVOKED_CERTIFICATES = `${TBS_CERT_LIST}.revokedCertificates`;\r\nconst TBS_CERT_LIST_EXTENSIONS = `${TBS_CERT_LIST}.extensions`;\r\nconst CLEAR_PROPS$N = [\r\n    TBS_CERT_LIST,\r\n    TBS_CERT_LIST_VERSION,\r\n    TBS_CERT_LIST_SIGNATURE,\r\n    TBS_CERT_LIST_ISSUER,\r\n    TBS_CERT_LIST_THIS_UPDATE,\r\n    TBS_CERT_LIST_NEXT_UPDATE,\r\n    TBS_CERT_LIST_REVOKED_CERTIFICATES,\r\n    TBS_CERT_LIST_EXTENSIONS,\r\n    SIGNATURE_ALGORITHM$4,\r\n    SIGNATURE_VALUE$1\r\n];\r\nfunction tbsCertList(parameters = {}) {\r\n    const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n    return (new asn1js.Sequence({\r\n        name: (names.blockName || TBS_CERT_LIST),\r\n        value: [\r\n            new asn1js.Integer({\r\n                optional: true,\r\n                name: (names.tbsCertListVersion || TBS_CERT_LIST_VERSION),\r\n                value: 2\r\n            }),\r\n            AlgorithmIdentifier.schema(names.signature || {\r\n                names: {\r\n                    blockName: TBS_CERT_LIST_SIGNATURE\r\n                }\r\n            }),\r\n            RelativeDistinguishedNames.schema(names.issuer || {\r\n                names: {\r\n                    blockName: TBS_CERT_LIST_ISSUER\r\n                }\r\n            }),\r\n            Time.schema(names.tbsCertListThisUpdate || {\r\n                names: {\r\n                    utcTimeName: TBS_CERT_LIST_THIS_UPDATE,\r\n                    generalTimeName: TBS_CERT_LIST_THIS_UPDATE\r\n                }\r\n            }),\r\n            Time.schema(names.tbsCertListNextUpdate || {\r\n                names: {\r\n                    utcTimeName: TBS_CERT_LIST_NEXT_UPDATE,\r\n                    generalTimeName: TBS_CERT_LIST_NEXT_UPDATE\r\n                }\r\n            }, true),\r\n            new asn1js.Sequence({\r\n                optional: true,\r\n                value: [\r\n                    new asn1js.Repeated({\r\n                        name: (names.tbsCertListRevokedCertificates || TBS_CERT_LIST_REVOKED_CERTIFICATES),\r\n                        value: new asn1js.Sequence({\r\n                            value: [\r\n                                new asn1js.Integer(),\r\n                                Time.schema(),\r\n                                Extensions.schema({}, true)\r\n                            ]\r\n                        })\r\n                    })\r\n                ]\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [Extensions.schema(names.crlExtensions || {\r\n                        names: {\r\n                            blockName: TBS_CERT_LIST_EXTENSIONS\r\n                        }\r\n                    })]\r\n            })\r\n        ]\r\n    }));\r\n}\r\nconst WELL_KNOWN_EXTENSIONS = [\r\n    id_AuthorityKeyIdentifier,\r\n    id_IssuerAltName,\r\n    id_CRLNumber,\r\n    id_BaseCRLNumber,\r\n    id_IssuingDistributionPoint,\r\n    id_FreshestCRL,\r\n    id_AuthorityInfoAccess,\r\n    id_CRLReason,\r\n    id_InvalidityDate,\r\n    id_CertificateIssuer,\r\n];\r\nclass CertificateRevocationList extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsView = new Uint8Array(pvutils.getParametersValue(parameters, TBS$3, CertificateRevocationList.defaultValues(TBS$3)));\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$e, CertificateRevocationList.defaultValues(VERSION$e));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$3, CertificateRevocationList.defaultValues(SIGNATURE$3));\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER$1, CertificateRevocationList.defaultValues(ISSUER$1));\r\n        this.thisUpdate = pvutils.getParametersValue(parameters, THIS_UPDATE$1, CertificateRevocationList.defaultValues(THIS_UPDATE$1));\r\n        if (NEXT_UPDATE$1 in parameters) {\r\n            this.nextUpdate = pvutils.getParametersValue(parameters, NEXT_UPDATE$1, CertificateRevocationList.defaultValues(NEXT_UPDATE$1));\r\n        }\r\n        if (REVOKED_CERTIFICATES in parameters) {\r\n            this.revokedCertificates = pvutils.getParametersValue(parameters, REVOKED_CERTIFICATES, CertificateRevocationList.defaultValues(REVOKED_CERTIFICATES));\r\n        }\r\n        if (CRL_EXTENSIONS in parameters) {\r\n            this.crlExtensions = pvutils.getParametersValue(parameters, CRL_EXTENSIONS, CertificateRevocationList.defaultValues(CRL_EXTENSIONS));\r\n        }\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$4, CertificateRevocationList.defaultValues(SIGNATURE_ALGORITHM$4));\r\n        this.signatureValue = pvutils.getParametersValue(parameters, SIGNATURE_VALUE$1, CertificateRevocationList.defaultValues(SIGNATURE_VALUE$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get tbs() {\r\n        return pvtsutils.BufferSourceConverter.toArrayBuffer(this.tbsView);\r\n    }\r\n    set tbs(value) {\r\n        this.tbsView = new Uint8Array(value);\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS$3:\r\n                return EMPTY_BUFFER;\r\n            case VERSION$e:\r\n                return 0;\r\n            case SIGNATURE$3:\r\n                return new AlgorithmIdentifier();\r\n            case ISSUER$1:\r\n                return new RelativeDistinguishedNames();\r\n            case THIS_UPDATE$1:\r\n                return new Time();\r\n            case NEXT_UPDATE$1:\r\n                return new Time();\r\n            case REVOKED_CERTIFICATES:\r\n                return [];\r\n            case CRL_EXTENSIONS:\r\n                return new Extensions();\r\n            case SIGNATURE_ALGORITHM$4:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE_VALUE$1:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || \"CertificateList\"),\r\n            value: [\r\n                tbsCertList(parameters),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {\r\n                    names: {\r\n                        blockName: SIGNATURE_ALGORITHM$4\r\n                    }\r\n                }),\r\n                new asn1js.BitString({ name: (names.signatureValue || SIGNATURE_VALUE$1) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$N);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertificateRevocationList.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsView = asn1.result.tbsCertList.valueBeforeDecodeView;\r\n        if (TBS_CERT_LIST_VERSION in asn1.result) {\r\n            this.version = asn1.result[TBS_CERT_LIST_VERSION].valueBlock.valueDec;\r\n        }\r\n        this.signature = new AlgorithmIdentifier({ schema: asn1.result[TBS_CERT_LIST_SIGNATURE] });\r\n        this.issuer = new RelativeDistinguishedNames({ schema: asn1.result[TBS_CERT_LIST_ISSUER] });\r\n        this.thisUpdate = new Time({ schema: asn1.result[TBS_CERT_LIST_THIS_UPDATE] });\r\n        if (TBS_CERT_LIST_NEXT_UPDATE in asn1.result) {\r\n            this.nextUpdate = new Time({ schema: asn1.result[TBS_CERT_LIST_NEXT_UPDATE] });\r\n        }\r\n        if (TBS_CERT_LIST_REVOKED_CERTIFICATES in asn1.result) {\r\n            this.revokedCertificates = Array.from(asn1.result[TBS_CERT_LIST_REVOKED_CERTIFICATES], element => new RevokedCertificate({ schema: element }));\r\n        }\r\n        if (TBS_CERT_LIST_EXTENSIONS in asn1.result) {\r\n            this.crlExtensions = new Extensions({ schema: asn1.result[TBS_CERT_LIST_EXTENSIONS] });\r\n        }\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signatureValue = asn1.result.signatureValue;\r\n    }\r\n    encodeTBS() {\r\n        const outputArray = [];\r\n        if (this.version !== CertificateRevocationList.defaultValues(VERSION$e)) {\r\n            outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        }\r\n        outputArray.push(this.signature.toSchema());\r\n        outputArray.push(this.issuer.toSchema());\r\n        outputArray.push(this.thisUpdate.toSchema());\r\n        if (this.nextUpdate) {\r\n            outputArray.push(this.nextUpdate.toSchema());\r\n        }\r\n        if (this.revokedCertificates) {\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.revokedCertificates, o => o.toSchema())\r\n            }));\r\n        }\r\n        if (this.crlExtensions) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    this.crlExtensions.toSchema()\r\n                ]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        let tbsSchema;\r\n        if (!encodeFlag) {\r\n            if (!this.tbsView.byteLength) {\r\n                return CertificateRevocationList.schema();\r\n            }\r\n            const asn1 = asn1js.fromBER(this.tbsView);\r\n            AsnError.assert(asn1, \"TBS Certificate Revocation List\");\r\n            tbsSchema = asn1.result;\r\n        }\r\n        else {\r\n            tbsSchema = this.encodeTBS();\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                tbsSchema,\r\n                this.signatureAlgorithm.toSchema(),\r\n                this.signatureValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            tbs: pvtsutils.Convert.ToHex(this.tbsView),\r\n            version: this.version,\r\n            signature: this.signature.toJSON(),\r\n            issuer: this.issuer.toJSON(),\r\n            thisUpdate: this.thisUpdate.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signatureValue: this.signatureValue.toJSON()\r\n        };\r\n        if (this.version !== CertificateRevocationList.defaultValues(VERSION$e))\r\n            res.version = this.version;\r\n        if (this.nextUpdate) {\r\n            res.nextUpdate = this.nextUpdate.toJSON();\r\n        }\r\n        if (this.revokedCertificates) {\r\n            res.revokedCertificates = Array.from(this.revokedCertificates, o => o.toJSON());\r\n        }\r\n        if (this.crlExtensions) {\r\n            res.crlExtensions = this.crlExtensions.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n    isCertificateRevoked(certificate) {\r\n        if (!this.issuer.isEqual(certificate.issuer)) {\r\n            return false;\r\n        }\r\n        if (!this.revokedCertificates) {\r\n            return false;\r\n        }\r\n        for (const revokedCertificate of this.revokedCertificates) {\r\n            if (revokedCertificate.userCertificate.isEqual(certificate.serialNumber)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    async sign(privateKey, hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        if (!privateKey) {\r\n            throw new Error(\"Need to provide a private key for signing\");\r\n        }\r\n        const signatureParameters = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const { parameters } = signatureParameters;\r\n        this.signature = signatureParameters.signatureAlgorithm;\r\n        this.signatureAlgorithm = signatureParameters.signatureAlgorithm;\r\n        this.tbsView = new Uint8Array(this.encodeTBS().toBER());\r\n        const signature = await crypto.signWithPrivateKey(this.tbsView, privateKey, parameters);\r\n        this.signatureValue = new asn1js.BitString({ valueHex: signature });\r\n    }\r\n    async verify(parameters = {}, crypto = getCrypto(true)) {\r\n        let subjectPublicKeyInfo;\r\n        if (parameters.issuerCertificate) {\r\n            subjectPublicKeyInfo = parameters.issuerCertificate.subjectPublicKeyInfo;\r\n            if (!this.issuer.isEqual(parameters.issuerCertificate.subject)) {\r\n                return false;\r\n            }\r\n        }\r\n        if (parameters.publicKeyInfo) {\r\n            subjectPublicKeyInfo = parameters.publicKeyInfo;\r\n        }\r\n        if (!subjectPublicKeyInfo) {\r\n            throw new Error(\"Issuer's certificate must be provided as an input parameter\");\r\n        }\r\n        if (this.crlExtensions) {\r\n            for (const extension of this.crlExtensions.extensions) {\r\n                if (extension.critical) {\r\n                    if (!WELL_KNOWN_EXTENSIONS.includes(extension.extnID))\r\n                        return false;\r\n                }\r\n            }\r\n        }\r\n        return crypto.verifyWithPublicKey(this.tbsView, this.signatureValue, subjectPublicKeyInfo, this.signatureAlgorithm);\r\n    }\r\n}\r\nCertificateRevocationList.CLASS_NAME = \"CertificateRevocationList\";\n\nconst CRL_ID = \"crlId\";\r\nconst CRL_VALUE = \"crlValue\";\r\nconst PARSED_VALUE$3 = \"parsedValue\";\r\nconst CLEAR_PROPS$M = [\r\n    CRL_ID,\r\n    CRL_VALUE,\r\n];\r\nclass CRLBag extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.crlId = pvutils.getParametersValue(parameters, CRL_ID, CRLBag.defaultValues(CRL_ID));\r\n        this.crlValue = pvutils.getParametersValue(parameters, CRL_VALUE, CRLBag.defaultValues(CRL_VALUE));\r\n        if (PARSED_VALUE$3 in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE$3, CRLBag.defaultValues(PARSED_VALUE$3));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CRL_ID:\r\n                return EMPTY_STRING;\r\n            case CRL_VALUE:\r\n                return (new asn1js.Any());\r\n            case PARSED_VALUE$3:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CRL_ID:\r\n                return (memberValue === EMPTY_STRING);\r\n            case CRL_VALUE:\r\n                return (memberValue instanceof asn1js.Any);\r\n            case PARSED_VALUE$3:\r\n                return ((memberValue instanceof Object) && (Object.keys(memberValue).length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.id || \"id\") }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Any({ name: (names.value || \"value\") })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$M);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CRLBag.schema({\r\n            names: {\r\n                id: CRL_ID,\r\n                value: CRL_VALUE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.crlId = asn1.result.crlId.valueBlock.toString();\r\n        this.crlValue = asn1.result.crlValue;\r\n        switch (this.crlId) {\r\n            case id_CRLBag_X509CRL:\r\n                {\r\n                    this.parsedValue = CertificateRevocationList.fromBER(this.certValue.valueBlock.valueHex);\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`);\r\n        }\r\n    }\r\n    toSchema() {\r\n        if (this.parsedValue) {\r\n            this.crlId = id_CRLBag_X509CRL;\r\n            this.crlValue = new asn1js.OctetString({ valueHex: this.parsedValue.toSchema().toBER(false) });\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.crlId }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [this.crlValue.toSchema()]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            crlId: this.crlId,\r\n            crlValue: this.crlValue.toJSON()\r\n        };\r\n    }\r\n}\r\nCRLBag.CLASS_NAME = \"CRLBag\";\n\nconst VERSION$d = \"version\";\r\nconst ENCRYPTED_CONTENT_INFO$1 = \"encryptedContentInfo\";\r\nconst UNPROTECTED_ATTRS$1 = \"unprotectedAttrs\";\r\nconst CLEAR_PROPS$L = [\r\n    VERSION$d,\r\n    ENCRYPTED_CONTENT_INFO$1,\r\n    UNPROTECTED_ATTRS$1,\r\n];\r\nclass EncryptedData extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$d, EncryptedData.defaultValues(VERSION$d));\r\n        this.encryptedContentInfo = pvutils.getParametersValue(parameters, ENCRYPTED_CONTENT_INFO$1, EncryptedData.defaultValues(ENCRYPTED_CONTENT_INFO$1));\r\n        if (UNPROTECTED_ATTRS$1 in parameters) {\r\n            this.unprotectedAttrs = pvutils.getParametersValue(parameters, UNPROTECTED_ATTRS$1, EncryptedData.defaultValues(UNPROTECTED_ATTRS$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$d:\r\n                return 0;\r\n            case ENCRYPTED_CONTENT_INFO$1:\r\n                return new EncryptedContentInfo();\r\n            case UNPROTECTED_ATTRS$1:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$d:\r\n                return (memberValue === 0);\r\n            case ENCRYPTED_CONTENT_INFO$1:\r\n                return ((EncryptedContentInfo.compareWithDefault(\"contentType\", memberValue.contentType)) &&\r\n                    (EncryptedContentInfo.compareWithDefault(\"contentEncryptionAlgorithm\", memberValue.contentEncryptionAlgorithm)) &&\r\n                    (EncryptedContentInfo.compareWithDefault(\"encryptedContent\", memberValue.encryptedContent)));\r\n            case UNPROTECTED_ATTRS$1:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                EncryptedContentInfo.schema(names.encryptedContentInfo || {}),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.unprotectedAttrs || EMPTY_STRING),\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$L);\r\n        const asn1 = asn1js.compareSchema(schema, schema, EncryptedData.schema({\r\n            names: {\r\n                version: VERSION$d,\r\n                encryptedContentInfo: {\r\n                    names: {\r\n                        blockName: ENCRYPTED_CONTENT_INFO$1\r\n                    }\r\n                },\r\n                unprotectedAttrs: UNPROTECTED_ATTRS$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.encryptedContentInfo = new EncryptedContentInfo({ schema: asn1.result.encryptedContentInfo });\r\n        if (UNPROTECTED_ATTRS$1 in asn1.result)\r\n            this.unprotectedAttrs = Array.from(asn1.result.unprotectedAttrs, element => new Attribute({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(this.encryptedContentInfo.toSchema());\r\n        if (this.unprotectedAttrs) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.unprotectedAttrs, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            encryptedContentInfo: this.encryptedContentInfo.toJSON()\r\n        };\r\n        if (this.unprotectedAttrs)\r\n            res.unprotectedAttrs = Array.from(this.unprotectedAttrs, o => o.toJSON());\r\n        return res;\r\n    }\r\n    async encrypt(parameters) {\r\n        ArgumentError.assert(parameters, \"parameters\", \"object\");\r\n        const encryptParams = {\r\n            ...parameters,\r\n            contentType: \"1.2.840.113549.1.7.1\",\r\n        };\r\n        this.encryptedContentInfo = await getCrypto(true).encryptEncryptedContentInfo(encryptParams);\r\n    }\r\n    async decrypt(parameters, crypto = getCrypto(true)) {\r\n        ArgumentError.assert(parameters, \"parameters\", \"object\");\r\n        const decryptParams = {\r\n            ...parameters,\r\n            encryptedContentInfo: this.encryptedContentInfo,\r\n        };\r\n        return crypto.decryptEncryptedContentInfo(decryptParams);\r\n    }\r\n}\r\nEncryptedData.CLASS_NAME = \"EncryptedData\";\n\nconst ENCRYPTION_ALGORITHM = \"encryptionAlgorithm\";\r\nconst ENCRYPTED_DATA = \"encryptedData\";\r\nconst PARSED_VALUE$2 = \"parsedValue\";\r\nconst CLEAR_PROPS$K = [\r\n    ENCRYPTION_ALGORITHM,\r\n    ENCRYPTED_DATA,\r\n];\r\nclass PKCS8ShroudedKeyBag extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.encryptionAlgorithm = pvutils.getParametersValue(parameters, ENCRYPTION_ALGORITHM, PKCS8ShroudedKeyBag.defaultValues(ENCRYPTION_ALGORITHM));\r\n        this.encryptedData = pvutils.getParametersValue(parameters, ENCRYPTED_DATA, PKCS8ShroudedKeyBag.defaultValues(ENCRYPTED_DATA));\r\n        if (PARSED_VALUE$2 in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE$2, PKCS8ShroudedKeyBag.defaultValues(PARSED_VALUE$2));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ENCRYPTION_ALGORITHM:\r\n                return (new AlgorithmIdentifier());\r\n            case ENCRYPTED_DATA:\r\n                return (new asn1js.OctetString());\r\n            case PARSED_VALUE$2:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ENCRYPTION_ALGORITHM:\r\n                return ((AlgorithmIdentifier.compareWithDefault(\"algorithmId\", memberValue.algorithmId)) &&\r\n                    ((\"algorithmParams\" in memberValue) === false));\r\n            case ENCRYPTED_DATA:\r\n                return (memberValue.isEqual(PKCS8ShroudedKeyBag.defaultValues(memberName)));\r\n            case PARSED_VALUE$2:\r\n                return ((memberValue instanceof Object) && (Object.keys(memberValue).length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.encryptionAlgorithm || {\r\n                    names: {\r\n                        blockName: ENCRYPTION_ALGORITHM\r\n                    }\r\n                }),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.OctetString({ name: (names.encryptedData || ENCRYPTED_DATA) }),\r\n                        new asn1js.OctetString({\r\n                            idBlock: {\r\n                                isConstructed: true\r\n                            },\r\n                            name: (names.encryptedData || ENCRYPTED_DATA)\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$K);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PKCS8ShroudedKeyBag.schema({\r\n            names: {\r\n                encryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: ENCRYPTION_ALGORITHM\r\n                    }\r\n                },\r\n                encryptedData: ENCRYPTED_DATA\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.encryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.encryptionAlgorithm });\r\n        this.encryptedData = asn1.result.encryptedData;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.encryptionAlgorithm.toSchema(),\r\n                this.encryptedData\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            encryptionAlgorithm: this.encryptionAlgorithm.toJSON(),\r\n            encryptedData: this.encryptedData.toJSON(),\r\n        };\r\n    }\r\n    async parseInternalValues(parameters, crypto = getCrypto(true)) {\r\n        const cmsEncrypted = new EncryptedData({\r\n            encryptedContentInfo: new EncryptedContentInfo({\r\n                contentEncryptionAlgorithm: this.encryptionAlgorithm,\r\n                encryptedContent: this.encryptedData\r\n            })\r\n        });\r\n        const decryptedData = await cmsEncrypted.decrypt(parameters, crypto);\r\n        this.parsedValue = PrivateKeyInfo.fromBER(decryptedData);\r\n    }\r\n    async makeInternalValues(parameters) {\r\n        if (!this.parsedValue) {\r\n            throw new Error(\"Please initialize \\\"parsedValue\\\" first\");\r\n        }\r\n        const cmsEncrypted = new EncryptedData();\r\n        const encryptParams = {\r\n            ...parameters,\r\n            contentToEncrypt: this.parsedValue.toSchema().toBER(false),\r\n        };\r\n        await cmsEncrypted.encrypt(encryptParams);\r\n        if (!cmsEncrypted.encryptedContentInfo.encryptedContent) {\r\n            throw new Error(\"The filed `encryptedContent` in EncryptedContentInfo is empty\");\r\n        }\r\n        this.encryptionAlgorithm = cmsEncrypted.encryptedContentInfo.contentEncryptionAlgorithm;\r\n        this.encryptedData = cmsEncrypted.encryptedContentInfo.encryptedContent;\r\n    }\r\n}\r\nPKCS8ShroudedKeyBag.CLASS_NAME = \"PKCS8ShroudedKeyBag\";\n\nconst SECRET_TYPE_ID = \"secretTypeId\";\r\nconst SECRET_VALUE = \"secretValue\";\r\nconst CLEAR_PROPS$J = [\r\n    SECRET_TYPE_ID,\r\n    SECRET_VALUE,\r\n];\r\nclass SecretBag extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.secretTypeId = pvutils.getParametersValue(parameters, SECRET_TYPE_ID, SecretBag.defaultValues(SECRET_TYPE_ID));\r\n        this.secretValue = pvutils.getParametersValue(parameters, SECRET_VALUE, SecretBag.defaultValues(SECRET_VALUE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SECRET_TYPE_ID:\r\n                return EMPTY_STRING;\r\n            case SECRET_VALUE:\r\n                return (new asn1js.Any());\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SECRET_TYPE_ID:\r\n                return (memberValue === EMPTY_STRING);\r\n            case SECRET_VALUE:\r\n                return (memberValue instanceof asn1js.Any);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.id || \"id\") }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Any({ name: (names.value || \"value\") })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$J);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SecretBag.schema({\r\n            names: {\r\n                id: SECRET_TYPE_ID,\r\n                value: SECRET_VALUE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.secretTypeId = asn1.result.secretTypeId.valueBlock.toString();\r\n        this.secretValue = asn1.result.secretValue;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.secretTypeId }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [this.secretValue.toSchema()]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            secretTypeId: this.secretTypeId,\r\n            secretValue: this.secretValue.toJSON()\r\n        };\r\n    }\r\n}\r\nSecretBag.CLASS_NAME = \"SecretBag\";\n\nclass SafeBagValueFactory {\r\n    static getItems() {\r\n        if (!this.items) {\r\n            this.items = {};\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.1\", PrivateKeyInfo);\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.2\", PKCS8ShroudedKeyBag);\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.3\", CertBag);\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.4\", CRLBag);\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.5\", SecretBag);\r\n            SafeBagValueFactory.register(\"1.2.840.113549.1.12.10.1.6\", SafeContents);\r\n        }\r\n        return this.items;\r\n    }\r\n    static register(id, type) {\r\n        this.getItems()[id] = type;\r\n    }\r\n    static find(id) {\r\n        return this.getItems()[id] || null;\r\n    }\r\n}\n\nconst BAG_ID = \"bagId\";\r\nconst BAG_VALUE = \"bagValue\";\r\nconst BAG_ATTRIBUTES = \"bagAttributes\";\r\nconst CLEAR_PROPS$I = [\r\n    BAG_ID,\r\n    BAG_VALUE,\r\n    BAG_ATTRIBUTES\r\n];\r\nclass SafeBag extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.bagId = pvutils.getParametersValue(parameters, BAG_ID, SafeBag.defaultValues(BAG_ID));\r\n        this.bagValue = pvutils.getParametersValue(parameters, BAG_VALUE, SafeBag.defaultValues(BAG_VALUE));\r\n        if (BAG_ATTRIBUTES in parameters) {\r\n            this.bagAttributes = pvutils.getParametersValue(parameters, BAG_ATTRIBUTES, SafeBag.defaultValues(BAG_ATTRIBUTES));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case BAG_ID:\r\n                return EMPTY_STRING;\r\n            case BAG_VALUE:\r\n                return (new asn1js.Any());\r\n            case BAG_ATTRIBUTES:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case BAG_ID:\r\n                return (memberValue === EMPTY_STRING);\r\n            case BAG_VALUE:\r\n                return (memberValue instanceof asn1js.Any);\r\n            case BAG_ATTRIBUTES:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.bagId || BAG_ID) }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Any({ name: (names.bagValue || BAG_VALUE) })]\r\n                }),\r\n                new asn1js.Set({\r\n                    optional: true,\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.bagAttributes || BAG_ATTRIBUTES),\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$I);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SafeBag.schema({\r\n            names: {\r\n                bagId: BAG_ID,\r\n                bagValue: BAG_VALUE,\r\n                bagAttributes: BAG_ATTRIBUTES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.bagId = asn1.result.bagId.valueBlock.toString();\r\n        const bagType = SafeBagValueFactory.find(this.bagId);\r\n        if (!bagType) {\r\n            throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);\r\n        }\r\n        this.bagValue = new bagType({ schema: asn1.result.bagValue });\r\n        if (BAG_ATTRIBUTES in asn1.result) {\r\n            this.bagAttributes = Array.from(asn1.result.bagAttributes, element => new Attribute({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            new asn1js.ObjectIdentifier({ value: this.bagId }),\r\n            new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.bagValue.toSchema()]\r\n            })\r\n        ];\r\n        if (this.bagAttributes) {\r\n            outputArray.push(new asn1js.Set({\r\n                value: Array.from(this.bagAttributes, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const output = {\r\n            bagId: this.bagId,\r\n            bagValue: this.bagValue.toJSON()\r\n        };\r\n        if (this.bagAttributes) {\r\n            output.bagAttributes = Array.from(this.bagAttributes, o => o.toJSON());\r\n        }\r\n        return output;\r\n    }\r\n}\r\nSafeBag.CLASS_NAME = \"SafeBag\";\n\nconst SAFE_BUGS = \"safeBags\";\r\nclass SafeContents extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.safeBags = pvutils.getParametersValue(parameters, SAFE_BUGS, SafeContents.defaultValues(SAFE_BUGS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SAFE_BUGS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SAFE_BUGS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.safeBags || EMPTY_STRING),\r\n                    value: SafeBag.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            SAFE_BUGS\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SafeContents.schema({\r\n            names: {\r\n                safeBags: SAFE_BUGS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.safeBags = Array.from(asn1.result.safeBags, element => new SafeBag({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.safeBags, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            safeBags: Array.from(this.safeBags, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nSafeContents.CLASS_NAME = \"SafeContents\";\n\nconst OTHER_CERT_FORMAT = \"otherCertFormat\";\r\nconst OTHER_CERT = \"otherCert\";\r\nconst CLEAR_PROPS$H = [\r\n    OTHER_CERT_FORMAT,\r\n    OTHER_CERT\r\n];\r\nclass OtherCertificateFormat extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.otherCertFormat = pvutils.getParametersValue(parameters, OTHER_CERT_FORMAT, OtherCertificateFormat.defaultValues(OTHER_CERT_FORMAT));\r\n        this.otherCert = pvutils.getParametersValue(parameters, OTHER_CERT, OtherCertificateFormat.defaultValues(OTHER_CERT));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case OTHER_CERT_FORMAT:\r\n                return EMPTY_STRING;\r\n            case OTHER_CERT:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.otherCertFormat || OTHER_CERT_FORMAT) }),\r\n                new asn1js.Any({ name: (names.otherCert || OTHER_CERT) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$H);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OtherCertificateFormat.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.otherCertFormat = asn1.result.otherCertFormat.valueBlock.toString();\r\n        this.otherCert = asn1.result.otherCert;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.otherCertFormat }),\r\n                this.otherCert\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            otherCertFormat: this.otherCertFormat\r\n        };\r\n        if (!(this.otherCert instanceof asn1js.Any)) {\r\n            res.otherCert = this.otherCert.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\n\nconst CERTIFICATES$1 = \"certificates\";\r\nconst CLEAR_PROPS$G = [\r\n    CERTIFICATES$1,\r\n];\r\nclass CertificateSet extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.certificates = pvutils.getParametersValue(parameters, CERTIFICATES$1, CertificateSet.defaultValues(CERTIFICATES$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERTIFICATES$1:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Set({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.certificates || CERTIFICATES$1),\r\n                    value: new asn1js.Choice({\r\n                        value: [\r\n                            Certificate.schema(),\r\n                            new asn1js.Constructed({\r\n                                idBlock: {\r\n                                    tagClass: 3,\r\n                                    tagNumber: 0\r\n                                },\r\n                                value: [\r\n                                    new asn1js.Any()\r\n                                ]\r\n                            }),\r\n                            new asn1js.Constructed({\r\n                                idBlock: {\r\n                                    tagClass: 3,\r\n                                    tagNumber: 1\r\n                                },\r\n                                value: [\r\n                                    new asn1js.Sequence\r\n                                ]\r\n                            }),\r\n                            new asn1js.Constructed({\r\n                                idBlock: {\r\n                                    tagClass: 3,\r\n                                    tagNumber: 2\r\n                                },\r\n                                value: AttributeCertificateV2.schema().valueBlock.value\r\n                            }),\r\n                            new asn1js.Constructed({\r\n                                idBlock: {\r\n                                    tagClass: 3,\r\n                                    tagNumber: 3\r\n                                },\r\n                                value: OtherCertificateFormat.schema().valueBlock.value\r\n                            })\r\n                        ]\r\n                    })\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$G);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertificateSet.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.certificates = Array.from(asn1.result.certificates || [], (element) => {\r\n            const initialTagNumber = element.idBlock.tagNumber;\r\n            if (element.idBlock.tagClass === 1)\r\n                return new Certificate({ schema: element });\r\n            const elementSequence = new asn1js.Sequence({\r\n                value: element.valueBlock.value\r\n            });\r\n            switch (initialTagNumber) {\r\n                case 1:\r\n                    if (elementSequence.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec === 1) {\r\n                        return new AttributeCertificateV2({ schema: elementSequence });\r\n                    }\r\n                    else {\r\n                        return new AttributeCertificateV1({ schema: elementSequence });\r\n                    }\r\n                case 2:\r\n                    return new AttributeCertificateV2({ schema: elementSequence });\r\n                case 3:\r\n                    return new OtherCertificateFormat({ schema: elementSequence });\r\n            }\r\n            return element;\r\n        });\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Set({\r\n            value: Array.from(this.certificates, element => {\r\n                switch (true) {\r\n                    case (element instanceof Certificate):\r\n                        return element.toSchema();\r\n                    case (element instanceof AttributeCertificateV1):\r\n                        return new asn1js.Constructed({\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 1\r\n                            },\r\n                            value: element.toSchema().valueBlock.value\r\n                        });\r\n                    case (element instanceof AttributeCertificateV2):\r\n                        return new asn1js.Constructed({\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 2\r\n                            },\r\n                            value: element.toSchema().valueBlock.value\r\n                        });\r\n                    case (element instanceof OtherCertificateFormat):\r\n                        return new asn1js.Constructed({\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 3\r\n                            },\r\n                            value: element.toSchema().valueBlock.value\r\n                        });\r\n                }\r\n                return element.toSchema();\r\n            })\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            certificates: Array.from(this.certificates, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nCertificateSet.CLASS_NAME = \"CertificateSet\";\n\nconst OTHER_REV_INFO_FORMAT = \"otherRevInfoFormat\";\r\nconst OTHER_REV_INFO = \"otherRevInfo\";\r\nconst CLEAR_PROPS$F = [\r\n    OTHER_REV_INFO_FORMAT,\r\n    OTHER_REV_INFO\r\n];\r\nclass OtherRevocationInfoFormat extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.otherRevInfoFormat = pvutils.getParametersValue(parameters, OTHER_REV_INFO_FORMAT, OtherRevocationInfoFormat.defaultValues(OTHER_REV_INFO_FORMAT));\r\n        this.otherRevInfo = pvutils.getParametersValue(parameters, OTHER_REV_INFO, OtherRevocationInfoFormat.defaultValues(OTHER_REV_INFO));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case OTHER_REV_INFO_FORMAT:\r\n                return EMPTY_STRING;\r\n            case OTHER_REV_INFO:\r\n                return new asn1js.Any();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.otherRevInfoFormat || OTHER_REV_INFO_FORMAT) }),\r\n                new asn1js.Any({ name: (names.otherRevInfo || OTHER_REV_INFO) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$F);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OtherRevocationInfoFormat.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.otherRevInfoFormat = asn1.result.otherRevInfoFormat.valueBlock.toString();\r\n        this.otherRevInfo = asn1.result.otherRevInfo;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.otherRevInfoFormat }),\r\n                this.otherRevInfo\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            otherRevInfoFormat: this.otherRevInfoFormat\r\n        };\r\n        if (!(this.otherRevInfo instanceof asn1js.Any)) {\r\n            res.otherRevInfo = this.otherRevInfo.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nOtherRevocationInfoFormat.CLASS_NAME = \"OtherRevocationInfoFormat\";\n\nconst CRLS$3 = \"crls\";\r\nconst OTHER_REVOCATION_INFOS = \"otherRevocationInfos\";\r\nconst CLEAR_PROPS$E = [\r\n    CRLS$3\r\n];\r\nclass RevocationInfoChoices extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.crls = pvutils.getParametersValue(parameters, CRLS$3, RevocationInfoChoices.defaultValues(CRLS$3));\r\n        this.otherRevocationInfos = pvutils.getParametersValue(parameters, OTHER_REVOCATION_INFOS, RevocationInfoChoices.defaultValues(OTHER_REVOCATION_INFOS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CRLS$3:\r\n                return [];\r\n            case OTHER_REVOCATION_INFOS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Set({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.crls || EMPTY_STRING),\r\n                    value: new asn1js.Choice({\r\n                        value: [\r\n                            CertificateRevocationList.schema(),\r\n                            new asn1js.Constructed({\r\n                                idBlock: {\r\n                                    tagClass: 3,\r\n                                    tagNumber: 1\r\n                                },\r\n                                value: [\r\n                                    new asn1js.ObjectIdentifier(),\r\n                                    new asn1js.Any()\r\n                                ]\r\n                            })\r\n                        ]\r\n                    })\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$E);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RevocationInfoChoices.schema({\r\n            names: {\r\n                crls: CRLS$3\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (asn1.result.crls) {\r\n            for (const element of asn1.result.crls) {\r\n                if (element.idBlock.tagClass === 1)\r\n                    this.crls.push(new CertificateRevocationList({ schema: element }));\r\n                else\r\n                    this.otherRevocationInfos.push(new OtherRevocationInfoFormat({ schema: element }));\r\n            }\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(...Array.from(this.crls, o => o.toSchema()));\r\n        outputArray.push(...Array.from(this.otherRevocationInfos, element => {\r\n            const schema = element.toSchema();\r\n            schema.idBlock.tagClass = 3;\r\n            schema.idBlock.tagNumber = 1;\r\n            return schema;\r\n        }));\r\n        return (new asn1js.Set({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            crls: Array.from(this.crls, o => o.toJSON()),\r\n            otherRevocationInfos: Array.from(this.otherRevocationInfos, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nRevocationInfoChoices.CLASS_NAME = \"RevocationInfoChoices\";\n\nconst CERTS$3 = \"certs\";\r\nconst CRLS$2 = \"crls\";\r\nconst CLEAR_PROPS$D = [\r\n    CERTS$3,\r\n    CRLS$2,\r\n];\r\nclass OriginatorInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.crls = pvutils.getParametersValue(parameters, CRLS$2, OriginatorInfo.defaultValues(CRLS$2));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERTS$3:\r\n                return new CertificateSet();\r\n            case CRLS$2:\r\n                return new RevocationInfoChoices();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CERTS$3:\r\n                return (memberValue.certificates.length === 0);\r\n            case CRLS$2:\r\n                return ((memberValue.crls.length === 0) && (memberValue.otherRevocationInfos.length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    name: (names.certs || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: CertificateSet.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.crls || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: RevocationInfoChoices.schema().valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$D);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OriginatorInfo.schema({\r\n            names: {\r\n                certs: CERTS$3,\r\n                crls: CRLS$2\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (CERTS$3 in asn1.result) {\r\n            this.certs = new CertificateSet({\r\n                schema: new asn1js.Set({\r\n                    value: asn1.result.certs.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        if (CRLS$2 in asn1.result) {\r\n            this.crls = new RevocationInfoChoices({\r\n                schema: new asn1js.Set({\r\n                    value: asn1.result.crls.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n    }\r\n    toSchema() {\r\n        const sequenceValue = [];\r\n        if (this.certs) {\r\n            sequenceValue.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.certs.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        if (this.crls) {\r\n            sequenceValue.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: this.crls.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: sequenceValue\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (this.certs) {\r\n            res.certs = this.certs.toJSON();\r\n        }\r\n        if (this.crls) {\r\n            res.crls = this.crls.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nOriginatorInfo.CLASS_NAME = \"OriginatorInfo\";\n\nconst ISSUER = \"issuer\";\r\nconst SERIAL_NUMBER$2 = \"serialNumber\";\r\nconst CLEAR_PROPS$C = [\r\n    ISSUER,\r\n    SERIAL_NUMBER$2,\r\n];\r\nclass IssuerAndSerialNumber extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.issuer = pvutils.getParametersValue(parameters, ISSUER, IssuerAndSerialNumber.defaultValues(ISSUER));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$2, IssuerAndSerialNumber.defaultValues(SERIAL_NUMBER$2));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ISSUER:\r\n                return new RelativeDistinguishedNames();\r\n            case SERIAL_NUMBER$2:\r\n                return new asn1js.Integer();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                RelativeDistinguishedNames.schema(names.issuer || {}),\r\n                new asn1js.Integer({ name: (names.serialNumber || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$C);\r\n        const asn1 = asn1js.compareSchema(schema, schema, IssuerAndSerialNumber.schema({\r\n            names: {\r\n                issuer: {\r\n                    names: {\r\n                        blockName: ISSUER\r\n                    }\r\n                },\r\n                serialNumber: SERIAL_NUMBER$2\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.issuer = new RelativeDistinguishedNames({ schema: asn1.result.issuer });\r\n        this.serialNumber = asn1.result.serialNumber;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.issuer.toSchema(),\r\n                this.serialNumber\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            issuer: this.issuer.toJSON(),\r\n            serialNumber: this.serialNumber.toJSON(),\r\n        };\r\n    }\r\n}\r\nIssuerAndSerialNumber.CLASS_NAME = \"IssuerAndSerialNumber\";\n\nconst VARIANT$3 = \"variant\";\r\nconst VALUE$3 = \"value\";\r\nconst CLEAR_PROPS$B = [\r\n    \"blockName\"\r\n];\r\nclass RecipientIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.variant = pvutils.getParametersValue(parameters, VARIANT$3, RecipientIdentifier.defaultValues(VARIANT$3));\r\n        if (VALUE$3 in parameters) {\r\n            this.value = pvutils.getParametersValue(parameters, VALUE$3, RecipientIdentifier.defaultValues(VALUE$3));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VARIANT$3:\r\n                return (-1);\r\n            case VALUE$3:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VARIANT$3:\r\n                return (memberValue === (-1));\r\n            case VALUE$3:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            value: [\r\n                IssuerAndSerialNumber.schema({\r\n                    names: {\r\n                        blockName: (names.blockName || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$B);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RecipientIdentifier.schema({\r\n            names: {\r\n                blockName: \"blockName\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (asn1.result.blockName.idBlock.tagClass === 1) {\r\n            this.variant = 1;\r\n            this.value = new IssuerAndSerialNumber({ schema: asn1.result.blockName });\r\n        }\r\n        else {\r\n            this.variant = 2;\r\n            this.value = new asn1js.OctetString({ valueHex: asn1.result.blockName.valueBlock.valueHex });\r\n        }\r\n    }\r\n    toSchema() {\r\n        switch (this.variant) {\r\n            case 1:\r\n                if (!(this.value instanceof IssuerAndSerialNumber)) {\r\n                    throw new Error(\"Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.\");\r\n                }\r\n                return this.value.toSchema();\r\n            case 2:\r\n                if (!(this.value instanceof asn1js.OctetString)) {\r\n                    throw new Error(\"Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.\");\r\n                }\r\n                return new asn1js.Primitive({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    valueHex: this.value.valueBlock.valueHexView\r\n                });\r\n            default:\r\n                return new asn1js.Any();\r\n        }\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            variant: this.variant\r\n        };\r\n        if ((this.variant === 1 || this.variant === 2) && this.value) {\r\n            res.value = this.value.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRecipientIdentifier.CLASS_NAME = \"RecipientIdentifier\";\n\nconst VERSION$c = \"version\";\r\nconst RID$1 = \"rid\";\r\nconst KEY_ENCRYPTION_ALGORITHM$3 = \"keyEncryptionAlgorithm\";\r\nconst ENCRYPTED_KEY$3 = \"encryptedKey\";\r\nconst RECIPIENT_CERTIFICATE$1 = \"recipientCertificate\";\r\nconst CLEAR_PROPS$A = [\r\n    VERSION$c,\r\n    RID$1,\r\n    KEY_ENCRYPTION_ALGORITHM$3,\r\n    ENCRYPTED_KEY$3,\r\n];\r\nclass KeyTransRecipientInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$c, KeyTransRecipientInfo.defaultValues(VERSION$c));\r\n        this.rid = pvutils.getParametersValue(parameters, RID$1, KeyTransRecipientInfo.defaultValues(RID$1));\r\n        this.keyEncryptionAlgorithm = pvutils.getParametersValue(parameters, KEY_ENCRYPTION_ALGORITHM$3, KeyTransRecipientInfo.defaultValues(KEY_ENCRYPTION_ALGORITHM$3));\r\n        this.encryptedKey = pvutils.getParametersValue(parameters, ENCRYPTED_KEY$3, KeyTransRecipientInfo.defaultValues(ENCRYPTED_KEY$3));\r\n        this.recipientCertificate = pvutils.getParametersValue(parameters, RECIPIENT_CERTIFICATE$1, KeyTransRecipientInfo.defaultValues(RECIPIENT_CERTIFICATE$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$c:\r\n                return (-1);\r\n            case RID$1:\r\n                return {};\r\n            case KEY_ENCRYPTION_ALGORITHM$3:\r\n                return new AlgorithmIdentifier();\r\n            case ENCRYPTED_KEY$3:\r\n                return new asn1js.OctetString();\r\n            case RECIPIENT_CERTIFICATE$1:\r\n                return new Certificate();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$c:\r\n                return (memberValue === KeyTransRecipientInfo.defaultValues(VERSION$c));\r\n            case RID$1:\r\n                return (Object.keys(memberValue).length === 0);\r\n            case KEY_ENCRYPTION_ALGORITHM$3:\r\n            case ENCRYPTED_KEY$3:\r\n                return memberValue.isEqual(KeyTransRecipientInfo.defaultValues(memberName));\r\n            case RECIPIENT_CERTIFICATE$1:\r\n                return false;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                RecipientIdentifier.schema(names.rid || {}),\r\n                AlgorithmIdentifier.schema(names.keyEncryptionAlgorithm || {}),\r\n                new asn1js.OctetString({ name: (names.encryptedKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$A);\r\n        const asn1 = asn1js.compareSchema(schema, schema, KeyTransRecipientInfo.schema({\r\n            names: {\r\n                version: VERSION$c,\r\n                rid: {\r\n                    names: {\r\n                        blockName: RID$1\r\n                    }\r\n                },\r\n                keyEncryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: KEY_ENCRYPTION_ALGORITHM$3\r\n                    }\r\n                },\r\n                encryptedKey: ENCRYPTED_KEY$3\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        if (asn1.result.rid.idBlock.tagClass === 3) {\r\n            this.rid = new asn1js.OctetString({ valueHex: asn1.result.rid.valueBlock.valueHex });\r\n        }\r\n        else {\r\n            this.rid = new IssuerAndSerialNumber({ schema: asn1.result.rid });\r\n        }\r\n        this.keyEncryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.keyEncryptionAlgorithm });\r\n        this.encryptedKey = asn1.result.encryptedKey;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (this.rid instanceof IssuerAndSerialNumber) {\r\n            this.version = 0;\r\n            outputArray.push(new asn1js.Integer({ value: this.version }));\r\n            outputArray.push(this.rid.toSchema());\r\n        }\r\n        else {\r\n            this.version = 2;\r\n            outputArray.push(new asn1js.Integer({ value: this.version }));\r\n            outputArray.push(new asn1js.Primitive({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                valueHex: this.rid.valueBlock.valueHexView\r\n            }));\r\n        }\r\n        outputArray.push(this.keyEncryptionAlgorithm.toSchema());\r\n        outputArray.push(this.encryptedKey);\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            version: this.version,\r\n            rid: this.rid.toJSON(),\r\n            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),\r\n            encryptedKey: this.encryptedKey.toJSON(),\r\n        };\r\n    }\r\n}\r\nKeyTransRecipientInfo.CLASS_NAME = \"KeyTransRecipientInfo\";\n\nconst ALGORITHM = \"algorithm\";\r\nconst PUBLIC_KEY = \"publicKey\";\r\nconst CLEAR_PROPS$z = [\r\n    ALGORITHM,\r\n    PUBLIC_KEY\r\n];\r\nclass OriginatorPublicKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.algorithm = pvutils.getParametersValue(parameters, ALGORITHM, OriginatorPublicKey.defaultValues(ALGORITHM));\r\n        this.publicKey = pvutils.getParametersValue(parameters, PUBLIC_KEY, OriginatorPublicKey.defaultValues(PUBLIC_KEY));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case PUBLIC_KEY:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ALGORITHM:\r\n            case PUBLIC_KEY:\r\n                return (memberValue.isEqual(OriginatorPublicKey.defaultValues(memberName)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.algorithm || {}),\r\n                new asn1js.BitString({ name: (names.publicKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$z);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OriginatorPublicKey.schema({\r\n            names: {\r\n                algorithm: {\r\n                    names: {\r\n                        blockName: ALGORITHM\r\n                    }\r\n                },\r\n                publicKey: PUBLIC_KEY\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.algorithm = new AlgorithmIdentifier({ schema: asn1.result.algorithm });\r\n        this.publicKey = asn1.result.publicKey;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.algorithm.toSchema(),\r\n                this.publicKey\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            algorithm: this.algorithm.toJSON(),\r\n            publicKey: this.publicKey.toJSON(),\r\n        };\r\n    }\r\n}\r\nOriginatorPublicKey.CLASS_NAME = \"OriginatorPublicKey\";\n\nconst VARIANT$2 = \"variant\";\r\nconst VALUE$2 = \"value\";\r\nconst CLEAR_PROPS$y = [\r\n    \"blockName\",\r\n];\r\nclass OriginatorIdentifierOrKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.variant = pvutils.getParametersValue(parameters, VARIANT$2, OriginatorIdentifierOrKey.defaultValues(VARIANT$2));\r\n        if (VALUE$2 in parameters) {\r\n            this.value = pvutils.getParametersValue(parameters, VALUE$2, OriginatorIdentifierOrKey.defaultValues(VALUE$2));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VARIANT$2:\r\n                return (-1);\r\n            case VALUE$2:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VARIANT$2:\r\n                return (memberValue === (-1));\r\n            case VALUE$2:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            value: [\r\n                IssuerAndSerialNumber.schema({\r\n                    names: {\r\n                        blockName: (names.blockName || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                new asn1js.Primitive({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING)\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    value: OriginatorPublicKey.schema().valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$y);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OriginatorIdentifierOrKey.schema({\r\n            names: {\r\n                blockName: \"blockName\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (asn1.result.blockName.idBlock.tagClass === 1) {\r\n            this.variant = 1;\r\n            this.value = new IssuerAndSerialNumber({ schema: asn1.result.blockName });\r\n        }\r\n        else {\r\n            if (asn1.result.blockName.idBlock.tagNumber === 0) {\r\n                asn1.result.blockName.idBlock.tagClass = 1;\r\n                asn1.result.blockName.idBlock.tagNumber = 4;\r\n                this.variant = 2;\r\n                this.value = asn1.result.blockName;\r\n            }\r\n            else {\r\n                this.variant = 3;\r\n                this.value = new OriginatorPublicKey({\r\n                    schema: new asn1js.Sequence({\r\n                        value: asn1.result.blockName.valueBlock.value\r\n                    })\r\n                });\r\n            }\r\n        }\r\n    }\r\n    toSchema() {\r\n        switch (this.variant) {\r\n            case 1:\r\n                return this.value.toSchema();\r\n            case 2:\r\n                this.value.idBlock.tagClass = 3;\r\n                this.value.idBlock.tagNumber = 0;\r\n                return this.value;\r\n            case 3:\r\n                {\r\n                    const _schema = this.value.toSchema();\r\n                    _schema.idBlock.tagClass = 3;\r\n                    _schema.idBlock.tagNumber = 1;\r\n                    return _schema;\r\n                }\r\n            default:\r\n                return new asn1js.Any();\r\n        }\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            variant: this.variant\r\n        };\r\n        if ((this.variant === 1) || (this.variant === 2) || (this.variant === 3)) {\r\n            res.value = this.value.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nOriginatorIdentifierOrKey.CLASS_NAME = \"OriginatorIdentifierOrKey\";\n\nconst KEY_ATTR_ID = \"keyAttrId\";\r\nconst KEY_ATTR = \"keyAttr\";\r\nconst CLEAR_PROPS$x = [\r\n    KEY_ATTR_ID,\r\n    KEY_ATTR,\r\n];\r\nclass OtherKeyAttribute extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.keyAttrId = pvutils.getParametersValue(parameters, KEY_ATTR_ID, OtherKeyAttribute.defaultValues(KEY_ATTR_ID));\r\n        if (KEY_ATTR in parameters) {\r\n            this.keyAttr = pvutils.getParametersValue(parameters, KEY_ATTR, OtherKeyAttribute.defaultValues(KEY_ATTR));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_ATTR_ID:\r\n                return EMPTY_STRING;\r\n            case KEY_ATTR:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case KEY_ATTR_ID:\r\n                return (typeof memberValue === \"string\" && memberValue === EMPTY_STRING);\r\n            case KEY_ATTR:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            optional: (names.optional || true),\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.keyAttrId || EMPTY_STRING) }),\r\n                new asn1js.Any({\r\n                    optional: true,\r\n                    name: (names.keyAttr || EMPTY_STRING)\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$x);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OtherKeyAttribute.schema({\r\n            names: {\r\n                keyAttrId: KEY_ATTR_ID,\r\n                keyAttr: KEY_ATTR\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.keyAttrId = asn1.result.keyAttrId.valueBlock.toString();\r\n        if (KEY_ATTR in asn1.result) {\r\n            this.keyAttr = asn1.result.keyAttr;\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.keyAttrId }));\r\n        if (KEY_ATTR in this) {\r\n            outputArray.push(this.keyAttr);\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray,\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            keyAttrId: this.keyAttrId\r\n        };\r\n        if (KEY_ATTR in this) {\r\n            res.keyAttr = this.keyAttr.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nOtherKeyAttribute.CLASS_NAME = \"OtherKeyAttribute\";\n\nconst SUBJECT_KEY_IDENTIFIER = \"subjectKeyIdentifier\";\r\nconst DATE$1 = \"date\";\r\nconst OTHER$1 = \"other\";\r\nconst CLEAR_PROPS$w = [\r\n    SUBJECT_KEY_IDENTIFIER,\r\n    DATE$1,\r\n    OTHER$1,\r\n];\r\nclass RecipientKeyIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.subjectKeyIdentifier = pvutils.getParametersValue(parameters, SUBJECT_KEY_IDENTIFIER, RecipientKeyIdentifier.defaultValues(SUBJECT_KEY_IDENTIFIER));\r\n        if (DATE$1 in parameters) {\r\n            this.date = pvutils.getParametersValue(parameters, DATE$1, RecipientKeyIdentifier.defaultValues(DATE$1));\r\n        }\r\n        if (OTHER$1 in parameters) {\r\n            this.other = pvutils.getParametersValue(parameters, OTHER$1, RecipientKeyIdentifier.defaultValues(OTHER$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SUBJECT_KEY_IDENTIFIER:\r\n                return new asn1js.OctetString();\r\n            case DATE$1:\r\n                return new asn1js.GeneralizedTime();\r\n            case OTHER$1:\r\n                return new OtherKeyAttribute();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SUBJECT_KEY_IDENTIFIER:\r\n                return (memberValue.isEqual(RecipientKeyIdentifier.defaultValues(SUBJECT_KEY_IDENTIFIER)));\r\n            case DATE$1:\r\n                return ((memberValue.year === 0) &&\r\n                    (memberValue.month === 0) &&\r\n                    (memberValue.day === 0) &&\r\n                    (memberValue.hour === 0) &&\r\n                    (memberValue.minute === 0) &&\r\n                    (memberValue.second === 0) &&\r\n                    (memberValue.millisecond === 0));\r\n            case OTHER$1:\r\n                return ((memberValue.keyAttrId === EMPTY_STRING) && ((\"keyAttr\" in memberValue) === false));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.OctetString({ name: (names.subjectKeyIdentifier || EMPTY_STRING) }),\r\n                new asn1js.GeneralizedTime({\r\n                    optional: true,\r\n                    name: (names.date || EMPTY_STRING)\r\n                }),\r\n                OtherKeyAttribute.schema(names.other || {})\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$w);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RecipientKeyIdentifier.schema({\r\n            names: {\r\n                subjectKeyIdentifier: SUBJECT_KEY_IDENTIFIER,\r\n                date: DATE$1,\r\n                other: {\r\n                    names: {\r\n                        blockName: OTHER$1\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.subjectKeyIdentifier = asn1.result.subjectKeyIdentifier;\r\n        if (DATE$1 in asn1.result)\r\n            this.date = asn1.result.date;\r\n        if (OTHER$1 in asn1.result)\r\n            this.other = new OtherKeyAttribute({ schema: asn1.result.other });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.subjectKeyIdentifier);\r\n        if (this.date) {\r\n            outputArray.push(this.date);\r\n        }\r\n        if (this.other) {\r\n            outputArray.push(this.other.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            subjectKeyIdentifier: this.subjectKeyIdentifier.toJSON()\r\n        };\r\n        if (this.date) {\r\n            res.date = this.date.toJSON();\r\n        }\r\n        if (this.other) {\r\n            res.other = this.other.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRecipientKeyIdentifier.CLASS_NAME = \"RecipientKeyIdentifier\";\n\nconst VARIANT$1 = \"variant\";\r\nconst VALUE$1 = \"value\";\r\nconst CLEAR_PROPS$v = [\r\n    \"blockName\",\r\n];\r\nclass KeyAgreeRecipientIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.variant = pvutils.getParametersValue(parameters, VARIANT$1, KeyAgreeRecipientIdentifier.defaultValues(VARIANT$1));\r\n        this.value = pvutils.getParametersValue(parameters, VALUE$1, KeyAgreeRecipientIdentifier.defaultValues(VALUE$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VARIANT$1:\r\n                return (-1);\r\n            case VALUE$1:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VARIANT$1:\r\n                return (memberValue === (-1));\r\n            case VALUE$1:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            value: [\r\n                IssuerAndSerialNumber.schema(names.issuerAndSerialNumber || {\r\n                    names: {\r\n                        blockName: (names.blockName || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: RecipientKeyIdentifier.schema(names.rKeyId || {\r\n                        names: {\r\n                            blockName: (names.blockName || EMPTY_STRING)\r\n                        }\r\n                    }).valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$v);\r\n        const asn1 = asn1js.compareSchema(schema, schema, KeyAgreeRecipientIdentifier.schema({\r\n            names: {\r\n                blockName: \"blockName\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (asn1.result.blockName.idBlock.tagClass === 1) {\r\n            this.variant = 1;\r\n            this.value = new IssuerAndSerialNumber({ schema: asn1.result.blockName });\r\n        }\r\n        else {\r\n            this.variant = 2;\r\n            this.value = new RecipientKeyIdentifier({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.blockName.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n    }\r\n    toSchema() {\r\n        switch (this.variant) {\r\n            case 1:\r\n                return this.value.toSchema();\r\n            case 2:\r\n                return new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: this.value.toSchema().valueBlock.value\r\n                });\r\n            default:\r\n                return new asn1js.Any();\r\n        }\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            variant: this.variant,\r\n        };\r\n        if ((this.variant === 1) || (this.variant === 2)) {\r\n            res.value = this.value.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nKeyAgreeRecipientIdentifier.CLASS_NAME = \"KeyAgreeRecipientIdentifier\";\n\nconst RID = \"rid\";\r\nconst ENCRYPTED_KEY$2 = \"encryptedKey\";\r\nconst CLEAR_PROPS$u = [\r\n    RID,\r\n    ENCRYPTED_KEY$2,\r\n];\r\nclass RecipientEncryptedKey extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.rid = pvutils.getParametersValue(parameters, RID, RecipientEncryptedKey.defaultValues(RID));\r\n        this.encryptedKey = pvutils.getParametersValue(parameters, ENCRYPTED_KEY$2, RecipientEncryptedKey.defaultValues(ENCRYPTED_KEY$2));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case RID:\r\n                return new KeyAgreeRecipientIdentifier();\r\n            case ENCRYPTED_KEY$2:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case RID:\r\n                return ((memberValue.variant === (-1)) && ((\"value\" in memberValue) === false));\r\n            case ENCRYPTED_KEY$2:\r\n                return (memberValue.isEqual(RecipientEncryptedKey.defaultValues(ENCRYPTED_KEY$2)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                KeyAgreeRecipientIdentifier.schema(names.rid || {}),\r\n                new asn1js.OctetString({ name: (names.encryptedKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$u);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RecipientEncryptedKey.schema({\r\n            names: {\r\n                rid: {\r\n                    names: {\r\n                        blockName: RID\r\n                    }\r\n                },\r\n                encryptedKey: ENCRYPTED_KEY$2\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.rid = new KeyAgreeRecipientIdentifier({ schema: asn1.result.rid });\r\n        this.encryptedKey = asn1.result.encryptedKey;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.rid.toSchema(),\r\n                this.encryptedKey\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            rid: this.rid.toJSON(),\r\n            encryptedKey: this.encryptedKey.toJSON(),\r\n        };\r\n    }\r\n}\r\nRecipientEncryptedKey.CLASS_NAME = \"RecipientEncryptedKey\";\n\nconst ENCRYPTED_KEYS = \"encryptedKeys\";\r\nconst RECIPIENT_ENCRYPTED_KEYS = \"RecipientEncryptedKeys\";\r\nconst CLEAR_PROPS$t = [\r\n    RECIPIENT_ENCRYPTED_KEYS,\r\n];\r\nclass RecipientEncryptedKeys extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.encryptedKeys = pvutils.getParametersValue(parameters, ENCRYPTED_KEYS, RecipientEncryptedKeys.defaultValues(ENCRYPTED_KEYS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ENCRYPTED_KEYS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ENCRYPTED_KEYS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.RecipientEncryptedKeys || EMPTY_STRING),\r\n                    value: RecipientEncryptedKey.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$t);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RecipientEncryptedKeys.schema({\r\n            names: {\r\n                RecipientEncryptedKeys: RECIPIENT_ENCRYPTED_KEYS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.encryptedKeys = Array.from(asn1.result.RecipientEncryptedKeys, element => new RecipientEncryptedKey({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.encryptedKeys, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            encryptedKeys: Array.from(this.encryptedKeys, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nRecipientEncryptedKeys.CLASS_NAME = \"RecipientEncryptedKeys\";\n\nconst VERSION$b = \"version\";\r\nconst ORIGINATOR = \"originator\";\r\nconst UKM = \"ukm\";\r\nconst KEY_ENCRYPTION_ALGORITHM$2 = \"keyEncryptionAlgorithm\";\r\nconst RECIPIENT_ENCRYPTED_KEY = \"recipientEncryptedKeys\";\r\nconst RECIPIENT_CERTIFICATE = \"recipientCertificate\";\r\nconst RECIPIENT_PUBLIC_KEY = \"recipientPublicKey\";\r\nconst CLEAR_PROPS$s = [\r\n    VERSION$b,\r\n    ORIGINATOR,\r\n    UKM,\r\n    KEY_ENCRYPTION_ALGORITHM$2,\r\n    RECIPIENT_ENCRYPTED_KEY,\r\n];\r\nclass KeyAgreeRecipientInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$b, KeyAgreeRecipientInfo.defaultValues(VERSION$b));\r\n        this.originator = pvutils.getParametersValue(parameters, ORIGINATOR, KeyAgreeRecipientInfo.defaultValues(ORIGINATOR));\r\n        if (UKM in parameters) {\r\n            this.ukm = pvutils.getParametersValue(parameters, UKM, KeyAgreeRecipientInfo.defaultValues(UKM));\r\n        }\r\n        this.keyEncryptionAlgorithm = pvutils.getParametersValue(parameters, KEY_ENCRYPTION_ALGORITHM$2, KeyAgreeRecipientInfo.defaultValues(KEY_ENCRYPTION_ALGORITHM$2));\r\n        this.recipientEncryptedKeys = pvutils.getParametersValue(parameters, RECIPIENT_ENCRYPTED_KEY, KeyAgreeRecipientInfo.defaultValues(RECIPIENT_ENCRYPTED_KEY));\r\n        this.recipientCertificate = pvutils.getParametersValue(parameters, RECIPIENT_CERTIFICATE, KeyAgreeRecipientInfo.defaultValues(RECIPIENT_CERTIFICATE));\r\n        this.recipientPublicKey = pvutils.getParametersValue(parameters, RECIPIENT_PUBLIC_KEY, KeyAgreeRecipientInfo.defaultValues(RECIPIENT_PUBLIC_KEY));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$b:\r\n                return 0;\r\n            case ORIGINATOR:\r\n                return new OriginatorIdentifierOrKey();\r\n            case UKM:\r\n                return new asn1js.OctetString();\r\n            case KEY_ENCRYPTION_ALGORITHM$2:\r\n                return new AlgorithmIdentifier();\r\n            case RECIPIENT_ENCRYPTED_KEY:\r\n                return new RecipientEncryptedKeys();\r\n            case RECIPIENT_CERTIFICATE:\r\n                return new Certificate();\r\n            case RECIPIENT_PUBLIC_KEY:\r\n                return null;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$b:\r\n                return (memberValue === 0);\r\n            case ORIGINATOR:\r\n                return ((memberValue.variant === (-1)) && ((\"value\" in memberValue) === false));\r\n            case UKM:\r\n                return (memberValue.isEqual(KeyAgreeRecipientInfo.defaultValues(UKM)));\r\n            case KEY_ENCRYPTION_ALGORITHM$2:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case RECIPIENT_ENCRYPTED_KEY:\r\n                return (memberValue.encryptedKeys.length === 0);\r\n            case RECIPIENT_CERTIFICATE:\r\n                return false;\r\n            case RECIPIENT_PUBLIC_KEY:\r\n                return false;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: names.blockName || EMPTY_STRING,\r\n            value: [\r\n                new asn1js.Integer({ name: names.version || EMPTY_STRING }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        OriginatorIdentifierOrKey.schema(names.originator || {})\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [new asn1js.OctetString({ name: names.ukm || EMPTY_STRING })]\r\n                }),\r\n                AlgorithmIdentifier.schema(names.keyEncryptionAlgorithm || {}),\r\n                RecipientEncryptedKeys.schema(names.recipientEncryptedKeys || {})\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$s);\r\n        const asn1 = asn1js.compareSchema(schema, schema, KeyAgreeRecipientInfo.schema({\r\n            names: {\r\n                version: VERSION$b,\r\n                originator: {\r\n                    names: {\r\n                        blockName: ORIGINATOR\r\n                    }\r\n                },\r\n                ukm: UKM,\r\n                keyEncryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: KEY_ENCRYPTION_ALGORITHM$2\r\n                    }\r\n                },\r\n                recipientEncryptedKeys: {\r\n                    names: {\r\n                        blockName: RECIPIENT_ENCRYPTED_KEY\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.originator = new OriginatorIdentifierOrKey({ schema: asn1.result.originator });\r\n        if (UKM in asn1.result)\r\n            this.ukm = asn1.result.ukm;\r\n        this.keyEncryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.keyEncryptionAlgorithm });\r\n        this.recipientEncryptedKeys = new RecipientEncryptedKeys({ schema: asn1.result.recipientEncryptedKeys });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(new asn1js.Constructed({\r\n            idBlock: {\r\n                tagClass: 3,\r\n                tagNumber: 0\r\n            },\r\n            value: [this.originator.toSchema()]\r\n        }));\r\n        if (this.ukm) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [this.ukm]\r\n            }));\r\n        }\r\n        outputArray.push(this.keyEncryptionAlgorithm.toSchema());\r\n        outputArray.push(this.recipientEncryptedKeys.toSchema());\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            originator: this.originator.toJSON(),\r\n            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),\r\n            recipientEncryptedKeys: this.recipientEncryptedKeys.toJSON(),\r\n        };\r\n        if (this.ukm) {\r\n            res.ukm = this.ukm.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nKeyAgreeRecipientInfo.CLASS_NAME = \"KeyAgreeRecipientInfo\";\n\nconst KEY_IDENTIFIER = \"keyIdentifier\";\r\nconst DATE = \"date\";\r\nconst OTHER = \"other\";\r\nconst CLEAR_PROPS$r = [\r\n    KEY_IDENTIFIER,\r\n    DATE,\r\n    OTHER,\r\n];\r\nclass KEKIdentifier extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.keyIdentifier = pvutils.getParametersValue(parameters, KEY_IDENTIFIER, KEKIdentifier.defaultValues(KEY_IDENTIFIER));\r\n        if (DATE in parameters) {\r\n            this.date = pvutils.getParametersValue(parameters, DATE, KEKIdentifier.defaultValues(DATE));\r\n        }\r\n        if (OTHER in parameters) {\r\n            this.other = pvutils.getParametersValue(parameters, OTHER, KEKIdentifier.defaultValues(OTHER));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_IDENTIFIER:\r\n                return new asn1js.OctetString();\r\n            case DATE:\r\n                return new asn1js.GeneralizedTime();\r\n            case OTHER:\r\n                return new OtherKeyAttribute();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case KEY_IDENTIFIER:\r\n                return (memberValue.isEqual(KEKIdentifier.defaultValues(KEY_IDENTIFIER)));\r\n            case DATE:\r\n                return ((memberValue.year === 0) &&\r\n                    (memberValue.month === 0) &&\r\n                    (memberValue.day === 0) &&\r\n                    (memberValue.hour === 0) &&\r\n                    (memberValue.minute === 0) &&\r\n                    (memberValue.second === 0) &&\r\n                    (memberValue.millisecond === 0));\r\n            case OTHER:\r\n                return ((memberValue.compareWithDefault(\"keyAttrId\", memberValue.keyAttrId)) &&\r\n                    ((\"keyAttr\" in memberValue) === false));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.OctetString({ name: (names.keyIdentifier || EMPTY_STRING) }),\r\n                new asn1js.GeneralizedTime({\r\n                    optional: true,\r\n                    name: (names.date || EMPTY_STRING)\r\n                }),\r\n                OtherKeyAttribute.schema(names.other || {})\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$r);\r\n        const asn1 = asn1js.compareSchema(schema, schema, KEKIdentifier.schema({\r\n            names: {\r\n                keyIdentifier: KEY_IDENTIFIER,\r\n                date: DATE,\r\n                other: {\r\n                    names: {\r\n                        blockName: OTHER\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.keyIdentifier = asn1.result.keyIdentifier;\r\n        if (DATE in asn1.result)\r\n            this.date = asn1.result.date;\r\n        if (OTHER in asn1.result)\r\n            this.other = new OtherKeyAttribute({ schema: asn1.result.other });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.keyIdentifier);\r\n        if (this.date) {\r\n            outputArray.push(this.date);\r\n        }\r\n        if (this.other) {\r\n            outputArray.push(this.other.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            keyIdentifier: this.keyIdentifier.toJSON()\r\n        };\r\n        if (this.date) {\r\n            res.date = this.date;\r\n        }\r\n        if (this.other) {\r\n            res.other = this.other.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nKEKIdentifier.CLASS_NAME = \"KEKIdentifier\";\n\nconst VERSION$a = \"version\";\r\nconst KEK_ID = \"kekid\";\r\nconst KEY_ENCRYPTION_ALGORITHM$1 = \"keyEncryptionAlgorithm\";\r\nconst ENCRYPTED_KEY$1 = \"encryptedKey\";\r\nconst PER_DEFINED_KEK = \"preDefinedKEK\";\r\nconst CLEAR_PROPS$q = [\r\n    VERSION$a,\r\n    KEK_ID,\r\n    KEY_ENCRYPTION_ALGORITHM$1,\r\n    ENCRYPTED_KEY$1,\r\n];\r\nclass KEKRecipientInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$a, KEKRecipientInfo.defaultValues(VERSION$a));\r\n        this.kekid = pvutils.getParametersValue(parameters, KEK_ID, KEKRecipientInfo.defaultValues(KEK_ID));\r\n        this.keyEncryptionAlgorithm = pvutils.getParametersValue(parameters, KEY_ENCRYPTION_ALGORITHM$1, KEKRecipientInfo.defaultValues(KEY_ENCRYPTION_ALGORITHM$1));\r\n        this.encryptedKey = pvutils.getParametersValue(parameters, ENCRYPTED_KEY$1, KEKRecipientInfo.defaultValues(ENCRYPTED_KEY$1));\r\n        this.preDefinedKEK = pvutils.getParametersValue(parameters, PER_DEFINED_KEK, KEKRecipientInfo.defaultValues(PER_DEFINED_KEK));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$a:\r\n                return 0;\r\n            case KEK_ID:\r\n                return new KEKIdentifier();\r\n            case KEY_ENCRYPTION_ALGORITHM$1:\r\n                return new AlgorithmIdentifier();\r\n            case ENCRYPTED_KEY$1:\r\n                return new asn1js.OctetString();\r\n            case PER_DEFINED_KEK:\r\n                return EMPTY_BUFFER;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case \"KEKRecipientInfo\":\r\n                return (memberValue === KEKRecipientInfo.defaultValues(VERSION$a));\r\n            case KEK_ID:\r\n                return ((memberValue.compareWithDefault(\"keyIdentifier\", memberValue.keyIdentifier)) &&\r\n                    ((\"date\" in memberValue) === false) &&\r\n                    ((\"other\" in memberValue) === false));\r\n            case KEY_ENCRYPTION_ALGORITHM$1:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case ENCRYPTED_KEY$1:\r\n                return (memberValue.isEqual(KEKRecipientInfo.defaultValues(ENCRYPTED_KEY$1)));\r\n            case PER_DEFINED_KEK:\r\n                return (memberValue.byteLength === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                KEKIdentifier.schema(names.kekid || {}),\r\n                AlgorithmIdentifier.schema(names.keyEncryptionAlgorithm || {}),\r\n                new asn1js.OctetString({ name: (names.encryptedKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$q);\r\n        const asn1 = asn1js.compareSchema(schema, schema, KEKRecipientInfo.schema({\r\n            names: {\r\n                version: VERSION$a,\r\n                kekid: {\r\n                    names: {\r\n                        blockName: KEK_ID\r\n                    }\r\n                },\r\n                keyEncryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: KEY_ENCRYPTION_ALGORITHM$1\r\n                    }\r\n                },\r\n                encryptedKey: ENCRYPTED_KEY$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.kekid = new KEKIdentifier({ schema: asn1.result.kekid });\r\n        this.keyEncryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.keyEncryptionAlgorithm });\r\n        this.encryptedKey = asn1.result.encryptedKey;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.Integer({ value: this.version }),\r\n                this.kekid.toSchema(),\r\n                this.keyEncryptionAlgorithm.toSchema(),\r\n                this.encryptedKey\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            version: this.version,\r\n            kekid: this.kekid.toJSON(),\r\n            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),\r\n            encryptedKey: this.encryptedKey.toJSON(),\r\n        };\r\n    }\r\n}\r\nKEKRecipientInfo.CLASS_NAME = \"KEKRecipientInfo\";\n\nconst VERSION$9 = \"version\";\r\nconst KEY_DERIVATION_ALGORITHM = \"keyDerivationAlgorithm\";\r\nconst KEY_ENCRYPTION_ALGORITHM = \"keyEncryptionAlgorithm\";\r\nconst ENCRYPTED_KEY = \"encryptedKey\";\r\nconst PASSWORD = \"password\";\r\nconst CLEAR_PROPS$p = [\r\n    VERSION$9,\r\n    KEY_DERIVATION_ALGORITHM,\r\n    KEY_ENCRYPTION_ALGORITHM,\r\n    ENCRYPTED_KEY\r\n];\r\nclass PasswordRecipientinfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$9, PasswordRecipientinfo.defaultValues(VERSION$9));\r\n        if (KEY_DERIVATION_ALGORITHM in parameters) {\r\n            this.keyDerivationAlgorithm = pvutils.getParametersValue(parameters, KEY_DERIVATION_ALGORITHM, PasswordRecipientinfo.defaultValues(KEY_DERIVATION_ALGORITHM));\r\n        }\r\n        this.keyEncryptionAlgorithm = pvutils.getParametersValue(parameters, KEY_ENCRYPTION_ALGORITHM, PasswordRecipientinfo.defaultValues(KEY_ENCRYPTION_ALGORITHM));\r\n        this.encryptedKey = pvutils.getParametersValue(parameters, ENCRYPTED_KEY, PasswordRecipientinfo.defaultValues(ENCRYPTED_KEY));\r\n        this.password = pvutils.getParametersValue(parameters, PASSWORD, PasswordRecipientinfo.defaultValues(PASSWORD));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$9:\r\n                return (-1);\r\n            case KEY_DERIVATION_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case KEY_ENCRYPTION_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case ENCRYPTED_KEY:\r\n                return new asn1js.OctetString();\r\n            case PASSWORD:\r\n                return EMPTY_BUFFER;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$9:\r\n                return (memberValue === (-1));\r\n            case KEY_DERIVATION_ALGORITHM:\r\n            case KEY_ENCRYPTION_ALGORITHM:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case ENCRYPTED_KEY:\r\n                return (memberValue.isEqual(PasswordRecipientinfo.defaultValues(ENCRYPTED_KEY)));\r\n            case PASSWORD:\r\n                return (memberValue.byteLength === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    name: (names.keyDerivationAlgorithm || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: AlgorithmIdentifier.schema().valueBlock.value\r\n                }),\r\n                AlgorithmIdentifier.schema(names.keyEncryptionAlgorithm || {}),\r\n                new asn1js.OctetString({ name: (names.encryptedKey || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$p);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PasswordRecipientinfo.schema({\r\n            names: {\r\n                version: VERSION$9,\r\n                keyDerivationAlgorithm: KEY_DERIVATION_ALGORITHM,\r\n                keyEncryptionAlgorithm: {\r\n                    names: {\r\n                        blockName: KEY_ENCRYPTION_ALGORITHM\r\n                    }\r\n                },\r\n                encryptedKey: ENCRYPTED_KEY\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        if (KEY_DERIVATION_ALGORITHM in asn1.result) {\r\n            this.keyDerivationAlgorithm = new AlgorithmIdentifier({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.keyDerivationAlgorithm.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        this.keyEncryptionAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.keyEncryptionAlgorithm });\r\n        this.encryptedKey = asn1.result.encryptedKey;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        if (this.keyDerivationAlgorithm) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.keyDerivationAlgorithm.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        outputArray.push(this.keyEncryptionAlgorithm.toSchema());\r\n        outputArray.push(this.encryptedKey);\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            keyEncryptionAlgorithm: this.keyEncryptionAlgorithm.toJSON(),\r\n            encryptedKey: this.encryptedKey.toJSON(),\r\n        };\r\n        if (this.keyDerivationAlgorithm) {\r\n            res.keyDerivationAlgorithm = this.keyDerivationAlgorithm.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nPasswordRecipientinfo.CLASS_NAME = \"PasswordRecipientInfo\";\n\nconst ORI_TYPE = \"oriType\";\r\nconst ORI_VALUE = \"oriValue\";\r\nconst CLEAR_PROPS$o = [\r\n    ORI_TYPE,\r\n    ORI_VALUE\r\n];\r\nclass OtherRecipientInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.oriType = pvutils.getParametersValue(parameters, ORI_TYPE, OtherRecipientInfo.defaultValues(ORI_TYPE));\r\n        this.oriValue = pvutils.getParametersValue(parameters, ORI_VALUE, OtherRecipientInfo.defaultValues(ORI_VALUE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case ORI_TYPE:\r\n                return EMPTY_STRING;\r\n            case ORI_VALUE:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case ORI_TYPE:\r\n                return (memberValue === EMPTY_STRING);\r\n            case ORI_VALUE:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.oriType || EMPTY_STRING) }),\r\n                new asn1js.Any({ name: (names.oriValue || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$o);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OtherRecipientInfo.schema({\r\n            names: {\r\n                oriType: ORI_TYPE,\r\n                oriValue: ORI_VALUE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.oriType = asn1.result.oriType.valueBlock.toString();\r\n        this.oriValue = asn1.result.oriValue;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.oriType }),\r\n                this.oriValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            oriType: this.oriType\r\n        };\r\n        if (!OtherRecipientInfo.compareWithDefault(ORI_VALUE, this.oriValue)) {\r\n            res.oriValue = this.oriValue.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nOtherRecipientInfo.CLASS_NAME = \"OtherRecipientInfo\";\n\nconst VARIANT = \"variant\";\r\nconst VALUE = \"value\";\r\nconst CLEAR_PROPS$n = [\r\n    \"blockName\"\r\n];\r\nclass RecipientInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.variant = pvutils.getParametersValue(parameters, VARIANT, RecipientInfo.defaultValues(VARIANT));\r\n        if (VALUE in parameters) {\r\n            this.value = pvutils.getParametersValue(parameters, VALUE, RecipientInfo.defaultValues(VALUE));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VARIANT:\r\n                return (-1);\r\n            case VALUE:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VARIANT:\r\n                return (memberValue === RecipientInfo.defaultValues(memberName));\r\n            case VALUE:\r\n                return (Object.keys(memberValue).length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Choice({\r\n            value: [\r\n                KeyTransRecipientInfo.schema({\r\n                    names: {\r\n                        blockName: (names.blockName || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: KeyAgreeRecipientInfo.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: KEKRecipientInfo.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 3\r\n                    },\r\n                    value: PasswordRecipientinfo.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.blockName || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 4\r\n                    },\r\n                    value: OtherRecipientInfo.schema().valueBlock.value\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$n);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RecipientInfo.schema({\r\n            names: {\r\n                blockName: \"blockName\"\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (asn1.result.blockName.idBlock.tagClass === 1) {\r\n            this.variant = 1;\r\n            this.value = new KeyTransRecipientInfo({ schema: asn1.result.blockName });\r\n        }\r\n        else {\r\n            const blockSequence = new asn1js.Sequence({\r\n                value: asn1.result.blockName.valueBlock.value\r\n            });\r\n            switch (asn1.result.blockName.idBlock.tagNumber) {\r\n                case 1:\r\n                    this.variant = 2;\r\n                    this.value = new KeyAgreeRecipientInfo({ schema: blockSequence });\r\n                    break;\r\n                case 2:\r\n                    this.variant = 3;\r\n                    this.value = new KEKRecipientInfo({ schema: blockSequence });\r\n                    break;\r\n                case 3:\r\n                    this.variant = 4;\r\n                    this.value = new PasswordRecipientinfo({ schema: blockSequence });\r\n                    break;\r\n                case 4:\r\n                    this.variant = 5;\r\n                    this.value = new OtherRecipientInfo({ schema: blockSequence });\r\n                    break;\r\n                default:\r\n                    throw new Error(\"Incorrect structure of RecipientInfo block\");\r\n            }\r\n        }\r\n    }\r\n    toSchema() {\r\n        ParameterError.assertEmpty(this.value, \"value\", \"RecipientInfo\");\r\n        const _schema = this.value.toSchema();\r\n        switch (this.variant) {\r\n            case 1:\r\n                return _schema;\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n                _schema.idBlock.tagClass = 3;\r\n                _schema.idBlock.tagNumber = (this.variant - 1);\r\n                return _schema;\r\n            default:\r\n                return new asn1js.Any();\r\n        }\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            variant: this.variant\r\n        };\r\n        if (this.value && (this.variant >= 1) && (this.variant <= 4)) {\r\n            res.value = this.value.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRecipientInfo.CLASS_NAME = \"RecipientInfo\";\n\nconst HASH_ALGORITHM$2 = \"hashAlgorithm\";\r\nconst MASK_GEN_ALGORITHM = \"maskGenAlgorithm\";\r\nconst P_SOURCE_ALGORITHM = \"pSourceAlgorithm\";\r\nconst CLEAR_PROPS$m = [\r\n    HASH_ALGORITHM$2,\r\n    MASK_GEN_ALGORITHM,\r\n    P_SOURCE_ALGORITHM\r\n];\r\nclass RSAESOAEPParams extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.hashAlgorithm = pvutils.getParametersValue(parameters, HASH_ALGORITHM$2, RSAESOAEPParams.defaultValues(HASH_ALGORITHM$2));\r\n        this.maskGenAlgorithm = pvutils.getParametersValue(parameters, MASK_GEN_ALGORITHM, RSAESOAEPParams.defaultValues(MASK_GEN_ALGORITHM));\r\n        this.pSourceAlgorithm = pvutils.getParametersValue(parameters, P_SOURCE_ALGORITHM, RSAESOAEPParams.defaultValues(P_SOURCE_ALGORITHM));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM$2:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.3.14.3.2.26\",\r\n                    algorithmParams: new asn1js.Null()\r\n                });\r\n            case MASK_GEN_ALGORITHM:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.2.840.113549.1.1.8\",\r\n                    algorithmParams: (new AlgorithmIdentifier({\r\n                        algorithmId: \"1.3.14.3.2.26\",\r\n                        algorithmParams: new asn1js.Null()\r\n                    })).toSchema()\r\n                });\r\n            case P_SOURCE_ALGORITHM:\r\n                return new AlgorithmIdentifier({\r\n                    algorithmId: \"1.2.840.113549.1.1.9\",\r\n                    algorithmParams: new asn1js.OctetString({ valueHex: (new Uint8Array([0xda, 0x39, 0xa3, 0xee, 0x5e, 0x6b, 0x4b, 0x0d, 0x32, 0x55, 0xbf, 0xef, 0x95, 0x60, 0x18, 0x90, 0xaf, 0xd8, 0x07, 0x09])).buffer })\r\n                });\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    optional: true,\r\n                    value: [AlgorithmIdentifier.schema(names.hashAlgorithm || {})]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    optional: true,\r\n                    value: [AlgorithmIdentifier.schema(names.maskGenAlgorithm || {})]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    optional: true,\r\n                    value: [AlgorithmIdentifier.schema(names.pSourceAlgorithm || {})]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$m);\r\n        const asn1 = asn1js.compareSchema(schema, schema, RSAESOAEPParams.schema({\r\n            names: {\r\n                hashAlgorithm: {\r\n                    names: {\r\n                        blockName: HASH_ALGORITHM$2\r\n                    }\r\n                },\r\n                maskGenAlgorithm: {\r\n                    names: {\r\n                        blockName: MASK_GEN_ALGORITHM\r\n                    }\r\n                },\r\n                pSourceAlgorithm: {\r\n                    names: {\r\n                        blockName: P_SOURCE_ALGORITHM\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        if (HASH_ALGORITHM$2 in asn1.result)\r\n            this.hashAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.hashAlgorithm });\r\n        if (MASK_GEN_ALGORITHM in asn1.result)\r\n            this.maskGenAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.maskGenAlgorithm });\r\n        if (P_SOURCE_ALGORITHM in asn1.result)\r\n            this.pSourceAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.pSourceAlgorithm });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        if (!this.hashAlgorithm.isEqual(RSAESOAEPParams.defaultValues(HASH_ALGORITHM$2))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.hashAlgorithm.toSchema()]\r\n            }));\r\n        }\r\n        if (!this.maskGenAlgorithm.isEqual(RSAESOAEPParams.defaultValues(MASK_GEN_ALGORITHM))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: [this.maskGenAlgorithm.toSchema()]\r\n            }));\r\n        }\r\n        if (!this.pSourceAlgorithm.isEqual(RSAESOAEPParams.defaultValues(P_SOURCE_ALGORITHM))) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 2\r\n                },\r\n                value: [this.pSourceAlgorithm.toSchema()]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (!this.hashAlgorithm.isEqual(RSAESOAEPParams.defaultValues(HASH_ALGORITHM$2))) {\r\n            res.hashAlgorithm = this.hashAlgorithm.toJSON();\r\n        }\r\n        if (!this.maskGenAlgorithm.isEqual(RSAESOAEPParams.defaultValues(MASK_GEN_ALGORITHM))) {\r\n            res.maskGenAlgorithm = this.maskGenAlgorithm.toJSON();\r\n        }\r\n        if (!this.pSourceAlgorithm.isEqual(RSAESOAEPParams.defaultValues(P_SOURCE_ALGORITHM))) {\r\n            res.pSourceAlgorithm = this.pSourceAlgorithm.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRSAESOAEPParams.CLASS_NAME = \"RSAESOAEPParams\";\n\nconst KEY_INFO = \"keyInfo\";\r\nconst ENTITY_U_INFO = \"entityUInfo\";\r\nconst SUPP_PUB_INFO = \"suppPubInfo\";\r\nconst CLEAR_PROPS$l = [\r\n    KEY_INFO,\r\n    ENTITY_U_INFO,\r\n    SUPP_PUB_INFO\r\n];\r\nclass ECCCMSSharedInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.keyInfo = pvutils.getParametersValue(parameters, KEY_INFO, ECCCMSSharedInfo.defaultValues(KEY_INFO));\r\n        if (ENTITY_U_INFO in parameters) {\r\n            this.entityUInfo = pvutils.getParametersValue(parameters, ENTITY_U_INFO, ECCCMSSharedInfo.defaultValues(ENTITY_U_INFO));\r\n        }\r\n        this.suppPubInfo = pvutils.getParametersValue(parameters, SUPP_PUB_INFO, ECCCMSSharedInfo.defaultValues(SUPP_PUB_INFO));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case KEY_INFO:\r\n                return new AlgorithmIdentifier();\r\n            case ENTITY_U_INFO:\r\n                return new asn1js.OctetString();\r\n            case SUPP_PUB_INFO:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case KEY_INFO:\r\n            case ENTITY_U_INFO:\r\n            case SUPP_PUB_INFO:\r\n                return (memberValue.isEqual(ECCCMSSharedInfo.defaultValues(memberName)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.keyInfo || {}),\r\n                new asn1js.Constructed({\r\n                    name: (names.entityUInfo || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    optional: true,\r\n                    value: [new asn1js.OctetString()]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.suppPubInfo || EMPTY_STRING),\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: [new asn1js.OctetString()]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$l);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ECCCMSSharedInfo.schema({\r\n            names: {\r\n                keyInfo: {\r\n                    names: {\r\n                        blockName: KEY_INFO\r\n                    }\r\n                },\r\n                entityUInfo: ENTITY_U_INFO,\r\n                suppPubInfo: SUPP_PUB_INFO\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.keyInfo = new AlgorithmIdentifier({ schema: asn1.result.keyInfo });\r\n        if (ENTITY_U_INFO in asn1.result)\r\n            this.entityUInfo = asn1.result.entityUInfo.valueBlock.value[0];\r\n        this.suppPubInfo = asn1.result.suppPubInfo.valueBlock.value[0];\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.keyInfo.toSchema());\r\n        if (this.entityUInfo) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.entityUInfo]\r\n            }));\r\n        }\r\n        outputArray.push(new asn1js.Constructed({\r\n            idBlock: {\r\n                tagClass: 3,\r\n                tagNumber: 2\r\n            },\r\n            value: [this.suppPubInfo]\r\n        }));\r\n        return new asn1js.Sequence({\r\n            value: outputArray\r\n        });\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            keyInfo: this.keyInfo.toJSON(),\r\n            suppPubInfo: this.suppPubInfo.toJSON(),\r\n        };\r\n        if (this.entityUInfo) {\r\n            res.entityUInfo = this.entityUInfo.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nECCCMSSharedInfo.CLASS_NAME = \"ECCCMSSharedInfo\";\n\nconst VERSION$8 = \"version\";\r\nconst ORIGINATOR_INFO = \"originatorInfo\";\r\nconst RECIPIENT_INFOS = \"recipientInfos\";\r\nconst ENCRYPTED_CONTENT_INFO = \"encryptedContentInfo\";\r\nconst UNPROTECTED_ATTRS = \"unprotectedAttrs\";\r\nconst CLEAR_PROPS$k = [\r\n    VERSION$8,\r\n    ORIGINATOR_INFO,\r\n    RECIPIENT_INFOS,\r\n    ENCRYPTED_CONTENT_INFO,\r\n    UNPROTECTED_ATTRS\r\n];\r\nconst defaultEncryptionParams = {\r\n    kdfAlgorithm: \"SHA-512\",\r\n    kekEncryptionLength: 256\r\n};\r\nconst curveLengthByName = {\r\n    \"P-256\": 256,\r\n    \"P-384\": 384,\r\n    \"P-521\": 528\r\n};\r\nclass EnvelopedData extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$8, EnvelopedData.defaultValues(VERSION$8));\r\n        if (ORIGINATOR_INFO in parameters) {\r\n            this.originatorInfo = pvutils.getParametersValue(parameters, ORIGINATOR_INFO, EnvelopedData.defaultValues(ORIGINATOR_INFO));\r\n        }\r\n        this.recipientInfos = pvutils.getParametersValue(parameters, RECIPIENT_INFOS, EnvelopedData.defaultValues(RECIPIENT_INFOS));\r\n        this.encryptedContentInfo = pvutils.getParametersValue(parameters, ENCRYPTED_CONTENT_INFO, EnvelopedData.defaultValues(ENCRYPTED_CONTENT_INFO));\r\n        if (UNPROTECTED_ATTRS in parameters) {\r\n            this.unprotectedAttrs = pvutils.getParametersValue(parameters, UNPROTECTED_ATTRS, EnvelopedData.defaultValues(UNPROTECTED_ATTRS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$8:\r\n                return 0;\r\n            case ORIGINATOR_INFO:\r\n                return new OriginatorInfo();\r\n            case RECIPIENT_INFOS:\r\n                return [];\r\n            case ENCRYPTED_CONTENT_INFO:\r\n                return new EncryptedContentInfo();\r\n            case UNPROTECTED_ATTRS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$8:\r\n                return (memberValue === EnvelopedData.defaultValues(memberName));\r\n            case ORIGINATOR_INFO:\r\n                return ((memberValue.certs.certificates.length === 0) && (memberValue.crls.crls.length === 0));\r\n            case RECIPIENT_INFOS:\r\n            case UNPROTECTED_ATTRS:\r\n                return (memberValue.length === 0);\r\n            case ENCRYPTED_CONTENT_INFO:\r\n                return ((EncryptedContentInfo.compareWithDefault(\"contentType\", memberValue.contentType)) &&\r\n                    (EncryptedContentInfo.compareWithDefault(\"contentEncryptionAlgorithm\", memberValue.contentEncryptionAlgorithm) &&\r\n                        (EncryptedContentInfo.compareWithDefault(\"encryptedContent\", memberValue.encryptedContent))));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    name: (names.originatorInfo || EMPTY_STRING),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: OriginatorInfo.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Set({\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.recipientInfos || EMPTY_STRING),\r\n                            value: RecipientInfo.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                EncryptedContentInfo.schema(names.encryptedContentInfo || {}),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.unprotectedAttrs || EMPTY_STRING),\r\n                            value: Attribute.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$k);\r\n        const asn1 = asn1js.compareSchema(schema, schema, EnvelopedData.schema({\r\n            names: {\r\n                version: VERSION$8,\r\n                originatorInfo: ORIGINATOR_INFO,\r\n                recipientInfos: RECIPIENT_INFOS,\r\n                encryptedContentInfo: {\r\n                    names: {\r\n                        blockName: ENCRYPTED_CONTENT_INFO\r\n                    }\r\n                },\r\n                unprotectedAttrs: UNPROTECTED_ATTRS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        if (ORIGINATOR_INFO in asn1.result) {\r\n            this.originatorInfo = new OriginatorInfo({\r\n                schema: new asn1js.Sequence({\r\n                    value: asn1.result.originatorInfo.valueBlock.value\r\n                })\r\n            });\r\n        }\r\n        this.recipientInfos = Array.from(asn1.result.recipientInfos, o => new RecipientInfo({ schema: o }));\r\n        this.encryptedContentInfo = new EncryptedContentInfo({ schema: asn1.result.encryptedContentInfo });\r\n        if (UNPROTECTED_ATTRS in asn1.result)\r\n            this.unprotectedAttrs = Array.from(asn1.result.unprotectedAttrs, o => new Attribute({ schema: o }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        if (this.originatorInfo) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: this.originatorInfo.toSchema().valueBlock.value\r\n            }));\r\n        }\r\n        outputArray.push(new asn1js.Set({\r\n            value: Array.from(this.recipientInfos, o => o.toSchema())\r\n        }));\r\n        outputArray.push(this.encryptedContentInfo.toSchema());\r\n        if (this.unprotectedAttrs) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.unprotectedAttrs, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            recipientInfos: Array.from(this.recipientInfos, o => o.toJSON()),\r\n            encryptedContentInfo: this.encryptedContentInfo.toJSON(),\r\n        };\r\n        if (this.originatorInfo)\r\n            res.originatorInfo = this.originatorInfo.toJSON();\r\n        if (this.unprotectedAttrs)\r\n            res.unprotectedAttrs = Array.from(this.unprotectedAttrs, o => o.toJSON());\r\n        return res;\r\n    }\r\n    addRecipientByCertificate(certificate, parameters, variant, crypto = getCrypto(true)) {\r\n        const encryptionParameters = Object.assign({ useOAEP: true, oaepHashAlgorithm: \"SHA-512\" }, defaultEncryptionParams, parameters || {});\r\n        if (certificate.subjectPublicKeyInfo.algorithm.algorithmId.indexOf(\"1.2.840.113549\") !== (-1))\r\n            variant = 1;\r\n        else {\r\n            if (certificate.subjectPublicKeyInfo.algorithm.algorithmId.indexOf(\"1.2.840.10045\") !== (-1))\r\n                variant = 2;\r\n            else\r\n                throw new Error(`Unknown type of certificate's public key: ${certificate.subjectPublicKeyInfo.algorithm.algorithmId}`);\r\n        }\r\n        switch (variant) {\r\n            case 1:\r\n                {\r\n                    let algorithmId;\r\n                    let algorithmParams;\r\n                    if (encryptionParameters.useOAEP === true) {\r\n                        algorithmId = crypto.getOIDByAlgorithm({\r\n                            name: \"RSA-OAEP\"\r\n                        }, true, \"keyEncryptionAlgorithm\");\r\n                        const hashOID = crypto.getOIDByAlgorithm({\r\n                            name: encryptionParameters.oaepHashAlgorithm\r\n                        }, true, \"RSAES-OAEP-params\");\r\n                        const hashAlgorithm = new AlgorithmIdentifier({\r\n                            algorithmId: hashOID,\r\n                            algorithmParams: new asn1js.Null()\r\n                        });\r\n                        const rsaOAEPParams = new RSAESOAEPParams({\r\n                            hashAlgorithm,\r\n                            maskGenAlgorithm: new AlgorithmIdentifier({\r\n                                algorithmId: \"1.2.840.113549.1.1.8\",\r\n                                algorithmParams: hashAlgorithm.toSchema()\r\n                            })\r\n                        });\r\n                        algorithmParams = rsaOAEPParams.toSchema();\r\n                    }\r\n                    else {\r\n                        algorithmId = crypto.getOIDByAlgorithm({\r\n                            name: \"RSAES-PKCS1-v1_5\"\r\n                        });\r\n                        if (algorithmId === EMPTY_STRING)\r\n                            throw new Error(\"Can not find OID for RSAES-PKCS1-v1_5\");\r\n                        algorithmParams = new asn1js.Null();\r\n                    }\r\n                    const keyInfo = new KeyTransRecipientInfo({\r\n                        version: 0,\r\n                        rid: new IssuerAndSerialNumber({\r\n                            issuer: certificate.issuer,\r\n                            serialNumber: certificate.serialNumber\r\n                        }),\r\n                        keyEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                            algorithmId,\r\n                            algorithmParams\r\n                        }),\r\n                        recipientCertificate: certificate,\r\n                    });\r\n                    this.recipientInfos.push(new RecipientInfo({\r\n                        variant: 1,\r\n                        value: keyInfo\r\n                    }));\r\n                }\r\n                break;\r\n            case 2:\r\n                {\r\n                    const recipientIdentifier = new KeyAgreeRecipientIdentifier({\r\n                        variant: 1,\r\n                        value: new IssuerAndSerialNumber({\r\n                            issuer: certificate.issuer,\r\n                            serialNumber: certificate.serialNumber\r\n                        })\r\n                    });\r\n                    this._addKeyAgreeRecipientInfo(recipientIdentifier, encryptionParameters, { recipientCertificate: certificate }, crypto);\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Unknown \"variant\" value: ${variant}`);\r\n        }\r\n        return true;\r\n    }\r\n    addRecipientByPreDefinedData(preDefinedData, parameters = {}, variant, crypto = getCrypto(true)) {\r\n        ArgumentError.assert(preDefinedData, \"preDefinedData\", \"ArrayBuffer\");\r\n        if (!preDefinedData.byteLength) {\r\n            throw new Error(\"Pre-defined data could have zero length\");\r\n        }\r\n        if (!parameters.keyIdentifier) {\r\n            const keyIdentifierBuffer = new ArrayBuffer(16);\r\n            const keyIdentifierView = new Uint8Array(keyIdentifierBuffer);\r\n            crypto.getRandomValues(keyIdentifierView);\r\n            parameters.keyIdentifier = keyIdentifierBuffer;\r\n        }\r\n        if (!parameters.hmacHashAlgorithm)\r\n            parameters.hmacHashAlgorithm = \"SHA-512\";\r\n        if (parameters.iterationCount === undefined) {\r\n            parameters.iterationCount = 2048;\r\n        }\r\n        if (!parameters.keyEncryptionAlgorithm) {\r\n            parameters.keyEncryptionAlgorithm = {\r\n                name: \"AES-KW\",\r\n                length: 256\r\n            };\r\n        }\r\n        if (!parameters.keyEncryptionAlgorithmParams)\r\n            parameters.keyEncryptionAlgorithmParams = new asn1js.Null();\r\n        switch (variant) {\r\n            case 1:\r\n                {\r\n                    const kekOID = crypto.getOIDByAlgorithm(parameters.keyEncryptionAlgorithm, true, \"keyEncryptionAlgorithm\");\r\n                    const keyInfo = new KEKRecipientInfo({\r\n                        version: 4,\r\n                        kekid: new KEKIdentifier({\r\n                            keyIdentifier: new asn1js.OctetString({ valueHex: parameters.keyIdentifier })\r\n                        }),\r\n                        keyEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                            algorithmId: kekOID,\r\n                            algorithmParams: parameters.keyEncryptionAlgorithmParams\r\n                        }),\r\n                        preDefinedKEK: preDefinedData\r\n                    });\r\n                    this.recipientInfos.push(new RecipientInfo({\r\n                        variant: 3,\r\n                        value: keyInfo\r\n                    }));\r\n                }\r\n                break;\r\n            case 2:\r\n                {\r\n                    const pbkdf2OID = crypto.getOIDByAlgorithm({ name: \"PBKDF2\" }, true, \"keyDerivationAlgorithm\");\r\n                    const saltBuffer = new ArrayBuffer(64);\r\n                    const saltView = new Uint8Array(saltBuffer);\r\n                    crypto.getRandomValues(saltView);\r\n                    const hmacOID = crypto.getOIDByAlgorithm({\r\n                        name: \"HMAC\",\r\n                        hash: {\r\n                            name: parameters.hmacHashAlgorithm\r\n                        }\r\n                    }, true, \"hmacHashAlgorithm\");\r\n                    const pbkdf2Params = new PBKDF2Params({\r\n                        salt: new asn1js.OctetString({ valueHex: saltBuffer }),\r\n                        iterationCount: parameters.iterationCount,\r\n                        prf: new AlgorithmIdentifier({\r\n                            algorithmId: hmacOID,\r\n                            algorithmParams: new asn1js.Null()\r\n                        })\r\n                    });\r\n                    const kekOID = crypto.getOIDByAlgorithm(parameters.keyEncryptionAlgorithm, true, \"keyEncryptionAlgorithm\");\r\n                    const keyInfo = new PasswordRecipientinfo({\r\n                        version: 0,\r\n                        keyDerivationAlgorithm: new AlgorithmIdentifier({\r\n                            algorithmId: pbkdf2OID,\r\n                            algorithmParams: pbkdf2Params.toSchema()\r\n                        }),\r\n                        keyEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                            algorithmId: kekOID,\r\n                            algorithmParams: parameters.keyEncryptionAlgorithmParams\r\n                        }),\r\n                        password: preDefinedData\r\n                    });\r\n                    this.recipientInfos.push(new RecipientInfo({\r\n                        variant: 4,\r\n                        value: keyInfo\r\n                    }));\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Unknown value for \"variant\": ${variant}`);\r\n        }\r\n    }\r\n    addRecipientByKeyIdentifier(key, keyId, parameters, crypto = getCrypto(true)) {\r\n        const encryptionParameters = Object.assign({}, defaultEncryptionParams, parameters || {});\r\n        const recipientIdentifier = new KeyAgreeRecipientIdentifier({\r\n            variant: 2,\r\n            value: new RecipientKeyIdentifier({\r\n                subjectKeyIdentifier: new asn1js.OctetString({ valueHex: keyId }),\r\n            })\r\n        });\r\n        this._addKeyAgreeRecipientInfo(recipientIdentifier, encryptionParameters, { recipientPublicKey: key }, crypto);\r\n    }\r\n    _addKeyAgreeRecipientInfo(recipientIdentifier, encryptionParameters, extraRecipientInfoParams, crypto = getCrypto(true)) {\r\n        const encryptedKey = new RecipientEncryptedKey({\r\n            rid: recipientIdentifier\r\n        });\r\n        const aesKWoid = crypto.getOIDByAlgorithm({\r\n            name: \"AES-KW\",\r\n            length: encryptionParameters.kekEncryptionLength\r\n        }, true, \"keyEncryptionAlgorithm\");\r\n        const aesKW = new AlgorithmIdentifier({\r\n            algorithmId: aesKWoid,\r\n        });\r\n        const ecdhOID = crypto.getOIDByAlgorithm({\r\n            name: \"ECDH\",\r\n            kdf: encryptionParameters.kdfAlgorithm\r\n        }, true, \"KeyAgreeRecipientInfo\");\r\n        const ukmBuffer = new ArrayBuffer(64);\r\n        const ukmView = new Uint8Array(ukmBuffer);\r\n        crypto.getRandomValues(ukmView);\r\n        const recipientInfoParams = {\r\n            version: 3,\r\n            ukm: new asn1js.OctetString({ valueHex: ukmBuffer }),\r\n            keyEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                algorithmId: ecdhOID,\r\n                algorithmParams: aesKW.toSchema()\r\n            }),\r\n            recipientEncryptedKeys: new RecipientEncryptedKeys({\r\n                encryptedKeys: [encryptedKey]\r\n            })\r\n        };\r\n        const keyInfo = new KeyAgreeRecipientInfo(Object.assign(recipientInfoParams, extraRecipientInfoParams));\r\n        this.recipientInfos.push(new RecipientInfo({\r\n            variant: 2,\r\n            value: keyInfo\r\n        }));\r\n    }\r\n    async encrypt(contentEncryptionAlgorithm, contentToEncrypt, crypto = getCrypto(true)) {\r\n        const ivBuffer = new ArrayBuffer(16);\r\n        const ivView = new Uint8Array(ivBuffer);\r\n        crypto.getRandomValues(ivView);\r\n        const contentView = new Uint8Array(contentToEncrypt);\r\n        const contentEncryptionOID = crypto.getOIDByAlgorithm(contentEncryptionAlgorithm, true, \"contentEncryptionAlgorithm\");\r\n        const sessionKey = await crypto.generateKey(contentEncryptionAlgorithm, true, [\"encrypt\"]);\r\n        const encryptedContent = await crypto.encrypt({\r\n            name: contentEncryptionAlgorithm.name,\r\n            iv: ivView\r\n        }, sessionKey, contentView);\r\n        const exportedSessionKey = await crypto.exportKey(\"raw\", sessionKey);\r\n        this.version = 2;\r\n        this.encryptedContentInfo = new EncryptedContentInfo({\r\n            contentType: \"1.2.840.113549.1.7.1\",\r\n            contentEncryptionAlgorithm: new AlgorithmIdentifier({\r\n                algorithmId: contentEncryptionOID,\r\n                algorithmParams: new asn1js.OctetString({ valueHex: ivBuffer })\r\n            }),\r\n            encryptedContent: new asn1js.OctetString({ valueHex: encryptedContent })\r\n        });\r\n        const SubKeyAgreeRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            let recipientCurve;\r\n            let recipientPublicKey;\r\n            if (recipientInfo.recipientPublicKey) {\r\n                recipientCurve = recipientInfo.recipientPublicKey.algorithm.namedCurve;\r\n                recipientPublicKey = recipientInfo.recipientPublicKey;\r\n            }\r\n            else if (recipientInfo.recipientCertificate) {\r\n                const curveObject = recipientInfo.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;\r\n                if (curveObject.constructor.blockName() !== asn1js.ObjectIdentifier.blockName())\r\n                    throw new Error(`Incorrect \"recipientCertificate\" for index ${index}`);\r\n                const curveOID = curveObject.valueBlock.toString();\r\n                switch (curveOID) {\r\n                    case \"1.2.840.10045.3.1.7\":\r\n                        recipientCurve = \"P-256\";\r\n                        break;\r\n                    case \"1.3.132.0.34\":\r\n                        recipientCurve = \"P-384\";\r\n                        break;\r\n                    case \"1.3.132.0.35\":\r\n                        recipientCurve = \"P-521\";\r\n                        break;\r\n                    default:\r\n                        throw new Error(`Incorrect curve OID for index ${index}`);\r\n                }\r\n                recipientPublicKey = await recipientInfo.recipientCertificate.getPublicKey({\r\n                    algorithm: {\r\n                        algorithm: {\r\n                            name: \"ECDH\",\r\n                            namedCurve: recipientCurve\r\n                        },\r\n                        usages: []\r\n                    }\r\n                }, crypto);\r\n            }\r\n            else {\r\n                throw new Error(\"Unsupported RecipientInfo\");\r\n            }\r\n            const recipientCurveLength = curveLengthByName[recipientCurve];\r\n            const ecdhKeys = await crypto.generateKey({ name: \"ECDH\", namedCurve: recipientCurve }, true, [\"deriveBits\"]);\r\n            const exportedECDHPublicKey = await crypto.exportKey(\"spki\", ecdhKeys.publicKey);\r\n            const derivedBits = await crypto.deriveBits({\r\n                name: \"ECDH\",\r\n                public: recipientPublicKey\r\n            }, ecdhKeys.privateKey, recipientCurveLength);\r\n            const aesKWAlgorithm = new AlgorithmIdentifier({ schema: recipientInfo.keyEncryptionAlgorithm.algorithmParams });\r\n            const kwAlgorithm = crypto.getAlgorithmByOID(aesKWAlgorithm.algorithmId, true, \"aesKWAlgorithm\");\r\n            let kwLength = kwAlgorithm.length;\r\n            const kwLengthBuffer = new ArrayBuffer(4);\r\n            const kwLengthView = new Uint8Array(kwLengthBuffer);\r\n            for (let j = 3; j >= 0; j--) {\r\n                kwLengthView[j] = kwLength;\r\n                kwLength >>= 8;\r\n            }\r\n            const eccInfo = new ECCCMSSharedInfo({\r\n                keyInfo: new AlgorithmIdentifier({\r\n                    algorithmId: aesKWAlgorithm.algorithmId\r\n                }),\r\n                entityUInfo: recipientInfo.ukm,\r\n                suppPubInfo: new asn1js.OctetString({ valueHex: kwLengthBuffer })\r\n            });\r\n            const encodedInfo = eccInfo.toSchema().toBER(false);\r\n            const ecdhAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"ecdhAlgorithm\");\r\n            const derivedKeyRaw = await kdf(ecdhAlgorithm.kdf, derivedBits, kwAlgorithm.length, encodedInfo, crypto);\r\n            const awsKW = await crypto.importKey(\"raw\", derivedKeyRaw, { name: \"AES-KW\" }, true, [\"wrapKey\"]);\r\n            const wrappedKey = await crypto.wrapKey(\"raw\", sessionKey, awsKW, { name: \"AES-KW\" });\r\n            const originator = new OriginatorIdentifierOrKey();\r\n            originator.variant = 3;\r\n            originator.value = OriginatorPublicKey.fromBER(exportedECDHPublicKey);\r\n            recipientInfo.originator = originator;\r\n            recipientInfo.recipientEncryptedKeys.encryptedKeys[0].encryptedKey = new asn1js.OctetString({ valueHex: wrappedKey });\r\n            return { ecdhPrivateKey: ecdhKeys.privateKey };\r\n        };\r\n        const SubKeyTransRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            const algorithmParameters = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"keyEncryptionAlgorithm\");\r\n            if (algorithmParameters.name === \"RSA-OAEP\") {\r\n                const schema = recipientInfo.keyEncryptionAlgorithm.algorithmParams;\r\n                const rsaOAEPParams = new RSAESOAEPParams({ schema });\r\n                algorithmParameters.hash = crypto.getAlgorithmByOID(rsaOAEPParams.hashAlgorithm.algorithmId);\r\n                if ((\"name\" in algorithmParameters.hash) === false)\r\n                    throw new Error(`Incorrect OID for hash algorithm: ${rsaOAEPParams.hashAlgorithm.algorithmId}`);\r\n            }\r\n            try {\r\n                const publicKey = await recipientInfo.recipientCertificate.getPublicKey({\r\n                    algorithm: {\r\n                        algorithm: algorithmParameters,\r\n                        usages: [\"encrypt\", \"wrapKey\"]\r\n                    }\r\n                }, crypto);\r\n                const encryptedKey = await crypto.encrypt(publicKey.algorithm, publicKey, exportedSessionKey);\r\n                recipientInfo.encryptedKey = new asn1js.OctetString({ valueHex: encryptedKey });\r\n            }\r\n            catch {\r\n            }\r\n        };\r\n        const SubKEKRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            const kekAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"kekAlgorithm\");\r\n            const kekKey = await crypto.importKey(\"raw\", new Uint8Array(recipientInfo.preDefinedKEK), kekAlgorithm, true, [\"wrapKey\"]);\r\n            const wrappedKey = await crypto.wrapKey(\"raw\", sessionKey, kekKey, kekAlgorithm);\r\n            recipientInfo.encryptedKey = new asn1js.OctetString({ valueHex: wrappedKey });\r\n        };\r\n        const SubPasswordRecipientinfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            let pbkdf2Params;\r\n            if (!recipientInfo.keyDerivationAlgorithm)\r\n                throw new Error(\"Please append encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            if (!recipientInfo.keyDerivationAlgorithm.algorithmParams)\r\n                throw new Error(\"Incorrectly encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            try {\r\n                pbkdf2Params = new PBKDF2Params({ schema: recipientInfo.keyDerivationAlgorithm.algorithmParams });\r\n            }\r\n            catch (ex) {\r\n                throw new Error(\"Incorrectly encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            }\r\n            const passwordView = new Uint8Array(recipientInfo.password);\r\n            const derivationKey = await crypto.importKey(\"raw\", passwordView, \"PBKDF2\", false, [\"deriveKey\"]);\r\n            const kekAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"kekAlgorithm\");\r\n            let hmacHashAlgorithm = \"SHA-1\";\r\n            if (pbkdf2Params.prf) {\r\n                const prfAlgorithm = crypto.getAlgorithmByOID(pbkdf2Params.prf.algorithmId, true, \"prfAlgorithm\");\r\n                hmacHashAlgorithm = prfAlgorithm.hash.name;\r\n            }\r\n            const saltView = new Uint8Array(pbkdf2Params.salt.valueBlock.valueHex);\r\n            const iterations = pbkdf2Params.iterationCount;\r\n            const derivedKey = await crypto.deriveKey({\r\n                name: \"PBKDF2\",\r\n                hash: {\r\n                    name: hmacHashAlgorithm\r\n                },\r\n                salt: saltView,\r\n                iterations\r\n            }, derivationKey, kekAlgorithm, true, [\"wrapKey\"]);\r\n            const wrappedKey = await crypto.wrapKey(\"raw\", sessionKey, derivedKey, kekAlgorithm);\r\n            recipientInfo.encryptedKey = new asn1js.OctetString({ valueHex: wrappedKey });\r\n        };\r\n        const res = [];\r\n        for (let i = 0; i < this.recipientInfos.length; i++) {\r\n            switch (this.recipientInfos[i].variant) {\r\n                case 1:\r\n                    res.push(await SubKeyTransRecipientInfo(i));\r\n                    break;\r\n                case 2:\r\n                    res.push(await SubKeyAgreeRecipientInfo(i));\r\n                    break;\r\n                case 3:\r\n                    res.push(await SubKEKRecipientInfo(i));\r\n                    break;\r\n                case 4:\r\n                    res.push(await SubPasswordRecipientinfo(i));\r\n                    break;\r\n                default:\r\n                    throw new Error(`Unknown recipient type in array with index ${i}`);\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    async decrypt(recipientIndex, parameters, crypto = getCrypto(true)) {\r\n        const decryptionParameters = parameters || {};\r\n        if ((recipientIndex + 1) > this.recipientInfos.length) {\r\n            throw new Error(`Maximum value for \"index\" is: ${this.recipientInfos.length - 1}`);\r\n        }\r\n        const SubKeyAgreeRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            let curveOID;\r\n            let recipientCurve;\r\n            let recipientCurveLength;\r\n            const originator = recipientInfo.originator;\r\n            if (decryptionParameters.recipientCertificate) {\r\n                const curveObject = decryptionParameters.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;\r\n                if (curveObject.constructor.blockName() !== asn1js.ObjectIdentifier.blockName()) {\r\n                    throw new Error(`Incorrect \"recipientCertificate\" for index ${index}`);\r\n                }\r\n                curveOID = curveObject.valueBlock.toString();\r\n            }\r\n            else if (originator.value.algorithm.algorithmParams) {\r\n                const curveObject = originator.value.algorithm.algorithmParams;\r\n                if (curveObject.constructor.blockName() !== asn1js.ObjectIdentifier.blockName()) {\r\n                    throw new Error(`Incorrect originator for index ${index}`);\r\n                }\r\n                curveOID = curveObject.valueBlock.toString();\r\n            }\r\n            else {\r\n                throw new Error(\"Parameter \\\"recipientCertificate\\\" is mandatory for \\\"KeyAgreeRecipientInfo\\\" if algorithm params are missing from originator\");\r\n            }\r\n            if (!decryptionParameters.recipientPrivateKey)\r\n                throw new Error(\"Parameter \\\"recipientPrivateKey\\\" is mandatory for \\\"KeyAgreeRecipientInfo\\\"\");\r\n            switch (curveOID) {\r\n                case \"1.2.840.10045.3.1.7\":\r\n                    recipientCurve = \"P-256\";\r\n                    recipientCurveLength = 256;\r\n                    break;\r\n                case \"1.3.132.0.34\":\r\n                    recipientCurve = \"P-384\";\r\n                    recipientCurveLength = 384;\r\n                    break;\r\n                case \"1.3.132.0.35\":\r\n                    recipientCurve = \"P-521\";\r\n                    recipientCurveLength = 528;\r\n                    break;\r\n                default:\r\n                    throw new Error(`Incorrect curve OID for index ${index}`);\r\n            }\r\n            const ecdhPrivateKey = await crypto.importKey(\"pkcs8\", decryptionParameters.recipientPrivateKey, {\r\n                name: \"ECDH\",\r\n                namedCurve: recipientCurve\r\n            }, true, [\"deriveBits\"]);\r\n            if ((\"algorithmParams\" in originator.value.algorithm) === false)\r\n                originator.value.algorithm.algorithmParams = new asn1js.ObjectIdentifier({ value: curveOID });\r\n            const buffer = originator.value.toSchema().toBER(false);\r\n            const ecdhPublicKey = await crypto.importKey(\"spki\", buffer, {\r\n                name: \"ECDH\",\r\n                namedCurve: recipientCurve\r\n            }, true, []);\r\n            const sharedSecret = await crypto.deriveBits({\r\n                name: \"ECDH\",\r\n                public: ecdhPublicKey\r\n            }, ecdhPrivateKey, recipientCurveLength);\r\n            async function applyKDF(includeAlgorithmParams) {\r\n                includeAlgorithmParams = includeAlgorithmParams || false;\r\n                const aesKWAlgorithm = new AlgorithmIdentifier({ schema: recipientInfo.keyEncryptionAlgorithm.algorithmParams });\r\n                const kwAlgorithm = crypto.getAlgorithmByOID(aesKWAlgorithm.algorithmId, true, \"kwAlgorithm\");\r\n                let kwLength = kwAlgorithm.length;\r\n                const kwLengthBuffer = new ArrayBuffer(4);\r\n                const kwLengthView = new Uint8Array(kwLengthBuffer);\r\n                for (let j = 3; j >= 0; j--) {\r\n                    kwLengthView[j] = kwLength;\r\n                    kwLength >>= 8;\r\n                }\r\n                const keyInfoAlgorithm = {\r\n                    algorithmId: aesKWAlgorithm.algorithmId\r\n                };\r\n                if (includeAlgorithmParams) {\r\n                    keyInfoAlgorithm.algorithmParams = new asn1js.Null();\r\n                }\r\n                const eccInfo = new ECCCMSSharedInfo({\r\n                    keyInfo: new AlgorithmIdentifier(keyInfoAlgorithm),\r\n                    entityUInfo: recipientInfo.ukm,\r\n                    suppPubInfo: new asn1js.OctetString({ valueHex: kwLengthBuffer })\r\n                });\r\n                const encodedInfo = eccInfo.toSchema().toBER(false);\r\n                const ecdhAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"ecdhAlgorithm\");\r\n                if (!ecdhAlgorithm.name) {\r\n                    throw new Error(`Incorrect OID for key encryption algorithm: ${recipientInfo.keyEncryptionAlgorithm.algorithmId}`);\r\n                }\r\n                return kdf(ecdhAlgorithm.kdf, sharedSecret, kwAlgorithm.length, encodedInfo, crypto);\r\n            }\r\n            const kdfResult = await applyKDF();\r\n            const importAesKwKey = async (kdfResult) => {\r\n                return crypto.importKey(\"raw\", kdfResult, { name: \"AES-KW\" }, true, [\"unwrapKey\"]);\r\n            };\r\n            const aesKwKey = await importAesKwKey(kdfResult);\r\n            const unwrapSessionKey = async (aesKwKey) => {\r\n                const algorithmId = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId;\r\n                const contentEncryptionAlgorithm = crypto.getAlgorithmByOID(algorithmId, true, \"contentEncryptionAlgorithm\");\r\n                return crypto.unwrapKey(\"raw\", recipientInfo.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView, aesKwKey, { name: \"AES-KW\" }, contentEncryptionAlgorithm, true, [\"decrypt\"]);\r\n            };\r\n            try {\r\n                return await unwrapSessionKey(aesKwKey);\r\n            }\r\n            catch {\r\n                const kdfResult = await applyKDF(true);\r\n                const aesKwKey = await importAesKwKey(kdfResult);\r\n                return unwrapSessionKey(aesKwKey);\r\n            }\r\n        };\r\n        const SubKeyTransRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            if (!decryptionParameters.recipientPrivateKey) {\r\n                throw new Error(\"Parameter \\\"recipientPrivateKey\\\" is mandatory for \\\"KeyTransRecipientInfo\\\"\");\r\n            }\r\n            const algorithmParameters = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"keyEncryptionAlgorithm\");\r\n            if (algorithmParameters.name === \"RSA-OAEP\") {\r\n                const schema = recipientInfo.keyEncryptionAlgorithm.algorithmParams;\r\n                const rsaOAEPParams = new RSAESOAEPParams({ schema });\r\n                algorithmParameters.hash = crypto.getAlgorithmByOID(rsaOAEPParams.hashAlgorithm.algorithmId);\r\n                if ((\"name\" in algorithmParameters.hash) === false)\r\n                    throw new Error(`Incorrect OID for hash algorithm: ${rsaOAEPParams.hashAlgorithm.algorithmId}`);\r\n            }\r\n            const privateKey = await crypto.importKey(\"pkcs8\", decryptionParameters.recipientPrivateKey, algorithmParameters, true, [\"decrypt\"]);\r\n            const sessionKey = await crypto.decrypt(privateKey.algorithm, privateKey, recipientInfo.encryptedKey.valueBlock.valueHexView);\r\n            const algorithmId = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId;\r\n            const contentEncryptionAlgorithm = crypto.getAlgorithmByOID(algorithmId, true, \"contentEncryptionAlgorithm\");\r\n            if ((\"name\" in contentEncryptionAlgorithm) === false)\r\n                throw new Error(`Incorrect \"contentEncryptionAlgorithm\": ${algorithmId}`);\r\n            return crypto.importKey(\"raw\", sessionKey, contentEncryptionAlgorithm, true, [\"decrypt\"]);\r\n        };\r\n        const SubKEKRecipientInfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            if (!decryptionParameters.preDefinedData)\r\n                throw new Error(\"Parameter \\\"preDefinedData\\\" is mandatory for \\\"KEKRecipientInfo\\\"\");\r\n            const kekAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"kekAlgorithm\");\r\n            const importedKey = await crypto.importKey(\"raw\", decryptionParameters.preDefinedData, kekAlgorithm, true, [\"unwrapKey\"]);\r\n            const algorithmId = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId;\r\n            const contentEncryptionAlgorithm = crypto.getAlgorithmByOID(algorithmId, true, \"contentEncryptionAlgorithm\");\r\n            if (!contentEncryptionAlgorithm.name) {\r\n                throw new Error(`Incorrect \"contentEncryptionAlgorithm\": ${algorithmId}`);\r\n            }\r\n            return crypto.unwrapKey(\"raw\", recipientInfo.encryptedKey.valueBlock.valueHexView, importedKey, kekAlgorithm, contentEncryptionAlgorithm, true, [\"decrypt\"]);\r\n        };\r\n        const SubPasswordRecipientinfo = async (index) => {\r\n            const recipientInfo = this.recipientInfos[index].value;\r\n            let pbkdf2Params;\r\n            if (!decryptionParameters.preDefinedData) {\r\n                throw new Error(\"Parameter \\\"preDefinedData\\\" is mandatory for \\\"KEKRecipientInfo\\\"\");\r\n            }\r\n            if (!recipientInfo.keyDerivationAlgorithm) {\r\n                throw new Error(\"Please append encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            }\r\n            if (!recipientInfo.keyDerivationAlgorithm.algorithmParams) {\r\n                throw new Error(\"Incorrectly encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            }\r\n            try {\r\n                pbkdf2Params = new PBKDF2Params({ schema: recipientInfo.keyDerivationAlgorithm.algorithmParams });\r\n            }\r\n            catch (ex) {\r\n                throw new Error(\"Incorrectly encoded \\\"keyDerivationAlgorithm\\\"\");\r\n            }\r\n            const pbkdf2Key = await crypto.importKey(\"raw\", decryptionParameters.preDefinedData, \"PBKDF2\", false, [\"deriveKey\"]);\r\n            const kekAlgorithm = crypto.getAlgorithmByOID(recipientInfo.keyEncryptionAlgorithm.algorithmId, true, \"keyEncryptionAlgorithm\");\r\n            const hmacHashAlgorithm = pbkdf2Params.prf\r\n                ? crypto.getAlgorithmByOID(pbkdf2Params.prf.algorithmId, true, \"prfAlgorithm\").hash.name\r\n                : \"SHA-1\";\r\n            const saltView = new Uint8Array(pbkdf2Params.salt.valueBlock.valueHex);\r\n            const iterations = pbkdf2Params.iterationCount;\r\n            const kekKey = await crypto.deriveKey({\r\n                name: \"PBKDF2\",\r\n                hash: {\r\n                    name: hmacHashAlgorithm\r\n                },\r\n                salt: saltView,\r\n                iterations\r\n            }, pbkdf2Key, kekAlgorithm, true, [\"unwrapKey\"]);\r\n            const algorithmId = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId;\r\n            const contentEncryptionAlgorithm = crypto.getAlgorithmByOID(algorithmId, true, \"contentEncryptionAlgorithm\");\r\n            return crypto.unwrapKey(\"raw\", recipientInfo.encryptedKey.valueBlock.valueHexView, kekKey, kekAlgorithm, contentEncryptionAlgorithm, true, [\"decrypt\"]);\r\n        };\r\n        let unwrappedKey;\r\n        switch (this.recipientInfos[recipientIndex].variant) {\r\n            case 1:\r\n                unwrappedKey = await SubKeyTransRecipientInfo(recipientIndex);\r\n                break;\r\n            case 2:\r\n                unwrappedKey = await SubKeyAgreeRecipientInfo(recipientIndex);\r\n                break;\r\n            case 3:\r\n                unwrappedKey = await SubKEKRecipientInfo(recipientIndex);\r\n                break;\r\n            case 4:\r\n                unwrappedKey = await SubPasswordRecipientinfo(recipientIndex);\r\n                break;\r\n            default:\r\n                throw new Error(`Unknown recipient type in array with index ${recipientIndex}`);\r\n        }\r\n        const algorithmId = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId;\r\n        const contentEncryptionAlgorithm = crypto.getAlgorithmByOID(algorithmId, true, \"contentEncryptionAlgorithm\");\r\n        const ivBuffer = this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex;\r\n        const ivView = new Uint8Array(ivBuffer);\r\n        if (!this.encryptedContentInfo.encryptedContent) {\r\n            throw new Error(\"Required property `encryptedContent` is empty\");\r\n        }\r\n        const dataBuffer = this.encryptedContentInfo.getEncryptedContent();\r\n        return crypto.decrypt({\r\n            name: contentEncryptionAlgorithm.name,\r\n            iv: ivView\r\n        }, unwrappedKey, dataBuffer);\r\n    }\r\n}\r\nEnvelopedData.CLASS_NAME = \"EnvelopedData\";\n\nconst SAFE_CONTENTS = \"safeContents\";\r\nconst PARSED_VALUE$1 = \"parsedValue\";\r\nconst CONTENT_INFOS = \"contentInfos\";\r\nclass AuthenticatedSafe extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.safeContents = pvutils.getParametersValue(parameters, SAFE_CONTENTS, AuthenticatedSafe.defaultValues(SAFE_CONTENTS));\r\n        if (PARSED_VALUE$1 in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE$1, AuthenticatedSafe.defaultValues(PARSED_VALUE$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SAFE_CONTENTS:\r\n                return [];\r\n            case PARSED_VALUE$1:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SAFE_CONTENTS:\r\n                return (memberValue.length === 0);\r\n            case PARSED_VALUE$1:\r\n                return ((memberValue instanceof Object) && (Object.keys(memberValue).length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.contentInfos || EMPTY_STRING),\r\n                    value: ContentInfo.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            CONTENT_INFOS\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, AuthenticatedSafe.schema({\r\n            names: {\r\n                contentInfos: CONTENT_INFOS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.safeContents = Array.from(asn1.result.contentInfos, element => new ContentInfo({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: Array.from(this.safeContents, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            safeContents: Array.from(this.safeContents, o => o.toJSON())\r\n        };\r\n    }\r\n    async parseInternalValues(parameters, crypto = getCrypto(true)) {\r\n        ParameterError.assert(parameters, SAFE_CONTENTS);\r\n        ArgumentError.assert(parameters.safeContents, SAFE_CONTENTS, \"Array\");\r\n        if (parameters.safeContents.length !== this.safeContents.length) {\r\n            throw new ArgumentError(\"Length of \\\"parameters.safeContents\\\" must be equal to \\\"this.safeContents.length\\\"\");\r\n        }\r\n        this.parsedValue = {\r\n            safeContents: [],\r\n        };\r\n        for (const [index, content] of this.safeContents.entries()) {\r\n            const safeContent = parameters.safeContents[index];\r\n            const errorTarget = `parameters.safeContents[${index}]`;\r\n            switch (content.contentType) {\r\n                case id_ContentType_Data:\r\n                    {\r\n                        ArgumentError.assert(content.content, \"this.safeContents[j].content\", asn1js.OctetString);\r\n                        const authSafeContent = content.content.getValue();\r\n                        this.parsedValue.safeContents.push({\r\n                            privacyMode: 0,\r\n                            value: SafeContents.fromBER(authSafeContent)\r\n                        });\r\n                    }\r\n                    break;\r\n                case id_ContentType_EnvelopedData:\r\n                    {\r\n                        const cmsEnveloped = new EnvelopedData({ schema: content.content });\r\n                        ParameterError.assert(errorTarget, safeContent, \"recipientCertificate\", \"recipientKey\");\r\n                        const envelopedData = safeContent;\r\n                        const recipientCertificate = envelopedData.recipientCertificate;\r\n                        const recipientKey = envelopedData.recipientKey;\r\n                        const decrypted = await cmsEnveloped.decrypt(0, {\r\n                            recipientCertificate,\r\n                            recipientPrivateKey: recipientKey\r\n                        }, crypto);\r\n                        this.parsedValue.safeContents.push({\r\n                            privacyMode: 2,\r\n                            value: SafeContents.fromBER(decrypted),\r\n                        });\r\n                    }\r\n                    break;\r\n                case id_ContentType_EncryptedData:\r\n                    {\r\n                        const cmsEncrypted = new EncryptedData({ schema: content.content });\r\n                        ParameterError.assert(errorTarget, safeContent, \"password\");\r\n                        const password = safeContent.password;\r\n                        const decrypted = await cmsEncrypted.decrypt({\r\n                            password\r\n                        }, crypto);\r\n                        this.parsedValue.safeContents.push({\r\n                            privacyMode: 1,\r\n                            value: SafeContents.fromBER(decrypted),\r\n                        });\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw new Error(`Unknown \"contentType\" for AuthenticatedSafe: \" ${content.contentType}`);\r\n            }\r\n        }\r\n    }\r\n    async makeInternalValues(parameters, crypto = getCrypto(true)) {\r\n        if (!(this.parsedValue)) {\r\n            throw new Error(\"Please run \\\"parseValues\\\" first or add \\\"parsedValue\\\" manually\");\r\n        }\r\n        ArgumentError.assert(this.parsedValue, \"this.parsedValue\", \"object\");\r\n        ArgumentError.assert(this.parsedValue.safeContents, \"this.parsedValue.safeContents\", \"Array\");\r\n        ArgumentError.assert(parameters, \"parameters\", \"object\");\r\n        ParameterError.assert(parameters, \"safeContents\");\r\n        ArgumentError.assert(parameters.safeContents, \"parameters.safeContents\", \"Array\");\r\n        if (parameters.safeContents.length !== this.parsedValue.safeContents.length) {\r\n            throw new ArgumentError(\"Length of \\\"parameters.safeContents\\\" must be equal to \\\"this.parsedValue.safeContents\\\"\");\r\n        }\r\n        this.safeContents = [];\r\n        for (const [index, content] of this.parsedValue.safeContents.entries()) {\r\n            ParameterError.assert(\"content\", content, \"privacyMode\", \"value\");\r\n            ArgumentError.assert(content.value, \"content.value\", SafeContents);\r\n            switch (content.privacyMode) {\r\n                case 0:\r\n                    {\r\n                        const contentBuffer = content.value.toSchema().toBER(false);\r\n                        this.safeContents.push(new ContentInfo({\r\n                            contentType: \"1.2.840.113549.1.7.1\",\r\n                            content: new asn1js.OctetString({ valueHex: contentBuffer })\r\n                        }));\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    {\r\n                        const cmsEncrypted = new EncryptedData();\r\n                        const currentParameters = parameters.safeContents[index];\r\n                        currentParameters.contentToEncrypt = content.value.toSchema().toBER(false);\r\n                        await cmsEncrypted.encrypt(currentParameters);\r\n                        this.safeContents.push(new ContentInfo({\r\n                            contentType: \"1.2.840.113549.1.7.6\",\r\n                            content: cmsEncrypted.toSchema()\r\n                        }));\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    {\r\n                        const cmsEnveloped = new EnvelopedData();\r\n                        const contentToEncrypt = content.value.toSchema().toBER(false);\r\n                        const safeContent = parameters.safeContents[index];\r\n                        ParameterError.assert(`parameters.safeContents[${index}]`, safeContent, \"encryptingCertificate\", \"encryptionAlgorithm\");\r\n                        switch (true) {\r\n                            case (safeContent.encryptionAlgorithm.name.toLowerCase() === \"aes-cbc\"):\r\n                            case (safeContent.encryptionAlgorithm.name.toLowerCase() === \"aes-gcm\"):\r\n                                break;\r\n                            default:\r\n                                throw new Error(`Incorrect parameter \"encryptionAlgorithm\" in \"parameters.safeContents[i]\": ${safeContent.encryptionAlgorithm}`);\r\n                        }\r\n                        switch (true) {\r\n                            case (safeContent.encryptionAlgorithm.length === 128):\r\n                            case (safeContent.encryptionAlgorithm.length === 192):\r\n                            case (safeContent.encryptionAlgorithm.length === 256):\r\n                                break;\r\n                            default:\r\n                                throw new Error(`Incorrect parameter \"encryptionAlgorithm.length\" in \"parameters.safeContents[i]\": ${safeContent.encryptionAlgorithm.length}`);\r\n                        }\r\n                        const encryptionAlgorithm = safeContent.encryptionAlgorithm;\r\n                        cmsEnveloped.addRecipientByCertificate(safeContent.encryptingCertificate, {}, undefined, crypto);\r\n                        await cmsEnveloped.encrypt(encryptionAlgorithm, contentToEncrypt, crypto);\r\n                        this.safeContents.push(new ContentInfo({\r\n                            contentType: \"1.2.840.113549.1.7.3\",\r\n                            content: cmsEnveloped.toSchema()\r\n                        }));\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw new Error(`Incorrect value for \"content.privacyMode\": ${content.privacyMode}`);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\nAuthenticatedSafe.CLASS_NAME = \"AuthenticatedSafe\";\n\nconst HASH_ALGORITHM$1 = \"hashAlgorithm\";\r\nconst ISSUER_NAME_HASH = \"issuerNameHash\";\r\nconst ISSUER_KEY_HASH = \"issuerKeyHash\";\r\nconst SERIAL_NUMBER$1 = \"serialNumber\";\r\nconst CLEAR_PROPS$j = [\r\n    HASH_ALGORITHM$1,\r\n    ISSUER_NAME_HASH,\r\n    ISSUER_KEY_HASH,\r\n    SERIAL_NUMBER$1,\r\n];\r\nclass CertID extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.hashAlgorithm = pvutils.getParametersValue(parameters, HASH_ALGORITHM$1, CertID.defaultValues(HASH_ALGORITHM$1));\r\n        this.issuerNameHash = pvutils.getParametersValue(parameters, ISSUER_NAME_HASH, CertID.defaultValues(ISSUER_NAME_HASH));\r\n        this.issuerKeyHash = pvutils.getParametersValue(parameters, ISSUER_KEY_HASH, CertID.defaultValues(ISSUER_KEY_HASH));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER$1, CertID.defaultValues(SERIAL_NUMBER$1));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static async create(certificate, parameters, crypto = getCrypto(true)) {\r\n        const certID = new CertID();\r\n        await certID.createForCertificate(certificate, parameters, crypto);\r\n        return certID;\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM$1:\r\n                return new AlgorithmIdentifier();\r\n            case ISSUER_NAME_HASH:\r\n            case ISSUER_KEY_HASH:\r\n                return new asn1js.OctetString();\r\n            case SERIAL_NUMBER$1:\r\n                return new asn1js.Integer();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM$1:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case ISSUER_NAME_HASH:\r\n            case ISSUER_KEY_HASH:\r\n            case SERIAL_NUMBER$1:\r\n                return (memberValue.isEqual(CertID.defaultValues(SERIAL_NUMBER$1)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.hashAlgorithmObject || {\r\n                    names: {\r\n                        blockName: (names.hashAlgorithm || EMPTY_STRING)\r\n                    }\r\n                }),\r\n                new asn1js.OctetString({ name: (names.issuerNameHash || EMPTY_STRING) }),\r\n                new asn1js.OctetString({ name: (names.issuerKeyHash || EMPTY_STRING) }),\r\n                new asn1js.Integer({ name: (names.serialNumber || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$j);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertID.schema({\r\n            names: {\r\n                hashAlgorithm: HASH_ALGORITHM$1,\r\n                issuerNameHash: ISSUER_NAME_HASH,\r\n                issuerKeyHash: ISSUER_KEY_HASH,\r\n                serialNumber: SERIAL_NUMBER$1\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.hashAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.hashAlgorithm });\r\n        this.issuerNameHash = asn1.result.issuerNameHash;\r\n        this.issuerKeyHash = asn1.result.issuerKeyHash;\r\n        this.serialNumber = asn1.result.serialNumber;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.hashAlgorithm.toSchema(),\r\n                this.issuerNameHash,\r\n                this.issuerKeyHash,\r\n                this.serialNumber\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            hashAlgorithm: this.hashAlgorithm.toJSON(),\r\n            issuerNameHash: this.issuerNameHash.toJSON(),\r\n            issuerKeyHash: this.issuerKeyHash.toJSON(),\r\n            serialNumber: this.serialNumber.toJSON(),\r\n        };\r\n    }\r\n    isEqual(certificateID) {\r\n        if (this.hashAlgorithm.algorithmId !== certificateID.hashAlgorithm.algorithmId) {\r\n            return false;\r\n        }\r\n        if (!pvtsutils.BufferSourceConverter.isEqual(this.issuerNameHash.valueBlock.valueHexView, certificateID.issuerNameHash.valueBlock.valueHexView)) {\r\n            return false;\r\n        }\r\n        if (!pvtsutils.BufferSourceConverter.isEqual(this.issuerKeyHash.valueBlock.valueHexView, certificateID.issuerKeyHash.valueBlock.valueHexView)) {\r\n            return false;\r\n        }\r\n        if (!this.serialNumber.isEqual(certificateID.serialNumber)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    async createForCertificate(certificate, parameters, crypto = getCrypto(true)) {\r\n        ParameterError.assert(parameters, HASH_ALGORITHM$1, \"issuerCertificate\");\r\n        const hashOID = crypto.getOIDByAlgorithm({ name: parameters.hashAlgorithm }, true, \"hashAlgorithm\");\r\n        this.hashAlgorithm = new AlgorithmIdentifier({\r\n            algorithmId: hashOID,\r\n            algorithmParams: new asn1js.Null()\r\n        });\r\n        const issuerCertificate = parameters.issuerCertificate;\r\n        this.serialNumber = certificate.serialNumber;\r\n        const hashIssuerName = await crypto.digest({ name: parameters.hashAlgorithm }, issuerCertificate.subject.toSchema().toBER(false));\r\n        this.issuerNameHash = new asn1js.OctetString({ valueHex: hashIssuerName });\r\n        const issuerKeyBuffer = issuerCertificate.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView;\r\n        const hashIssuerKey = await crypto.digest({ name: parameters.hashAlgorithm }, issuerKeyBuffer);\r\n        this.issuerKeyHash = new asn1js.OctetString({ valueHex: hashIssuerKey });\r\n    }\r\n}\r\nCertID.CLASS_NAME = \"CertID\";\n\nconst CERT_ID = \"certID\";\r\nconst CERT_STATUS = \"certStatus\";\r\nconst THIS_UPDATE = \"thisUpdate\";\r\nconst NEXT_UPDATE = \"nextUpdate\";\r\nconst SINGLE_EXTENSIONS = \"singleExtensions\";\r\nconst CLEAR_PROPS$i = [\r\n    CERT_ID,\r\n    CERT_STATUS,\r\n    THIS_UPDATE,\r\n    NEXT_UPDATE,\r\n    SINGLE_EXTENSIONS,\r\n];\r\nclass SingleResponse extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.certID = pvutils.getParametersValue(parameters, CERT_ID, SingleResponse.defaultValues(CERT_ID));\r\n        this.certStatus = pvutils.getParametersValue(parameters, CERT_STATUS, SingleResponse.defaultValues(CERT_STATUS));\r\n        this.thisUpdate = pvutils.getParametersValue(parameters, THIS_UPDATE, SingleResponse.defaultValues(THIS_UPDATE));\r\n        if (NEXT_UPDATE in parameters) {\r\n            this.nextUpdate = pvutils.getParametersValue(parameters, NEXT_UPDATE, SingleResponse.defaultValues(NEXT_UPDATE));\r\n        }\r\n        if (SINGLE_EXTENSIONS in parameters) {\r\n            this.singleExtensions = pvutils.getParametersValue(parameters, SINGLE_EXTENSIONS, SingleResponse.defaultValues(SINGLE_EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case CERT_ID:\r\n                return new CertID();\r\n            case CERT_STATUS:\r\n                return {};\r\n            case THIS_UPDATE:\r\n            case NEXT_UPDATE:\r\n                return new Date(0, 0, 0);\r\n            case SINGLE_EXTENSIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case CERT_ID:\r\n                return ((CertID.compareWithDefault(\"hashAlgorithm\", memberValue.hashAlgorithm)) &&\r\n                    (CertID.compareWithDefault(\"issuerNameHash\", memberValue.issuerNameHash)) &&\r\n                    (CertID.compareWithDefault(\"issuerKeyHash\", memberValue.issuerKeyHash)) &&\r\n                    (CertID.compareWithDefault(\"serialNumber\", memberValue.serialNumber)));\r\n            case CERT_STATUS:\r\n                return (Object.keys(memberValue).length === 0);\r\n            case THIS_UPDATE:\r\n            case NEXT_UPDATE:\r\n                return (memberValue === SingleResponse.defaultValues(memberName));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                CertID.schema(names.certID || {}),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.Primitive({\r\n                            name: (names.certStatus || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 0\r\n                            },\r\n                        }),\r\n                        new asn1js.Constructed({\r\n                            name: (names.certStatus || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 1\r\n                            },\r\n                            value: [\r\n                                new asn1js.GeneralizedTime(),\r\n                                new asn1js.Constructed({\r\n                                    optional: true,\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 0\r\n                                    },\r\n                                    value: [new asn1js.Enumerated()]\r\n                                })\r\n                            ]\r\n                        }),\r\n                        new asn1js.Primitive({\r\n                            name: (names.certStatus || EMPTY_STRING),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 2\r\n                            },\r\n                            lenBlock: { length: 1 }\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.GeneralizedTime({ name: (names.thisUpdate || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.GeneralizedTime({ name: (names.nextUpdate || EMPTY_STRING) })]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [Extensions.schema(names.singleExtensions || {})]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$i);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SingleResponse.schema({\r\n            names: {\r\n                certID: {\r\n                    names: {\r\n                        blockName: CERT_ID\r\n                    }\r\n                },\r\n                certStatus: CERT_STATUS,\r\n                thisUpdate: THIS_UPDATE,\r\n                nextUpdate: NEXT_UPDATE,\r\n                singleExtensions: {\r\n                    names: {\r\n                        blockName: SINGLE_EXTENSIONS\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.certID = new CertID({ schema: asn1.result.certID });\r\n        this.certStatus = asn1.result.certStatus;\r\n        this.thisUpdate = asn1.result.thisUpdate.toDate();\r\n        if (NEXT_UPDATE in asn1.result)\r\n            this.nextUpdate = asn1.result.nextUpdate.toDate();\r\n        if (SINGLE_EXTENSIONS in asn1.result)\r\n            this.singleExtensions = Array.from(asn1.result.singleExtensions.valueBlock.value, element => new Extension({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.certID.toSchema());\r\n        outputArray.push(this.certStatus);\r\n        outputArray.push(new asn1js.GeneralizedTime({ valueDate: this.thisUpdate }));\r\n        if (this.nextUpdate) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [new asn1js.GeneralizedTime({ valueDate: this.nextUpdate })]\r\n            }));\r\n        }\r\n        if (this.singleExtensions) {\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.singleExtensions, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            certID: this.certID.toJSON(),\r\n            certStatus: this.certStatus.toJSON(),\r\n            thisUpdate: this.thisUpdate\r\n        };\r\n        if (this.nextUpdate) {\r\n            res.nextUpdate = this.nextUpdate;\r\n        }\r\n        if (this.singleExtensions) {\r\n            res.singleExtensions = Array.from(this.singleExtensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nSingleResponse.CLASS_NAME = \"SingleResponse\";\n\nconst TBS$2 = \"tbs\";\r\nconst VERSION$7 = \"version\";\r\nconst RESPONDER_ID = \"responderID\";\r\nconst PRODUCED_AT = \"producedAt\";\r\nconst RESPONSES = \"responses\";\r\nconst RESPONSE_EXTENSIONS = \"responseExtensions\";\r\nconst RESPONSE_DATA = \"ResponseData\";\r\nconst RESPONSE_DATA_VERSION = `${RESPONSE_DATA}.${VERSION$7}`;\r\nconst RESPONSE_DATA_RESPONDER_ID = `${RESPONSE_DATA}.${RESPONDER_ID}`;\r\nconst RESPONSE_DATA_PRODUCED_AT = `${RESPONSE_DATA}.${PRODUCED_AT}`;\r\nconst RESPONSE_DATA_RESPONSES = `${RESPONSE_DATA}.${RESPONSES}`;\r\nconst RESPONSE_DATA_RESPONSE_EXTENSIONS = `${RESPONSE_DATA}.${RESPONSE_EXTENSIONS}`;\r\nconst CLEAR_PROPS$h = [\r\n    RESPONSE_DATA,\r\n    RESPONSE_DATA_VERSION,\r\n    RESPONSE_DATA_RESPONDER_ID,\r\n    RESPONSE_DATA_PRODUCED_AT,\r\n    RESPONSE_DATA_RESPONSES,\r\n    RESPONSE_DATA_RESPONSE_EXTENSIONS\r\n];\r\nclass ResponseData extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsView = new Uint8Array(pvutils.getParametersValue(parameters, TBS$2, ResponseData.defaultValues(TBS$2)));\r\n        if (VERSION$7 in parameters) {\r\n            this.version = pvutils.getParametersValue(parameters, VERSION$7, ResponseData.defaultValues(VERSION$7));\r\n        }\r\n        this.responderID = pvutils.getParametersValue(parameters, RESPONDER_ID, ResponseData.defaultValues(RESPONDER_ID));\r\n        this.producedAt = pvutils.getParametersValue(parameters, PRODUCED_AT, ResponseData.defaultValues(PRODUCED_AT));\r\n        this.responses = pvutils.getParametersValue(parameters, RESPONSES, ResponseData.defaultValues(RESPONSES));\r\n        if (RESPONSE_EXTENSIONS in parameters) {\r\n            this.responseExtensions = pvutils.getParametersValue(parameters, RESPONSE_EXTENSIONS, ResponseData.defaultValues(RESPONSE_EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get tbs() {\r\n        return pvtsutils.BufferSourceConverter.toArrayBuffer(this.tbsView);\r\n    }\r\n    set tbs(value) {\r\n        this.tbsView = new Uint8Array(value);\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$7:\r\n                return 0;\r\n            case TBS$2:\r\n                return EMPTY_BUFFER;\r\n            case RESPONDER_ID:\r\n                return {};\r\n            case PRODUCED_AT:\r\n                return new Date(0, 0, 0);\r\n            case RESPONSES:\r\n            case RESPONSE_EXTENSIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TBS$2:\r\n                return (memberValue.byteLength === 0);\r\n            case RESPONDER_ID:\r\n                return (Object.keys(memberValue).length === 0);\r\n            case PRODUCED_AT:\r\n                return (memberValue === ResponseData.defaultValues(memberName));\r\n            case RESPONSES:\r\n            case RESPONSE_EXTENSIONS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || RESPONSE_DATA),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Integer({ name: (names.version || RESPONSE_DATA_VERSION) })]\r\n                }),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        new asn1js.Constructed({\r\n                            name: (names.responderID || RESPONSE_DATA_RESPONDER_ID),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 1\r\n                            },\r\n                            value: [RelativeDistinguishedNames.schema(names.ResponseDataByName || {\r\n                                    names: {\r\n                                        blockName: \"ResponseData.byName\"\r\n                                    }\r\n                                })]\r\n                        }),\r\n                        new asn1js.Constructed({\r\n                            name: (names.responderID || RESPONSE_DATA_RESPONDER_ID),\r\n                            idBlock: {\r\n                                tagClass: 3,\r\n                                tagNumber: 2\r\n                            },\r\n                            value: [new asn1js.OctetString({ name: (names.ResponseDataByKey || \"ResponseData.byKey\") })]\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.GeneralizedTime({ name: (names.producedAt || RESPONSE_DATA_PRODUCED_AT) }),\r\n                new asn1js.Sequence({\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: RESPONSE_DATA_RESPONSES,\r\n                            value: SingleResponse.schema(names.response || {})\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [Extensions.schema(names.extensions || {\r\n                            names: {\r\n                                blockName: RESPONSE_DATA_RESPONSE_EXTENSIONS\r\n                            }\r\n                        })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$h);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ResponseData.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsView = asn1.result.ResponseData.valueBeforeDecodeView;\r\n        if (RESPONSE_DATA_VERSION in asn1.result)\r\n            this.version = asn1.result[RESPONSE_DATA_VERSION].valueBlock.valueDec;\r\n        if (asn1.result[RESPONSE_DATA_RESPONDER_ID].idBlock.tagNumber === 1)\r\n            this.responderID = new RelativeDistinguishedNames({ schema: asn1.result[RESPONSE_DATA_RESPONDER_ID].valueBlock.value[0] });\r\n        else\r\n            this.responderID = asn1.result[RESPONSE_DATA_RESPONDER_ID].valueBlock.value[0];\r\n        this.producedAt = asn1.result[RESPONSE_DATA_PRODUCED_AT].toDate();\r\n        this.responses = Array.from(asn1.result[RESPONSE_DATA_RESPONSES], element => new SingleResponse({ schema: element }));\r\n        if (RESPONSE_DATA_RESPONSE_EXTENSIONS in asn1.result)\r\n            this.responseExtensions = Array.from(asn1.result[RESPONSE_DATA_RESPONSE_EXTENSIONS].valueBlock.value, element => new Extension({ schema: element }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        let tbsSchema;\r\n        if (encodeFlag === false) {\r\n            if (!this.tbsView.byteLength) {\r\n                return ResponseData.schema();\r\n            }\r\n            const asn1 = asn1js.fromBER(this.tbsView);\r\n            AsnError.assert(asn1, \"TBS Response Data\");\r\n            tbsSchema = asn1.result;\r\n        }\r\n        else {\r\n            const outputArray = [];\r\n            if (VERSION$7 in this) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Integer({ value: this.version })]\r\n                }));\r\n            }\r\n            if (this.responderID instanceof RelativeDistinguishedNames) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [this.responderID.toSchema()]\r\n                }));\r\n            }\r\n            else {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: [this.responderID]\r\n                }));\r\n            }\r\n            outputArray.push(new asn1js.GeneralizedTime({ valueDate: this.producedAt }));\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.responses, o => o.toSchema())\r\n            }));\r\n            if (this.responseExtensions) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [new asn1js.Sequence({\r\n                            value: Array.from(this.responseExtensions, o => o.toSchema())\r\n                        })]\r\n                }));\r\n            }\r\n            tbsSchema = new asn1js.Sequence({\r\n                value: outputArray\r\n            });\r\n        }\r\n        return tbsSchema;\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (VERSION$7 in this) {\r\n            res.version = this.version;\r\n        }\r\n        if (this.responderID) {\r\n            res.responderID = this.responderID;\r\n        }\r\n        if (this.producedAt) {\r\n            res.producedAt = this.producedAt;\r\n        }\r\n        if (this.responses) {\r\n            res.responses = Array.from(this.responses, o => o.toJSON());\r\n        }\r\n        if (this.responseExtensions) {\r\n            res.responseExtensions = Array.from(this.responseExtensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nResponseData.CLASS_NAME = \"ResponseData\";\n\nconst TRUSTED_CERTS = \"trustedCerts\";\r\nconst CERTS$2 = \"certs\";\r\nconst CRLS$1 = \"crls\";\r\nconst OCSPS$1 = \"ocsps\";\r\nconst CHECK_DATE = \"checkDate\";\r\nconst FIND_ORIGIN = \"findOrigin\";\r\nconst FIND_ISSUER = \"findIssuer\";\r\nclass CertificateChainValidationEngine {\r\n    constructor(parameters = {}) {\r\n        this.trustedCerts = pvutils.getParametersValue(parameters, TRUSTED_CERTS, this.defaultValues(TRUSTED_CERTS));\r\n        this.certs = pvutils.getParametersValue(parameters, CERTS$2, this.defaultValues(CERTS$2));\r\n        this.crls = pvutils.getParametersValue(parameters, CRLS$1, this.defaultValues(CRLS$1));\r\n        this.ocsps = pvutils.getParametersValue(parameters, OCSPS$1, this.defaultValues(OCSPS$1));\r\n        this.checkDate = pvutils.getParametersValue(parameters, CHECK_DATE, this.defaultValues(CHECK_DATE));\r\n        this.findOrigin = pvutils.getParametersValue(parameters, FIND_ORIGIN, this.defaultValues(FIND_ORIGIN));\r\n        this.findIssuer = pvutils.getParametersValue(parameters, FIND_ISSUER, this.defaultValues(FIND_ISSUER));\r\n    }\r\n    static defaultFindOrigin(certificate, validationEngine) {\r\n        if (certificate.tbsView.byteLength === 0) {\r\n            certificate.tbsView = new Uint8Array(certificate.encodeTBS().toBER());\r\n        }\r\n        for (const localCert of validationEngine.certs) {\r\n            if (localCert.tbsView.byteLength === 0) {\r\n                localCert.tbsView = new Uint8Array(localCert.encodeTBS().toBER());\r\n            }\r\n            if (pvtsutils.BufferSourceConverter.isEqual(certificate.tbsView, localCert.tbsView))\r\n                return \"Intermediate Certificates\";\r\n        }\r\n        for (const trustedCert of validationEngine.trustedCerts) {\r\n            if (trustedCert.tbsView.byteLength === 0)\r\n                trustedCert.tbsView = new Uint8Array(trustedCert.encodeTBS().toBER());\r\n            if (pvtsutils.BufferSourceConverter.isEqual(certificate.tbsView, trustedCert.tbsView))\r\n                return \"Trusted Certificates\";\r\n        }\r\n        return \"Unknown\";\r\n    }\r\n    async defaultFindIssuer(certificate, validationEngine, crypto = getCrypto(true)) {\r\n        const result = [];\r\n        let keyIdentifier = null;\r\n        let authorityCertIssuer = null;\r\n        let authorityCertSerialNumber = null;\r\n        if (certificate.subject.isEqual(certificate.issuer)) {\r\n            try {\r\n                const verificationResult = await certificate.verify(undefined, crypto);\r\n                if (verificationResult) {\r\n                    return [certificate];\r\n                }\r\n            }\r\n            catch (ex) {\r\n            }\r\n        }\r\n        if (certificate.extensions) {\r\n            for (const extension of certificate.extensions) {\r\n                if (extension.extnID === id_AuthorityKeyIdentifier && extension.parsedValue instanceof AuthorityKeyIdentifier) {\r\n                    if (extension.parsedValue.keyIdentifier) {\r\n                        keyIdentifier = extension.parsedValue.keyIdentifier;\r\n                    }\r\n                    else {\r\n                        if (extension.parsedValue.authorityCertIssuer) {\r\n                            authorityCertIssuer = extension.parsedValue.authorityCertIssuer;\r\n                        }\r\n                        if (extension.parsedValue.authorityCertSerialNumber) {\r\n                            authorityCertSerialNumber = extension.parsedValue.authorityCertSerialNumber;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        function checkCertificate(possibleIssuer) {\r\n            if (keyIdentifier !== null) {\r\n                if (possibleIssuer.extensions) {\r\n                    let extensionFound = false;\r\n                    for (const extension of possibleIssuer.extensions) {\r\n                        if (extension.extnID === id_SubjectKeyIdentifier && extension.parsedValue) {\r\n                            extensionFound = true;\r\n                            if (pvtsutils.BufferSourceConverter.isEqual(extension.parsedValue.valueBlock.valueHex, keyIdentifier.valueBlock.valueHexView)) {\r\n                                result.push(possibleIssuer);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (extensionFound) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            let authorityCertSerialNumberEqual = false;\r\n            if (authorityCertSerialNumber !== null)\r\n                authorityCertSerialNumberEqual = possibleIssuer.serialNumber.isEqual(authorityCertSerialNumber);\r\n            if (authorityCertIssuer !== null) {\r\n                if (possibleIssuer.subject.isEqual(authorityCertIssuer)) {\r\n                    if (authorityCertSerialNumberEqual)\r\n                        result.push(possibleIssuer);\r\n                }\r\n            }\r\n            else {\r\n                if (certificate.issuer.isEqual(possibleIssuer.subject))\r\n                    result.push(possibleIssuer);\r\n            }\r\n        }\r\n        for (const trustedCert of validationEngine.trustedCerts) {\r\n            checkCertificate(trustedCert);\r\n        }\r\n        for (const intermediateCert of validationEngine.certs) {\r\n            checkCertificate(intermediateCert);\r\n        }\r\n        for (let i = 0; i < result.length; i++) {\r\n            try {\r\n                const verificationResult = await certificate.verify(result[i], crypto);\r\n                if (verificationResult === false)\r\n                    result.splice(i, 1);\r\n            }\r\n            catch (ex) {\r\n                result.splice(i, 1);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TRUSTED_CERTS:\r\n                return [];\r\n            case CERTS$2:\r\n                return [];\r\n            case CRLS$1:\r\n                return [];\r\n            case OCSPS$1:\r\n                return [];\r\n            case CHECK_DATE:\r\n                return new Date();\r\n            case FIND_ORIGIN:\r\n                return CertificateChainValidationEngine.defaultFindOrigin;\r\n            case FIND_ISSUER:\r\n                return this.defaultFindIssuer;\r\n            default:\r\n                throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${memberName}`);\r\n        }\r\n    }\r\n    async sort(passedWhenNotRevValues = false, crypto = getCrypto(true)) {\r\n        const localCerts = [];\r\n        const buildPath = async (certificate) => {\r\n            const result = [];\r\n            function checkUnique(array) {\r\n                let unique = true;\r\n                for (let i = 0; i < array.length; i++) {\r\n                    for (let j = 0; j < array.length; j++) {\r\n                        if (j === i)\r\n                            continue;\r\n                        if (array[i] === array[j]) {\r\n                            unique = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!unique)\r\n                        break;\r\n                }\r\n                return unique;\r\n            }\r\n            const findIssuerResult = await this.findIssuer(certificate, this);\r\n            if (findIssuerResult.length === 0) {\r\n                throw new Error(\"No valid certificate paths found\");\r\n            }\r\n            for (let i = 0; i < findIssuerResult.length; i++) {\r\n                if (pvtsutils.BufferSourceConverter.isEqual(findIssuerResult[i].tbsView, certificate.tbsView)) {\r\n                    result.push([findIssuerResult[i]]);\r\n                    continue;\r\n                }\r\n                const buildPathResult = await buildPath(findIssuerResult[i]);\r\n                for (let j = 0; j < buildPathResult.length; j++) {\r\n                    const copy = buildPathResult[j].slice();\r\n                    copy.splice(0, 0, findIssuerResult[i]);\r\n                    if (checkUnique(copy))\r\n                        result.push(copy);\r\n                    else\r\n                        result.push(buildPathResult[j]);\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n        const findCRL = async (certificate) => {\r\n            const issuerCertificates = [];\r\n            const crls = [];\r\n            const crlsAndCertificates = [];\r\n            issuerCertificates.push(...localCerts.filter(element => certificate.issuer.isEqual(element.subject)));\r\n            if (issuerCertificates.length === 0) {\r\n                return {\r\n                    status: 1,\r\n                    statusMessage: \"No certificate's issuers\"\r\n                };\r\n            }\r\n            crls.push(...this.crls.filter(o => o.issuer.isEqual(certificate.issuer)));\r\n            if (crls.length === 0) {\r\n                return {\r\n                    status: 2,\r\n                    statusMessage: \"No CRLs for specific certificate issuer\"\r\n                };\r\n            }\r\n            for (let i = 0; i < crls.length; i++) {\r\n                const crl = crls[i];\r\n                if (crl.nextUpdate && crl.nextUpdate.value < this.checkDate) {\r\n                    continue;\r\n                }\r\n                for (let j = 0; j < issuerCertificates.length; j++) {\r\n                    try {\r\n                        const result = await crls[i].verify({ issuerCertificate: issuerCertificates[j] }, crypto);\r\n                        if (result) {\r\n                            crlsAndCertificates.push({\r\n                                crl: crls[i],\r\n                                certificate: issuerCertificates[j]\r\n                            });\r\n                            break;\r\n                        }\r\n                    }\r\n                    catch (ex) {\r\n                    }\r\n                }\r\n            }\r\n            if (crlsAndCertificates.length) {\r\n                return {\r\n                    status: 0,\r\n                    statusMessage: EMPTY_STRING,\r\n                    result: crlsAndCertificates\r\n                };\r\n            }\r\n            return {\r\n                status: 3,\r\n                statusMessage: \"No valid CRLs found\"\r\n            };\r\n        };\r\n        const findOCSP = async (certificate, issuerCertificate) => {\r\n            const hashAlgorithm = crypto.getAlgorithmByOID(certificate.signatureAlgorithm.algorithmId);\r\n            if (!hashAlgorithm.name) {\r\n                return 1;\r\n            }\r\n            if (!hashAlgorithm.hash) {\r\n                return 1;\r\n            }\r\n            for (let i = 0; i < this.ocsps.length; i++) {\r\n                const ocsp = this.ocsps[i];\r\n                const result = await ocsp.getCertificateStatus(certificate, issuerCertificate, crypto);\r\n                if (result.isForCertificate) {\r\n                    if (result.status === 0)\r\n                        return 0;\r\n                    return 1;\r\n                }\r\n            }\r\n            return 2;\r\n        };\r\n        async function checkForCA(certificate, needToCheckCRL = false) {\r\n            let isCA = false;\r\n            let mustBeCA = false;\r\n            let keyUsagePresent = false;\r\n            let cRLSign = false;\r\n            if (certificate.extensions) {\r\n                for (let j = 0; j < certificate.extensions.length; j++) {\r\n                    const extension = certificate.extensions[j];\r\n                    if (extension.critical && !extension.parsedValue) {\r\n                        return {\r\n                            result: false,\r\n                            resultCode: 6,\r\n                            resultMessage: `Unable to parse critical certificate extension: ${extension.extnID}`\r\n                        };\r\n                    }\r\n                    if (extension.extnID === id_KeyUsage) {\r\n                        keyUsagePresent = true;\r\n                        const view = new Uint8Array(extension.parsedValue.valueBlock.valueHex);\r\n                        if ((view[0] & 0x04) === 0x04)\r\n                            mustBeCA = true;\r\n                        if ((view[0] & 0x02) === 0x02)\r\n                            cRLSign = true;\r\n                    }\r\n                    if (extension.extnID === id_BasicConstraints) {\r\n                        if (\"cA\" in extension.parsedValue) {\r\n                            if (extension.parsedValue.cA === true)\r\n                                isCA = true;\r\n                        }\r\n                    }\r\n                }\r\n                if ((mustBeCA === true) && (isCA === false)) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: 3,\r\n                        resultMessage: \"Unable to build certificate chain - using \\\"keyCertSign\\\" flag set without BasicConstraints\"\r\n                    };\r\n                }\r\n                if ((keyUsagePresent === true) && (isCA === true) && (mustBeCA === false)) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: 4,\r\n                        resultMessage: \"Unable to build certificate chain - \\\"keyCertSign\\\" flag was not set\"\r\n                    };\r\n                }\r\n                if ((isCA === true) && (keyUsagePresent === true) && ((needToCheckCRL) && (cRLSign === false))) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: 5,\r\n                        resultMessage: \"Unable to build certificate chain - intermediate certificate must have \\\"cRLSign\\\" key usage flag\"\r\n                    };\r\n                }\r\n            }\r\n            if (isCA === false) {\r\n                return {\r\n                    result: false,\r\n                    resultCode: 7,\r\n                    resultMessage: \"Unable to build certificate chain - more than one possible end-user certificate\"\r\n                };\r\n            }\r\n            return {\r\n                result: true,\r\n                resultCode: 0,\r\n                resultMessage: EMPTY_STRING\r\n            };\r\n        }\r\n        const basicCheck = async (path, checkDate) => {\r\n            for (let i = 0; i < path.length; i++) {\r\n                if ((path[i].notBefore.value > checkDate) ||\r\n                    (path[i].notAfter.value < checkDate)) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: 8,\r\n                        resultMessage: \"The certificate is either not yet valid or expired\"\r\n                    };\r\n                }\r\n            }\r\n            if (path.length < 2) {\r\n                return {\r\n                    result: false,\r\n                    resultCode: 9,\r\n                    resultMessage: \"Too short certificate path\"\r\n                };\r\n            }\r\n            for (let i = (path.length - 2); i >= 0; i--) {\r\n                if (path[i].issuer.isEqual(path[i].subject) === false) {\r\n                    if (path[i].issuer.isEqual(path[i + 1].subject) === false) {\r\n                        return {\r\n                            result: false,\r\n                            resultCode: 10,\r\n                            resultMessage: \"Incorrect name chaining\"\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n            if ((this.crls.length !== 0) || (this.ocsps.length !== 0)) {\r\n                for (let i = 0; i < (path.length - 1); i++) {\r\n                    let ocspResult = 2;\r\n                    let crlResult = {\r\n                        status: 0,\r\n                        statusMessage: EMPTY_STRING\r\n                    };\r\n                    if (this.ocsps.length !== 0) {\r\n                        ocspResult = await findOCSP(path[i], path[i + 1]);\r\n                        switch (ocspResult) {\r\n                            case 0:\r\n                                continue;\r\n                            case 1:\r\n                                return {\r\n                                    result: false,\r\n                                    resultCode: 12,\r\n                                    resultMessage: \"One of certificates was revoked via OCSP response\"\r\n                                };\r\n                        }\r\n                    }\r\n                    if (this.crls.length !== 0) {\r\n                        crlResult = await findCRL(path[i]);\r\n                        if (crlResult.status === 0 && crlResult.result) {\r\n                            for (let j = 0; j < crlResult.result.length; j++) {\r\n                                const isCertificateRevoked = crlResult.result[j].crl.isCertificateRevoked(path[i]);\r\n                                if (isCertificateRevoked) {\r\n                                    return {\r\n                                        result: false,\r\n                                        resultCode: 12,\r\n                                        resultMessage: \"One of certificates had been revoked\"\r\n                                    };\r\n                                }\r\n                                const isCertificateCA = await checkForCA(crlResult.result[j].certificate, true);\r\n                                if (isCertificateCA.result === false) {\r\n                                    return {\r\n                                        result: false,\r\n                                        resultCode: 13,\r\n                                        resultMessage: \"CRL issuer certificate is not a CA certificate or does not have crlSign flag\"\r\n                                    };\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (passedWhenNotRevValues === false) {\r\n                                throw {\r\n                                    result: false,\r\n                                    resultCode: 11,\r\n                                    resultMessage: `No revocation values found for one of certificates: ${crlResult.statusMessage}`\r\n                                };\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (ocspResult === 2) {\r\n                            return {\r\n                                result: false,\r\n                                resultCode: 11,\r\n                                resultMessage: \"No revocation values found for one of certificates\"\r\n                            };\r\n                        }\r\n                    }\r\n                    if ((ocspResult === 2) && (crlResult.status === 2) && passedWhenNotRevValues) {\r\n                        const issuerCertificate = path[i + 1];\r\n                        let extensionFound = false;\r\n                        if (issuerCertificate.extensions) {\r\n                            for (const extension of issuerCertificate.extensions) {\r\n                                switch (extension.extnID) {\r\n                                    case id_CRLDistributionPoints:\r\n                                    case id_FreshestCRL:\r\n                                    case id_AuthorityInfoAccess:\r\n                                        extensionFound = true;\r\n                                        break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (extensionFound) {\r\n                            throw {\r\n                                result: false,\r\n                                resultCode: 11,\r\n                                resultMessage: `No revocation values found for one of certificates: ${crlResult.statusMessage}`\r\n                            };\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (const [i, cert] of path.entries()) {\r\n                if (!i) {\r\n                    continue;\r\n                }\r\n                const result = await checkForCA(cert);\r\n                if (!result.result) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: 14,\r\n                        resultMessage: \"One of intermediate certificates is not a CA certificate\"\r\n                    };\r\n                }\r\n            }\r\n            return {\r\n                result: true\r\n            };\r\n        };\r\n        localCerts.push(...this.trustedCerts);\r\n        localCerts.push(...this.certs);\r\n        for (let i = 0; i < localCerts.length; i++) {\r\n            for (let j = 0; j < localCerts.length; j++) {\r\n                if (i === j)\r\n                    continue;\r\n                if (pvtsutils.BufferSourceConverter.isEqual(localCerts[i].tbsView, localCerts[j].tbsView)) {\r\n                    localCerts.splice(j, 1);\r\n                    i = 0;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        let result;\r\n        const certificatePath = [localCerts[localCerts.length - 1]];\r\n        result = await buildPath(localCerts[localCerts.length - 1]);\r\n        if (result.length === 0) {\r\n            throw {\r\n                result: false,\r\n                resultCode: 60,\r\n                resultMessage: \"Unable to find certificate path\"\r\n            };\r\n        }\r\n        for (let i = 0; i < result.length; i++) {\r\n            let found = false;\r\n            for (let j = 0; j < (result[i]).length; j++) {\r\n                const certificate = (result[i])[j];\r\n                for (let k = 0; k < this.trustedCerts.length; k++) {\r\n                    if (pvtsutils.BufferSourceConverter.isEqual(certificate.tbsView, this.trustedCerts[k].tbsView)) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (found)\r\n                    break;\r\n            }\r\n            if (!found) {\r\n                result.splice(i, 1);\r\n                i = 0;\r\n            }\r\n        }\r\n        if (result.length === 0) {\r\n            throw {\r\n                result: false,\r\n                resultCode: 97,\r\n                resultMessage: \"No valid certificate paths found\"\r\n            };\r\n        }\r\n        let shortestLength = result[0].length;\r\n        let shortestIndex = 0;\r\n        for (let i = 0; i < result.length; i++) {\r\n            if (result[i].length < shortestLength) {\r\n                shortestLength = result[i].length;\r\n                shortestIndex = i;\r\n            }\r\n        }\r\n        for (let i = 0; i < result[shortestIndex].length; i++)\r\n            certificatePath.push((result[shortestIndex])[i]);\r\n        result = await basicCheck(certificatePath, this.checkDate);\r\n        if (result.result === false)\r\n            throw result;\r\n        return certificatePath;\r\n    }\r\n    async verify(parameters = {}, crypto = getCrypto(true)) {\r\n        function compareDNSName(name, constraint) {\r\n            const namePrepared = stringPrep(name);\r\n            const constraintPrepared = stringPrep(constraint);\r\n            const nameSplitted = namePrepared.split(\".\");\r\n            const constraintSplitted = constraintPrepared.split(\".\");\r\n            const nameLen = nameSplitted.length;\r\n            const constrLen = constraintSplitted.length;\r\n            if ((nameLen === 0) || (constrLen === 0) || (nameLen < constrLen)) {\r\n                return false;\r\n            }\r\n            for (let i = 0; i < nameLen; i++) {\r\n                if (nameSplitted[i].length === 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            for (let i = 0; i < constrLen; i++) {\r\n                if (constraintSplitted[i].length === 0) {\r\n                    if (i === 0) {\r\n                        if (constrLen === 1) {\r\n                            return false;\r\n                        }\r\n                        continue;\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n            for (let i = 0; i < constrLen; i++) {\r\n                if (constraintSplitted[constrLen - 1 - i].length === 0) {\r\n                    continue;\r\n                }\r\n                if (nameSplitted[nameLen - 1 - i].localeCompare(constraintSplitted[constrLen - 1 - i]) !== 0) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        function compareRFC822Name(name, constraint) {\r\n            const namePrepared = stringPrep(name);\r\n            const constraintPrepared = stringPrep(constraint);\r\n            const nameSplitted = namePrepared.split(\"@\");\r\n            const constraintSplitted = constraintPrepared.split(\"@\");\r\n            if ((nameSplitted.length === 0) || (constraintSplitted.length === 0) || (nameSplitted.length < constraintSplitted.length))\r\n                return false;\r\n            if (constraintSplitted.length === 1) {\r\n                const result = compareDNSName(nameSplitted[1], constraintSplitted[0]);\r\n                if (result) {\r\n                    const ns = nameSplitted[1].split(\".\");\r\n                    const cs = constraintSplitted[0].split(\".\");\r\n                    if (cs[0].length === 0)\r\n                        return true;\r\n                    return ns.length === cs.length;\r\n                }\r\n                return false;\r\n            }\r\n            return (namePrepared.localeCompare(constraintPrepared) === 0);\r\n        }\r\n        function compareUniformResourceIdentifier(name, constraint) {\r\n            let namePrepared = stringPrep(name);\r\n            const constraintPrepared = stringPrep(constraint);\r\n            const ns = namePrepared.split(\"/\");\r\n            const cs = constraintPrepared.split(\"/\");\r\n            if (cs.length > 1)\r\n                return false;\r\n            if (ns.length > 1) {\r\n                for (let i = 0; i < ns.length; i++) {\r\n                    if ((ns[i].length > 0) && (ns[i].charAt(ns[i].length - 1) !== \":\")) {\r\n                        const nsPort = ns[i].split(\":\");\r\n                        namePrepared = nsPort[0];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            const result = compareDNSName(namePrepared, constraintPrepared);\r\n            if (result) {\r\n                const nameSplitted = namePrepared.split(\".\");\r\n                const constraintSplitted = constraintPrepared.split(\".\");\r\n                if (constraintSplitted[0].length === 0)\r\n                    return true;\r\n                return nameSplitted.length === constraintSplitted.length;\r\n            }\r\n            return false;\r\n        }\r\n        function compareIPAddress(name, constraint) {\r\n            const nameView = name.valueBlock.valueHexView;\r\n            const constraintView = constraint.valueBlock.valueHexView;\r\n            if ((nameView.length === 4) && (constraintView.length === 8)) {\r\n                for (let i = 0; i < 4; i++) {\r\n                    if ((nameView[i] ^ constraintView[i]) & constraintView[i + 4])\r\n                        return false;\r\n                }\r\n                return true;\r\n            }\r\n            if ((nameView.length === 16) && (constraintView.length === 32)) {\r\n                for (let i = 0; i < 16; i++) {\r\n                    if ((nameView[i] ^ constraintView[i]) & constraintView[i + 16])\r\n                        return false;\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        function compareDirectoryName(name, constraint) {\r\n            if ((name.typesAndValues.length === 0) || (constraint.typesAndValues.length === 0))\r\n                return true;\r\n            if (name.typesAndValues.length < constraint.typesAndValues.length)\r\n                return false;\r\n            let result = true;\r\n            let nameStart = 0;\r\n            for (let i = 0; i < constraint.typesAndValues.length; i++) {\r\n                let localResult = false;\r\n                for (let j = nameStart; j < name.typesAndValues.length; j++) {\r\n                    localResult = name.typesAndValues[j].isEqual(constraint.typesAndValues[i]);\r\n                    if (name.typesAndValues[j].type === constraint.typesAndValues[i].type)\r\n                        result = result && localResult;\r\n                    if (localResult === true) {\r\n                        if ((nameStart === 0) || (nameStart === j)) {\r\n                            nameStart = j + 1;\r\n                            break;\r\n                        }\r\n                        else\r\n                            return false;\r\n                    }\r\n                }\r\n                if (localResult === false)\r\n                    return false;\r\n            }\r\n            return (nameStart === 0) ? false : result;\r\n        }\r\n        try {\r\n            if (this.certs.length === 0)\r\n                throw new Error(\"Empty certificate array\");\r\n            const passedWhenNotRevValues = parameters.passedWhenNotRevValues || false;\r\n            const initialPolicySet = parameters.initialPolicySet || [id_AnyPolicy];\r\n            const initialExplicitPolicy = parameters.initialExplicitPolicy || false;\r\n            const initialPolicyMappingInhibit = parameters.initialPolicyMappingInhibit || false;\r\n            const initialInhibitPolicy = parameters.initialInhibitPolicy || false;\r\n            const initialPermittedSubtreesSet = parameters.initialPermittedSubtreesSet || [];\r\n            const initialExcludedSubtreesSet = parameters.initialExcludedSubtreesSet || [];\r\n            const initialRequiredNameForms = parameters.initialRequiredNameForms || [];\r\n            let explicitPolicyIndicator = initialExplicitPolicy;\r\n            let policyMappingInhibitIndicator = initialPolicyMappingInhibit;\r\n            let inhibitAnyPolicyIndicator = initialInhibitPolicy;\r\n            const pendingConstraints = [\r\n                false,\r\n                false,\r\n                false,\r\n            ];\r\n            let explicitPolicyPending = 0;\r\n            let policyMappingInhibitPending = 0;\r\n            let inhibitAnyPolicyPending = 0;\r\n            let permittedSubtrees = initialPermittedSubtreesSet;\r\n            let excludedSubtrees = initialExcludedSubtreesSet;\r\n            const requiredNameForms = initialRequiredNameForms;\r\n            let pathDepth = 1;\r\n            this.certs = await this.sort(passedWhenNotRevValues, crypto);\r\n            const allPolicies = [];\r\n            allPolicies.push(id_AnyPolicy);\r\n            const policiesAndCerts = [];\r\n            const anyPolicyArray = new Array(this.certs.length - 1);\r\n            for (let ii = 0; ii < (this.certs.length - 1); ii++)\r\n                anyPolicyArray[ii] = true;\r\n            policiesAndCerts.push(anyPolicyArray);\r\n            const policyMappings = new Array(this.certs.length - 1);\r\n            const certPolicies = new Array(this.certs.length - 1);\r\n            let explicitPolicyStart = (explicitPolicyIndicator) ? (this.certs.length - 1) : (-1);\r\n            for (let i = (this.certs.length - 2); i >= 0; i--, pathDepth++) {\r\n                const cert = this.certs[i];\r\n                if (cert.extensions) {\r\n                    for (let j = 0; j < cert.extensions.length; j++) {\r\n                        const extension = cert.extensions[j];\r\n                        if (extension.extnID === id_CertificatePolicies) {\r\n                            certPolicies[i] = extension.parsedValue;\r\n                            for (let s = 0; s < allPolicies.length; s++) {\r\n                                if (allPolicies[s] === id_AnyPolicy) {\r\n                                    delete (policiesAndCerts[s])[i];\r\n                                    break;\r\n                                }\r\n                            }\r\n                            for (let k = 0; k < extension.parsedValue.certificatePolicies.length; k++) {\r\n                                let policyIndex = (-1);\r\n                                const policyId = extension.parsedValue.certificatePolicies[k].policyIdentifier;\r\n                                for (let s = 0; s < allPolicies.length; s++) {\r\n                                    if (policyId === allPolicies[s]) {\r\n                                        policyIndex = s;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (policyIndex === (-1)) {\r\n                                    allPolicies.push(policyId);\r\n                                    const certArray = new Array(this.certs.length - 1);\r\n                                    certArray[i] = true;\r\n                                    policiesAndCerts.push(certArray);\r\n                                }\r\n                                else\r\n                                    (policiesAndCerts[policyIndex])[i] = true;\r\n                            }\r\n                        }\r\n                        if (extension.extnID === id_PolicyMappings) {\r\n                            if (policyMappingInhibitIndicator) {\r\n                                return {\r\n                                    result: false,\r\n                                    resultCode: 98,\r\n                                    resultMessage: \"Policy mapping prohibited\"\r\n                                };\r\n                            }\r\n                            policyMappings[i] = extension.parsedValue;\r\n                        }\r\n                        if (extension.extnID === id_PolicyConstraints) {\r\n                            if (explicitPolicyIndicator === false) {\r\n                                if (extension.parsedValue.requireExplicitPolicy === 0) {\r\n                                    explicitPolicyIndicator = true;\r\n                                    explicitPolicyStart = i;\r\n                                }\r\n                                else {\r\n                                    if (pendingConstraints[0] === false) {\r\n                                        pendingConstraints[0] = true;\r\n                                        explicitPolicyPending = extension.parsedValue.requireExplicitPolicy;\r\n                                    }\r\n                                    else\r\n                                        explicitPolicyPending = (explicitPolicyPending > extension.parsedValue.requireExplicitPolicy) ? extension.parsedValue.requireExplicitPolicy : explicitPolicyPending;\r\n                                }\r\n                                if (extension.parsedValue.inhibitPolicyMapping === 0)\r\n                                    policyMappingInhibitIndicator = true;\r\n                                else {\r\n                                    if (pendingConstraints[1] === false) {\r\n                                        pendingConstraints[1] = true;\r\n                                        policyMappingInhibitPending = extension.parsedValue.inhibitPolicyMapping + 1;\r\n                                    }\r\n                                    else\r\n                                        policyMappingInhibitPending = (policyMappingInhibitPending > (extension.parsedValue.inhibitPolicyMapping + 1)) ? (extension.parsedValue.inhibitPolicyMapping + 1) : policyMappingInhibitPending;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (extension.extnID === id_InhibitAnyPolicy) {\r\n                            if (inhibitAnyPolicyIndicator === false) {\r\n                                if (extension.parsedValue.valueBlock.valueDec === 0)\r\n                                    inhibitAnyPolicyIndicator = true;\r\n                                else {\r\n                                    if (pendingConstraints[2] === false) {\r\n                                        pendingConstraints[2] = true;\r\n                                        inhibitAnyPolicyPending = extension.parsedValue.valueBlock.valueDec;\r\n                                    }\r\n                                    else\r\n                                        inhibitAnyPolicyPending = (inhibitAnyPolicyPending > extension.parsedValue.valueBlock.valueDec) ? extension.parsedValue.valueBlock.valueDec : inhibitAnyPolicyPending;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (inhibitAnyPolicyIndicator === true) {\r\n                        let policyIndex = (-1);\r\n                        for (let searchAnyPolicy = 0; searchAnyPolicy < allPolicies.length; searchAnyPolicy++) {\r\n                            if (allPolicies[searchAnyPolicy] === id_AnyPolicy) {\r\n                                policyIndex = searchAnyPolicy;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (policyIndex !== (-1))\r\n                            delete (policiesAndCerts[0])[i];\r\n                    }\r\n                    if (explicitPolicyIndicator === false) {\r\n                        if (pendingConstraints[0] === true) {\r\n                            explicitPolicyPending--;\r\n                            if (explicitPolicyPending === 0) {\r\n                                explicitPolicyIndicator = true;\r\n                                explicitPolicyStart = i;\r\n                                pendingConstraints[0] = false;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (policyMappingInhibitIndicator === false) {\r\n                        if (pendingConstraints[1] === true) {\r\n                            policyMappingInhibitPending--;\r\n                            if (policyMappingInhibitPending === 0) {\r\n                                policyMappingInhibitIndicator = true;\r\n                                pendingConstraints[1] = false;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (inhibitAnyPolicyIndicator === false) {\r\n                        if (pendingConstraints[2] === true) {\r\n                            inhibitAnyPolicyPending--;\r\n                            if (inhibitAnyPolicyPending === 0) {\r\n                                inhibitAnyPolicyIndicator = true;\r\n                                pendingConstraints[2] = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < (this.certs.length - 1); i++) {\r\n                if ((i < (this.certs.length - 2)) && (typeof policyMappings[i + 1] !== \"undefined\")) {\r\n                    for (let k = 0; k < policyMappings[i + 1].mappings.length; k++) {\r\n                        if ((policyMappings[i + 1].mappings[k].issuerDomainPolicy === id_AnyPolicy) || (policyMappings[i + 1].mappings[k].subjectDomainPolicy === id_AnyPolicy)) {\r\n                            return {\r\n                                result: false,\r\n                                resultCode: 99,\r\n                                resultMessage: \"The \\\"anyPolicy\\\" should not be a part of policy mapping scheme\"\r\n                            };\r\n                        }\r\n                        let issuerDomainPolicyIndex = (-1);\r\n                        let subjectDomainPolicyIndex = (-1);\r\n                        for (let n = 0; n < allPolicies.length; n++) {\r\n                            if (allPolicies[n] === policyMappings[i + 1].mappings[k].issuerDomainPolicy)\r\n                                issuerDomainPolicyIndex = n;\r\n                            if (allPolicies[n] === policyMappings[i + 1].mappings[k].subjectDomainPolicy)\r\n                                subjectDomainPolicyIndex = n;\r\n                        }\r\n                        if (typeof (policiesAndCerts[issuerDomainPolicyIndex])[i] !== \"undefined\")\r\n                            delete (policiesAndCerts[issuerDomainPolicyIndex])[i];\r\n                        for (let j = 0; j < certPolicies[i].certificatePolicies.length; j++) {\r\n                            if (policyMappings[i + 1].mappings[k].subjectDomainPolicy === certPolicies[i].certificatePolicies[j].policyIdentifier) {\r\n                                if ((issuerDomainPolicyIndex !== (-1)) && (subjectDomainPolicyIndex !== (-1))) {\r\n                                    for (let m = 0; m <= i; m++) {\r\n                                        if (typeof (policiesAndCerts[subjectDomainPolicyIndex])[m] !== \"undefined\") {\r\n                                            (policiesAndCerts[issuerDomainPolicyIndex])[m] = true;\r\n                                            delete (policiesAndCerts[subjectDomainPolicyIndex])[m];\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (let i = 0; i < allPolicies.length; i++) {\r\n                if (allPolicies[i] === id_AnyPolicy) {\r\n                    for (let j = 0; j < explicitPolicyStart; j++)\r\n                        delete (policiesAndCerts[i])[j];\r\n                }\r\n            }\r\n            const authConstrPolicies = [];\r\n            for (let i = 0; i < policiesAndCerts.length; i++) {\r\n                let found = true;\r\n                for (let j = 0; j < (this.certs.length - 1); j++) {\r\n                    let anyPolicyFound = false;\r\n                    if ((j < explicitPolicyStart) && (allPolicies[i] === id_AnyPolicy) && (allPolicies.length > 1)) {\r\n                        found = false;\r\n                        break;\r\n                    }\r\n                    if (typeof (policiesAndCerts[i])[j] === \"undefined\") {\r\n                        if (j >= explicitPolicyStart) {\r\n                            for (let k = 0; k < allPolicies.length; k++) {\r\n                                if (allPolicies[k] === id_AnyPolicy) {\r\n                                    if ((policiesAndCerts[k])[j] === true)\r\n                                        anyPolicyFound = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (!anyPolicyFound) {\r\n                            found = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (found === true)\r\n                    authConstrPolicies.push(allPolicies[i]);\r\n            }\r\n            let userConstrPolicies = [];\r\n            if ((initialPolicySet.length === 1) && (initialPolicySet[0] === id_AnyPolicy) && (explicitPolicyIndicator === false))\r\n                userConstrPolicies = initialPolicySet;\r\n            else {\r\n                if ((authConstrPolicies.length === 1) && (authConstrPolicies[0] === id_AnyPolicy))\r\n                    userConstrPolicies = initialPolicySet;\r\n                else {\r\n                    for (let i = 0; i < authConstrPolicies.length; i++) {\r\n                        for (let j = 0; j < initialPolicySet.length; j++) {\r\n                            if ((initialPolicySet[j] === authConstrPolicies[i]) || (initialPolicySet[j] === id_AnyPolicy)) {\r\n                                userConstrPolicies.push(authConstrPolicies[i]);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            const policyResult = {\r\n                result: (userConstrPolicies.length > 0),\r\n                resultCode: 0,\r\n                resultMessage: (userConstrPolicies.length > 0) ? EMPTY_STRING : \"Zero \\\"userConstrPolicies\\\" array, no intersections with \\\"authConstrPolicies\\\"\",\r\n                authConstrPolicies,\r\n                userConstrPolicies,\r\n                explicitPolicyIndicator,\r\n                policyMappings,\r\n                certificatePath: this.certs\r\n            };\r\n            if (userConstrPolicies.length === 0)\r\n                return policyResult;\r\n            if (policyResult.result === false)\r\n                return policyResult;\r\n            pathDepth = 1;\r\n            for (let i = (this.certs.length - 2); i >= 0; i--, pathDepth++) {\r\n                const cert = this.certs[i];\r\n                let subjectAltNames = [];\r\n                let certPermittedSubtrees = [];\r\n                let certExcludedSubtrees = [];\r\n                if (cert.extensions) {\r\n                    for (let j = 0; j < cert.extensions.length; j++) {\r\n                        const extension = cert.extensions[j];\r\n                        if (extension.extnID === id_NameConstraints) {\r\n                            if (\"permittedSubtrees\" in extension.parsedValue)\r\n                                certPermittedSubtrees = certPermittedSubtrees.concat(extension.parsedValue.permittedSubtrees);\r\n                            if (\"excludedSubtrees\" in extension.parsedValue)\r\n                                certExcludedSubtrees = certExcludedSubtrees.concat(extension.parsedValue.excludedSubtrees);\r\n                        }\r\n                        if (extension.extnID === id_SubjectAltName)\r\n                            subjectAltNames = subjectAltNames.concat(extension.parsedValue.altNames);\r\n                    }\r\n                }\r\n                let formFound = (requiredNameForms.length <= 0);\r\n                for (let j = 0; j < requiredNameForms.length; j++) {\r\n                    switch (requiredNameForms[j].base.type) {\r\n                        case 4:\r\n                            {\r\n                                if (requiredNameForms[j].base.value.typesAndValues.length !== cert.subject.typesAndValues.length)\r\n                                    continue;\r\n                                formFound = true;\r\n                                for (let k = 0; k < cert.subject.typesAndValues.length; k++) {\r\n                                    if (cert.subject.typesAndValues[k].type !== requiredNameForms[j].base.value.typesAndValues[k].type) {\r\n                                        formFound = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                if (formFound === true)\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                if (formFound === false) {\r\n                    policyResult.result = false;\r\n                    policyResult.resultCode = 21;\r\n                    policyResult.resultMessage = \"No necessary name form found\";\r\n                    throw policyResult;\r\n                }\r\n                const constrGroups = [\r\n                    [],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                ];\r\n                for (let j = 0; j < permittedSubtrees.length; j++) {\r\n                    switch (permittedSubtrees[j].base.type) {\r\n                        case 1:\r\n                            constrGroups[0].push(permittedSubtrees[j]);\r\n                            break;\r\n                        case 2:\r\n                            constrGroups[1].push(permittedSubtrees[j]);\r\n                            break;\r\n                        case 4:\r\n                            constrGroups[2].push(permittedSubtrees[j]);\r\n                            break;\r\n                        case 6:\r\n                            constrGroups[3].push(permittedSubtrees[j]);\r\n                            break;\r\n                        case 7:\r\n                            constrGroups[4].push(permittedSubtrees[j]);\r\n                            break;\r\n                        default:\r\n                    }\r\n                }\r\n                for (let p = 0; p < 5; p++) {\r\n                    let groupPermitted = false;\r\n                    let valueExists = false;\r\n                    const group = constrGroups[p];\r\n                    for (let j = 0; j < group.length; j++) {\r\n                        switch (p) {\r\n                            case 0:\r\n                                if (subjectAltNames.length > 0) {\r\n                                    for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                        if (subjectAltNames[k].type === 1) {\r\n                                            valueExists = true;\r\n                                            groupPermitted = groupPermitted || compareRFC822Name(subjectAltNames[k].value, group[j].base.value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    for (let k = 0; k < cert.subject.typesAndValues.length; k++) {\r\n                                        if ((cert.subject.typesAndValues[k].type === \"1.2.840.113549.1.9.1\") ||\r\n                                            (cert.subject.typesAndValues[k].type === \"0.9.2342.19200300.100.1.3\")) {\r\n                                            valueExists = true;\r\n                                            groupPermitted = groupPermitted || compareRFC822Name(cert.subject.typesAndValues[k].value.valueBlock.value, group[j].base.value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 1:\r\n                                if (subjectAltNames.length > 0) {\r\n                                    for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                        if (subjectAltNames[k].type === 2) {\r\n                                            valueExists = true;\r\n                                            groupPermitted = groupPermitted || compareDNSName(subjectAltNames[k].value, group[j].base.value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 2:\r\n                                valueExists = true;\r\n                                groupPermitted = compareDirectoryName(cert.subject, group[j].base.value);\r\n                                break;\r\n                            case 3:\r\n                                if (subjectAltNames.length > 0) {\r\n                                    for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                        if (subjectAltNames[k].type === 6) {\r\n                                            valueExists = true;\r\n                                            groupPermitted = groupPermitted || compareUniformResourceIdentifier(subjectAltNames[k].value, group[j].base.value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                break;\r\n                            case 4:\r\n                                if (subjectAltNames.length > 0) {\r\n                                    for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                        if (subjectAltNames[k].type === 7) {\r\n                                            valueExists = true;\r\n                                            groupPermitted = groupPermitted || compareIPAddress(subjectAltNames[k].value, group[j].base.value);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                break;\r\n                            default:\r\n                        }\r\n                        if (groupPermitted)\r\n                            break;\r\n                    }\r\n                    if ((groupPermitted === false) && (group.length > 0) && valueExists) {\r\n                        policyResult.result = false;\r\n                        policyResult.resultCode = 41;\r\n                        policyResult.resultMessage = \"Failed to meet \\\"permitted sub-trees\\\" name constraint\";\r\n                        throw policyResult;\r\n                    }\r\n                }\r\n                let excluded = false;\r\n                for (let j = 0; j < excludedSubtrees.length; j++) {\r\n                    switch (excludedSubtrees[j].base.type) {\r\n                        case 1:\r\n                            if (subjectAltNames.length >= 0) {\r\n                                for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                    if (subjectAltNames[k].type === 1)\r\n                                        excluded = excluded || compareRFC822Name(subjectAltNames[k].value, excludedSubtrees[j].base.value);\r\n                                }\r\n                            }\r\n                            else {\r\n                                for (let k = 0; k < cert.subject.typesAndValues.length; k++) {\r\n                                    if ((cert.subject.typesAndValues[k].type === \"1.2.840.113549.1.9.1\") ||\r\n                                        (cert.subject.typesAndValues[k].type === \"0.9.2342.19200300.100.1.3\"))\r\n                                        excluded = excluded || compareRFC822Name(cert.subject.typesAndValues[k].value.valueBlock.value, excludedSubtrees[j].base.value);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            if (subjectAltNames.length > 0) {\r\n                                for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                    if (subjectAltNames[k].type === 2)\r\n                                        excluded = excluded || compareDNSName(subjectAltNames[k].value, excludedSubtrees[j].base.value);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 4:\r\n                            excluded = excluded || compareDirectoryName(cert.subject, excludedSubtrees[j].base.value);\r\n                            break;\r\n                        case 6:\r\n                            if (subjectAltNames.length > 0) {\r\n                                for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                    if (subjectAltNames[k].type === 6)\r\n                                        excluded = excluded || compareUniformResourceIdentifier(subjectAltNames[k].value, excludedSubtrees[j].base.value);\r\n                                }\r\n                            }\r\n                            break;\r\n                        case 7:\r\n                            if (subjectAltNames.length > 0) {\r\n                                for (let k = 0; k < subjectAltNames.length; k++) {\r\n                                    if (subjectAltNames[k].type === 7)\r\n                                        excluded = excluded || compareIPAddress(subjectAltNames[k].value, excludedSubtrees[j].base.value);\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                    }\r\n                    if (excluded)\r\n                        break;\r\n                }\r\n                if (excluded === true) {\r\n                    policyResult.result = false;\r\n                    policyResult.resultCode = 42;\r\n                    policyResult.resultMessage = \"Failed to meet \\\"excluded sub-trees\\\" name constraint\";\r\n                    throw policyResult;\r\n                }\r\n                permittedSubtrees = permittedSubtrees.concat(certPermittedSubtrees);\r\n                excludedSubtrees = excludedSubtrees.concat(certExcludedSubtrees);\r\n            }\r\n            return policyResult;\r\n        }\r\n        catch (error) {\r\n            if (error instanceof Object) {\r\n                if (\"resultMessage\" in error)\r\n                    return error;\r\n                if (\"message\" in error) {\r\n                    return {\r\n                        result: false,\r\n                        resultCode: -1,\r\n                        resultMessage: error.message\r\n                    };\r\n                }\r\n            }\r\n            return {\r\n                result: false,\r\n                resultCode: -1,\r\n                resultMessage: error,\r\n            };\r\n        }\r\n    }\r\n}\n\nconst TBS_RESPONSE_DATA = \"tbsResponseData\";\r\nconst SIGNATURE_ALGORITHM$3 = \"signatureAlgorithm\";\r\nconst SIGNATURE$2 = \"signature\";\r\nconst CERTS$1 = \"certs\";\r\nconst BASIC_OCSP_RESPONSE = \"BasicOCSPResponse\";\r\nconst BASIC_OCSP_RESPONSE_TBS_RESPONSE_DATA = `${BASIC_OCSP_RESPONSE}.${TBS_RESPONSE_DATA}`;\r\nconst BASIC_OCSP_RESPONSE_SIGNATURE_ALGORITHM = `${BASIC_OCSP_RESPONSE}.${SIGNATURE_ALGORITHM$3}`;\r\nconst BASIC_OCSP_RESPONSE_SIGNATURE = `${BASIC_OCSP_RESPONSE}.${SIGNATURE$2}`;\r\nconst BASIC_OCSP_RESPONSE_CERTS = `${BASIC_OCSP_RESPONSE}.${CERTS$1}`;\r\nconst CLEAR_PROPS$g = [\r\n    BASIC_OCSP_RESPONSE_TBS_RESPONSE_DATA,\r\n    BASIC_OCSP_RESPONSE_SIGNATURE_ALGORITHM,\r\n    BASIC_OCSP_RESPONSE_SIGNATURE,\r\n    BASIC_OCSP_RESPONSE_CERTS\r\n];\r\nclass BasicOCSPResponse extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsResponseData = pvutils.getParametersValue(parameters, TBS_RESPONSE_DATA, BasicOCSPResponse.defaultValues(TBS_RESPONSE_DATA));\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$3, BasicOCSPResponse.defaultValues(SIGNATURE_ALGORITHM$3));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$2, BasicOCSPResponse.defaultValues(SIGNATURE$2));\r\n        if (CERTS$1 in parameters) {\r\n            this.certs = pvutils.getParametersValue(parameters, CERTS$1, BasicOCSPResponse.defaultValues(CERTS$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS_RESPONSE_DATA:\r\n                return new ResponseData();\r\n            case SIGNATURE_ALGORITHM$3:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE$2:\r\n                return new asn1js.BitString();\r\n            case CERTS$1:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case \"type\":\r\n                {\r\n                    let comparisonResult = ((ResponseData.compareWithDefault(\"tbs\", memberValue.tbs)) &&\r\n                        (ResponseData.compareWithDefault(\"responderID\", memberValue.responderID)) &&\r\n                        (ResponseData.compareWithDefault(\"producedAt\", memberValue.producedAt)) &&\r\n                        (ResponseData.compareWithDefault(\"responses\", memberValue.responses)));\r\n                    if (\"responseExtensions\" in memberValue)\r\n                        comparisonResult = comparisonResult && (ResponseData.compareWithDefault(\"responseExtensions\", memberValue.responseExtensions));\r\n                    return comparisonResult;\r\n                }\r\n            case SIGNATURE_ALGORITHM$3:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case SIGNATURE$2:\r\n                return (memberValue.isEqual(BasicOCSPResponse.defaultValues(memberName)));\r\n            case CERTS$1:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || BASIC_OCSP_RESPONSE),\r\n            value: [\r\n                ResponseData.schema(names.tbsResponseData || {\r\n                    names: {\r\n                        blockName: BASIC_OCSP_RESPONSE_TBS_RESPONSE_DATA\r\n                    }\r\n                }),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {\r\n                    names: {\r\n                        blockName: BASIC_OCSP_RESPONSE_SIGNATURE_ALGORITHM\r\n                    }\r\n                }),\r\n                new asn1js.BitString({ name: (names.signature || BASIC_OCSP_RESPONSE_SIGNATURE) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Sequence({\r\n                            value: [new asn1js.Repeated({\r\n                                    name: BASIC_OCSP_RESPONSE_CERTS,\r\n                                    value: Certificate.schema(names.certs || {})\r\n                                })]\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$g);\r\n        const asn1 = asn1js.compareSchema(schema, schema, BasicOCSPResponse.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsResponseData = new ResponseData({ schema: asn1.result[BASIC_OCSP_RESPONSE_TBS_RESPONSE_DATA] });\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result[BASIC_OCSP_RESPONSE_SIGNATURE_ALGORITHM] });\r\n        this.signature = asn1.result[BASIC_OCSP_RESPONSE_SIGNATURE];\r\n        if (BASIC_OCSP_RESPONSE_CERTS in asn1.result) {\r\n            this.certs = Array.from(asn1.result[BASIC_OCSP_RESPONSE_CERTS], element => new Certificate({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.tbsResponseData.toSchema());\r\n        outputArray.push(this.signatureAlgorithm.toSchema());\r\n        outputArray.push(this.signature);\r\n        if (this.certs) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Sequence({\r\n                        value: Array.from(this.certs, o => o.toSchema())\r\n                    })\r\n                ]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            tbsResponseData: this.tbsResponseData.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signature: this.signature.toJSON(),\r\n        };\r\n        if (this.certs) {\r\n            res.certs = Array.from(this.certs, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n    async getCertificateStatus(certificate, issuerCertificate, crypto = getCrypto(true)) {\r\n        const result = {\r\n            isForCertificate: false,\r\n            status: 2\r\n        };\r\n        const hashesObject = {};\r\n        const certIDs = [];\r\n        for (const response of this.tbsResponseData.responses) {\r\n            const hashAlgorithm = crypto.getAlgorithmByOID(response.certID.hashAlgorithm.algorithmId, true, \"CertID.hashAlgorithm\");\r\n            if (!hashesObject[hashAlgorithm.name]) {\r\n                hashesObject[hashAlgorithm.name] = 1;\r\n                const certID = new CertID();\r\n                certIDs.push(certID);\r\n                await certID.createForCertificate(certificate, {\r\n                    hashAlgorithm: hashAlgorithm.name,\r\n                    issuerCertificate\r\n                }, crypto);\r\n            }\r\n        }\r\n        for (const response of this.tbsResponseData.responses) {\r\n            for (const id of certIDs) {\r\n                if (response.certID.isEqual(id)) {\r\n                    result.isForCertificate = true;\r\n                    try {\r\n                        switch (response.certStatus.idBlock.isConstructed) {\r\n                            case true:\r\n                                if (response.certStatus.idBlock.tagNumber === 1)\r\n                                    result.status = 1;\r\n                                break;\r\n                            case false:\r\n                                switch (response.certStatus.idBlock.tagNumber) {\r\n                                    case 0:\r\n                                        result.status = 0;\r\n                                        break;\r\n                                    case 2:\r\n                                        result.status = 2;\r\n                                        break;\r\n                                    default:\r\n                                }\r\n                                break;\r\n                            default:\r\n                        }\r\n                    }\r\n                    catch (ex) {\r\n                    }\r\n                    return result;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    async sign(privateKey, hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        if (!privateKey) {\r\n            throw new Error(\"Need to provide a private key for signing\");\r\n        }\r\n        const signatureParams = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const algorithm = signatureParams.parameters.algorithm;\r\n        if (!(\"name\" in algorithm)) {\r\n            throw new Error(\"Empty algorithm\");\r\n        }\r\n        this.signatureAlgorithm = signatureParams.signatureAlgorithm;\r\n        this.tbsResponseData.tbsView = new Uint8Array(this.tbsResponseData.toSchema(true).toBER());\r\n        const signature = await crypto.signWithPrivateKey(this.tbsResponseData.tbsView, privateKey, { algorithm });\r\n        this.signature = new asn1js.BitString({ valueHex: signature });\r\n    }\r\n    async verify(params = {}, crypto = getCrypto(true)) {\r\n        let signerCert = null;\r\n        let certIndex = -1;\r\n        const trustedCerts = params.trustedCerts || [];\r\n        if (!this.certs) {\r\n            throw new Error(\"No certificates attached to the BasicOCSPResponse\");\r\n        }\r\n        switch (true) {\r\n            case (this.tbsResponseData.responderID instanceof RelativeDistinguishedNames):\r\n                for (const [index, certificate] of this.certs.entries()) {\r\n                    if (certificate.subject.isEqual(this.tbsResponseData.responderID)) {\r\n                        certIndex = index;\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            case (this.tbsResponseData.responderID instanceof asn1js.OctetString):\r\n                for (const [index, cert] of this.certs.entries()) {\r\n                    const hash = await crypto.digest({ name: \"sha-1\" }, cert.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);\r\n                    if (pvutils.isEqualBuffer(hash, this.tbsResponseData.responderID.valueBlock.valueHex)) {\r\n                        certIndex = index;\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(\"Wrong value for responderID\");\r\n        }\r\n        if (certIndex === (-1))\r\n            throw new Error(\"Correct certificate was not found in OCSP response\");\r\n        signerCert = this.certs[certIndex];\r\n        const additionalCerts = [signerCert];\r\n        for (const cert of this.certs) {\r\n            const caCert = await checkCA(cert, signerCert);\r\n            if (caCert) {\r\n                additionalCerts.push(caCert);\r\n            }\r\n        }\r\n        const certChain = new CertificateChainValidationEngine({\r\n            certs: additionalCerts,\r\n            trustedCerts,\r\n        });\r\n        const verificationResult = await certChain.verify({}, crypto);\r\n        if (!verificationResult.result) {\r\n            throw new Error(\"Validation of signer's certificate failed\");\r\n        }\r\n        return crypto.verifyWithPublicKey(this.tbsResponseData.tbsView, this.signature, this.certs[certIndex].subjectPublicKeyInfo, this.signatureAlgorithm);\r\n    }\r\n}\r\nBasicOCSPResponse.CLASS_NAME = \"BasicOCSPResponse\";\n\nconst TBS$1 = \"tbs\";\r\nconst VERSION$6 = \"version\";\r\nconst SUBJECT = \"subject\";\r\nconst SPKI = \"subjectPublicKeyInfo\";\r\nconst ATTRIBUTES$1 = \"attributes\";\r\nconst SIGNATURE_ALGORITHM$2 = \"signatureAlgorithm\";\r\nconst SIGNATURE_VALUE = \"signatureValue\";\r\nconst CSR_INFO = \"CertificationRequestInfo\";\r\nconst CSR_INFO_VERSION = `${CSR_INFO}.version`;\r\nconst CSR_INFO_SUBJECT = `${CSR_INFO}.subject`;\r\nconst CSR_INFO_SPKI = `${CSR_INFO}.subjectPublicKeyInfo`;\r\nconst CSR_INFO_ATTRS = `${CSR_INFO}.attributes`;\r\nconst CLEAR_PROPS$f = [\r\n    CSR_INFO,\r\n    CSR_INFO_VERSION,\r\n    CSR_INFO_SUBJECT,\r\n    CSR_INFO_SPKI,\r\n    CSR_INFO_ATTRS,\r\n    SIGNATURE_ALGORITHM$2,\r\n    SIGNATURE_VALUE\r\n];\r\nfunction CertificationRequestInfo(parameters = {}) {\r\n    const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n    return (new asn1js.Sequence({\r\n        name: (names.CertificationRequestInfo || CSR_INFO),\r\n        value: [\r\n            new asn1js.Integer({ name: (names.CertificationRequestInfoVersion || CSR_INFO_VERSION) }),\r\n            RelativeDistinguishedNames.schema(names.subject || {\r\n                names: {\r\n                    blockName: CSR_INFO_SUBJECT\r\n                }\r\n            }),\r\n            PublicKeyInfo.schema({\r\n                names: {\r\n                    blockName: CSR_INFO_SPKI\r\n                }\r\n            }),\r\n            new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Repeated({\r\n                        optional: true,\r\n                        name: (names.CertificationRequestInfoAttributes || CSR_INFO_ATTRS),\r\n                        value: Attribute.schema(names.attributes || {})\r\n                    })\r\n                ]\r\n            })\r\n        ]\r\n    }));\r\n}\r\nclass CertificationRequest extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsView = new Uint8Array(pvutils.getParametersValue(parameters, TBS$1, CertificationRequest.defaultValues(TBS$1)));\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$6, CertificationRequest.defaultValues(VERSION$6));\r\n        this.subject = pvutils.getParametersValue(parameters, SUBJECT, CertificationRequest.defaultValues(SUBJECT));\r\n        this.subjectPublicKeyInfo = pvutils.getParametersValue(parameters, SPKI, CertificationRequest.defaultValues(SPKI));\r\n        if (ATTRIBUTES$1 in parameters) {\r\n            this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES$1, CertificationRequest.defaultValues(ATTRIBUTES$1));\r\n        }\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$2, CertificationRequest.defaultValues(SIGNATURE_ALGORITHM$2));\r\n        this.signatureValue = pvutils.getParametersValue(parameters, SIGNATURE_VALUE, CertificationRequest.defaultValues(SIGNATURE_VALUE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get tbs() {\r\n        return pvtsutils.BufferSourceConverter.toArrayBuffer(this.tbsView);\r\n    }\r\n    set tbs(value) {\r\n        this.tbsView = new Uint8Array(value);\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS$1:\r\n                return EMPTY_BUFFER;\r\n            case VERSION$6:\r\n                return 0;\r\n            case SUBJECT:\r\n                return new RelativeDistinguishedNames();\r\n            case SPKI:\r\n                return new PublicKeyInfo();\r\n            case ATTRIBUTES$1:\r\n                return [];\r\n            case SIGNATURE_ALGORITHM$2:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE_VALUE:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                CertificationRequestInfo(names.certificationRequestInfo || {}),\r\n                new asn1js.Sequence({\r\n                    name: (names.signatureAlgorithm || SIGNATURE_ALGORITHM$2),\r\n                    value: [\r\n                        new asn1js.ObjectIdentifier(),\r\n                        new asn1js.Any({ optional: true })\r\n                    ]\r\n                }),\r\n                new asn1js.BitString({ name: (names.signatureValue || SIGNATURE_VALUE) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$f);\r\n        const asn1 = asn1js.compareSchema(schema, schema, CertificationRequest.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsView = asn1.result.CertificationRequestInfo.valueBeforeDecodeView;\r\n        this.version = asn1.result[CSR_INFO_VERSION].valueBlock.valueDec;\r\n        this.subject = new RelativeDistinguishedNames({ schema: asn1.result[CSR_INFO_SUBJECT] });\r\n        this.subjectPublicKeyInfo = new PublicKeyInfo({ schema: asn1.result[CSR_INFO_SPKI] });\r\n        if (CSR_INFO_ATTRS in asn1.result) {\r\n            this.attributes = Array.from(asn1.result[CSR_INFO_ATTRS], element => new Attribute({ schema: element }));\r\n        }\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signatureValue = asn1.result.signatureValue;\r\n    }\r\n    encodeTBS() {\r\n        const outputArray = [\r\n            new asn1js.Integer({ value: this.version }),\r\n            this.subject.toSchema(),\r\n            this.subjectPublicKeyInfo.toSchema()\r\n        ];\r\n        if (ATTRIBUTES$1 in this) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: Array.from(this.attributes || [], o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        let tbsSchema;\r\n        if (encodeFlag === false) {\r\n            if (this.tbsView.byteLength === 0) {\r\n                return CertificationRequest.schema();\r\n            }\r\n            const asn1 = asn1js.fromBER(this.tbsView);\r\n            AsnError.assert(asn1, \"PKCS#10 Certificate Request\");\r\n            tbsSchema = asn1.result;\r\n        }\r\n        else {\r\n            tbsSchema = this.encodeTBS();\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                tbsSchema,\r\n                this.signatureAlgorithm.toSchema(),\r\n                this.signatureValue\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const object = {\r\n            tbs: pvtsutils.Convert.ToHex(this.tbsView),\r\n            version: this.version,\r\n            subject: this.subject.toJSON(),\r\n            subjectPublicKeyInfo: this.subjectPublicKeyInfo.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signatureValue: this.signatureValue.toJSON(),\r\n        };\r\n        if (ATTRIBUTES$1 in this) {\r\n            object.attributes = Array.from(this.attributes || [], o => o.toJSON());\r\n        }\r\n        return object;\r\n    }\r\n    async sign(privateKey, hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        if (!privateKey) {\r\n            throw new Error(\"Need to provide a private key for signing\");\r\n        }\r\n        const signatureParams = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const parameters = signatureParams.parameters;\r\n        this.signatureAlgorithm = signatureParams.signatureAlgorithm;\r\n        this.tbsView = new Uint8Array(this.encodeTBS().toBER());\r\n        const signature = await crypto.signWithPrivateKey(this.tbsView, privateKey, parameters);\r\n        this.signatureValue = new asn1js.BitString({ valueHex: signature });\r\n    }\r\n    async verify(crypto = getCrypto(true)) {\r\n        return crypto.verifyWithPublicKey(this.tbsView, this.signatureValue, this.subjectPublicKeyInfo, this.signatureAlgorithm);\r\n    }\r\n    async getPublicKey(parameters, crypto = getCrypto(true)) {\r\n        return crypto.getPublicKey(this.subjectPublicKeyInfo, this.signatureAlgorithm, parameters);\r\n    }\r\n}\r\nCertificationRequest.CLASS_NAME = \"CertificationRequest\";\n\nconst DIGEST_ALGORITHM$1 = \"digestAlgorithm\";\r\nconst DIGEST = \"digest\";\r\nconst CLEAR_PROPS$e = [\r\n    DIGEST_ALGORITHM$1,\r\n    DIGEST\r\n];\r\nclass DigestInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.digestAlgorithm = pvutils.getParametersValue(parameters, DIGEST_ALGORITHM$1, DigestInfo.defaultValues(DIGEST_ALGORITHM$1));\r\n        this.digest = pvutils.getParametersValue(parameters, DIGEST, DigestInfo.defaultValues(DIGEST));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case DIGEST_ALGORITHM$1:\r\n                return new AlgorithmIdentifier();\r\n            case DIGEST:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case DIGEST_ALGORITHM$1:\r\n                return ((AlgorithmIdentifier.compareWithDefault(\"algorithmId\", memberValue.algorithmId)) &&\r\n                    ((\"algorithmParams\" in memberValue) === false));\r\n            case DIGEST:\r\n                return (memberValue.isEqual(DigestInfo.defaultValues(memberName)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.digestAlgorithm || {\r\n                    names: {\r\n                        blockName: DIGEST_ALGORITHM$1\r\n                    }\r\n                }),\r\n                new asn1js.OctetString({ name: (names.digest || DIGEST) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$e);\r\n        const asn1 = asn1js.compareSchema(schema, schema, DigestInfo.schema({\r\n            names: {\r\n                digestAlgorithm: {\r\n                    names: {\r\n                        blockName: DIGEST_ALGORITHM$1\r\n                    }\r\n                },\r\n                digest: DIGEST\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.digestAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.digestAlgorithm });\r\n        this.digest = asn1.result.digest;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.digestAlgorithm.toSchema(),\r\n                this.digest\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            digestAlgorithm: this.digestAlgorithm.toJSON(),\r\n            digest: this.digest.toJSON(),\r\n        };\r\n    }\r\n}\r\nDigestInfo.CLASS_NAME = \"DigestInfo\";\n\nconst E_CONTENT_TYPE = \"eContentType\";\r\nconst E_CONTENT = \"eContent\";\r\nconst CLEAR_PROPS$d = [\r\n    E_CONTENT_TYPE,\r\n    E_CONTENT,\r\n];\r\nclass EncapsulatedContentInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.eContentType = pvutils.getParametersValue(parameters, E_CONTENT_TYPE, EncapsulatedContentInfo.defaultValues(E_CONTENT_TYPE));\r\n        if (E_CONTENT in parameters) {\r\n            this.eContent = pvutils.getParametersValue(parameters, E_CONTENT, EncapsulatedContentInfo.defaultValues(E_CONTENT));\r\n            if ((this.eContent.idBlock.tagClass === 1) &&\r\n                (this.eContent.idBlock.tagNumber === 4)) {\r\n                if (this.eContent.idBlock.isConstructed === false) {\r\n                    const constrString = new asn1js.OctetString({\r\n                        idBlock: { isConstructed: true },\r\n                        isConstructed: true\r\n                    });\r\n                    let offset = 0;\r\n                    const viewHex = this.eContent.valueBlock.valueHexView.slice().buffer;\r\n                    let length = viewHex.byteLength;\r\n                    while (length > 0) {\r\n                        const pieceView = new Uint8Array(viewHex, offset, ((offset + 65536) > viewHex.byteLength) ? (viewHex.byteLength - offset) : 65536);\r\n                        const _array = new ArrayBuffer(pieceView.length);\r\n                        const _view = new Uint8Array(_array);\r\n                        for (let i = 0; i < _view.length; i++) {\r\n                            _view[i] = pieceView[i];\r\n                        }\r\n                        constrString.valueBlock.value.push(new asn1js.OctetString({ valueHex: _array }));\r\n                        length -= pieceView.length;\r\n                        offset += pieceView.length;\r\n                    }\r\n                    this.eContent = constrString;\r\n                }\r\n            }\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case E_CONTENT_TYPE:\r\n                return EMPTY_STRING;\r\n            case E_CONTENT:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case E_CONTENT_TYPE:\r\n                return (memberValue === EMPTY_STRING);\r\n            case E_CONTENT:\r\n                {\r\n                    if ((memberValue.idBlock.tagClass === 1) && (memberValue.idBlock.tagNumber === 4))\r\n                        return (memberValue.isEqual(EncapsulatedContentInfo.defaultValues(E_CONTENT)));\r\n                    return false;\r\n                }\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.eContentType || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Any({ name: (names.eContent || EMPTY_STRING) })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$d);\r\n        const asn1 = asn1js.compareSchema(schema, schema, EncapsulatedContentInfo.schema({\r\n            names: {\r\n                eContentType: E_CONTENT_TYPE,\r\n                eContent: E_CONTENT\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.eContentType = asn1.result.eContentType.valueBlock.toString();\r\n        if (E_CONTENT in asn1.result)\r\n            this.eContent = asn1.result.eContent;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.eContentType }));\r\n        if (this.eContent) {\r\n            if (EncapsulatedContentInfo.compareWithDefault(E_CONTENT, this.eContent) === false) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [this.eContent]\r\n                }));\r\n            }\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            eContentType: this.eContentType\r\n        };\r\n        if (this.eContent && EncapsulatedContentInfo.compareWithDefault(E_CONTENT, this.eContent) === false) {\r\n            res.eContent = this.eContent.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nEncapsulatedContentInfo.CLASS_NAME = \"EncapsulatedContentInfo\";\n\nclass KeyBag extends PrivateKeyInfo {\r\n    constructor(parameters = {}) {\r\n        super(parameters);\r\n    }\r\n}\n\nconst MAC = \"mac\";\r\nconst MAC_SALT = \"macSalt\";\r\nconst ITERATIONS = \"iterations\";\r\nconst CLEAR_PROPS$c = [\r\n    MAC,\r\n    MAC_SALT,\r\n    ITERATIONS\r\n];\r\nclass MacData extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.mac = pvutils.getParametersValue(parameters, MAC, MacData.defaultValues(MAC));\r\n        this.macSalt = pvutils.getParametersValue(parameters, MAC_SALT, MacData.defaultValues(MAC_SALT));\r\n        if (ITERATIONS in parameters) {\r\n            this.iterations = pvutils.getParametersValue(parameters, ITERATIONS, MacData.defaultValues(ITERATIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case MAC:\r\n                return new DigestInfo();\r\n            case MAC_SALT:\r\n                return new asn1js.OctetString();\r\n            case ITERATIONS:\r\n                return 1;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case MAC:\r\n                return ((DigestInfo.compareWithDefault(\"digestAlgorithm\", memberValue.digestAlgorithm)) &&\r\n                    (DigestInfo.compareWithDefault(\"digest\", memberValue.digest)));\r\n            case MAC_SALT:\r\n                return (memberValue.isEqual(MacData.defaultValues(memberName)));\r\n            case ITERATIONS:\r\n                return (memberValue === MacData.defaultValues(memberName));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            optional: (names.optional || true),\r\n            value: [\r\n                DigestInfo.schema(names.mac || {\r\n                    names: {\r\n                        blockName: MAC\r\n                    }\r\n                }),\r\n                new asn1js.OctetString({ name: (names.macSalt || MAC_SALT) }),\r\n                new asn1js.Integer({\r\n                    optional: true,\r\n                    name: (names.iterations || ITERATIONS)\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$c);\r\n        const asn1 = asn1js.compareSchema(schema, schema, MacData.schema({\r\n            names: {\r\n                mac: {\r\n                    names: {\r\n                        blockName: MAC\r\n                    }\r\n                },\r\n                macSalt: MAC_SALT,\r\n                iterations: ITERATIONS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.mac = new DigestInfo({ schema: asn1.result.mac });\r\n        this.macSalt = asn1.result.macSalt;\r\n        if (ITERATIONS in asn1.result)\r\n            this.iterations = asn1.result.iterations.valueBlock.valueDec;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            this.mac.toSchema(),\r\n            this.macSalt\r\n        ];\r\n        if (this.iterations !== undefined) {\r\n            outputArray.push(new asn1js.Integer({ value: this.iterations }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            mac: this.mac.toJSON(),\r\n            macSalt: this.macSalt.toJSON(),\r\n        };\r\n        if (this.iterations !== undefined) {\r\n            res.iterations = this.iterations;\r\n        }\r\n        return res;\r\n    }\r\n}\r\nMacData.CLASS_NAME = \"MacData\";\n\nconst HASH_ALGORITHM = \"hashAlgorithm\";\r\nconst HASHED_MESSAGE = \"hashedMessage\";\r\nconst CLEAR_PROPS$b = [\r\n    HASH_ALGORITHM,\r\n    HASHED_MESSAGE,\r\n];\r\nclass MessageImprint extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.hashAlgorithm = pvutils.getParametersValue(parameters, HASH_ALGORITHM, MessageImprint.defaultValues(HASH_ALGORITHM));\r\n        this.hashedMessage = pvutils.getParametersValue(parameters, HASHED_MESSAGE, MessageImprint.defaultValues(HASHED_MESSAGE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static async create(hashAlgorithm, message, crypto = getCrypto(true)) {\r\n        const hashAlgorithmOID = crypto.getOIDByAlgorithm({ name: hashAlgorithm }, true, \"hashAlgorithm\");\r\n        const hashedMessage = await crypto.digest(hashAlgorithm, message);\r\n        const res = new MessageImprint({\r\n            hashAlgorithm: new AlgorithmIdentifier({\r\n                algorithmId: hashAlgorithmOID,\r\n                algorithmParams: new asn1js.Null(),\r\n            }),\r\n            hashedMessage: new asn1js.OctetString({ valueHex: hashedMessage })\r\n        });\r\n        return res;\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case HASHED_MESSAGE:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case HASH_ALGORITHM:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case HASHED_MESSAGE:\r\n                return (memberValue.isEqual(MessageImprint.defaultValues(memberName)) === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.hashAlgorithm || {}),\r\n                new asn1js.OctetString({ name: (names.hashedMessage || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$b);\r\n        const asn1 = asn1js.compareSchema(schema, schema, MessageImprint.schema({\r\n            names: {\r\n                hashAlgorithm: {\r\n                    names: {\r\n                        blockName: HASH_ALGORITHM\r\n                    }\r\n                },\r\n                hashedMessage: HASHED_MESSAGE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.hashAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.hashAlgorithm });\r\n        this.hashedMessage = asn1.result.hashedMessage;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                this.hashAlgorithm.toSchema(),\r\n                this.hashedMessage\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            hashAlgorithm: this.hashAlgorithm.toJSON(),\r\n            hashedMessage: this.hashedMessage.toJSON(),\r\n        };\r\n    }\r\n}\r\nMessageImprint.CLASS_NAME = \"MessageImprint\";\n\nconst REQ_CERT = \"reqCert\";\r\nconst SINGLE_REQUEST_EXTENSIONS = \"singleRequestExtensions\";\r\nconst CLEAR_PROPS$a = [\r\n    REQ_CERT,\r\n    SINGLE_REQUEST_EXTENSIONS,\r\n];\r\nclass Request extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.reqCert = pvutils.getParametersValue(parameters, REQ_CERT, Request.defaultValues(REQ_CERT));\r\n        if (SINGLE_REQUEST_EXTENSIONS in parameters) {\r\n            this.singleRequestExtensions = pvutils.getParametersValue(parameters, SINGLE_REQUEST_EXTENSIONS, Request.defaultValues(SINGLE_REQUEST_EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case REQ_CERT:\r\n                return new CertID();\r\n            case SINGLE_REQUEST_EXTENSIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case REQ_CERT:\r\n                return (memberValue.isEqual(Request.defaultValues(memberName)));\r\n            case SINGLE_REQUEST_EXTENSIONS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                CertID.schema(names.reqCert || {}),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [Extension.schema(names.extensions || {\r\n                            names: {\r\n                                blockName: (names.singleRequestExtensions || EMPTY_STRING)\r\n                            }\r\n                        })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$a);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Request.schema({\r\n            names: {\r\n                reqCert: {\r\n                    names: {\r\n                        blockName: REQ_CERT\r\n                    }\r\n                },\r\n                extensions: {\r\n                    names: {\r\n                        blockName: SINGLE_REQUEST_EXTENSIONS\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.reqCert = new CertID({ schema: asn1.result.reqCert });\r\n        if (SINGLE_REQUEST_EXTENSIONS in asn1.result) {\r\n            this.singleRequestExtensions = Array.from(asn1.result.singleRequestExtensions.valueBlock.value, element => new Extension({ schema: element }));\r\n        }\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.reqCert.toSchema());\r\n        if (this.singleRequestExtensions) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Sequence({\r\n                        value: Array.from(this.singleRequestExtensions, o => o.toSchema())\r\n                    })\r\n                ]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            reqCert: this.reqCert.toJSON()\r\n        };\r\n        if (this.singleRequestExtensions) {\r\n            res.singleRequestExtensions = Array.from(this.singleRequestExtensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nRequest.CLASS_NAME = \"Request\";\n\nconst TBS = \"tbs\";\r\nconst VERSION$5 = \"version\";\r\nconst REQUESTOR_NAME = \"requestorName\";\r\nconst REQUEST_LIST = \"requestList\";\r\nconst REQUEST_EXTENSIONS = \"requestExtensions\";\r\nconst TBS_REQUEST$1 = \"TBSRequest\";\r\nconst TBS_REQUEST_VERSION = `${TBS_REQUEST$1}.${VERSION$5}`;\r\nconst TBS_REQUEST_REQUESTOR_NAME = `${TBS_REQUEST$1}.${REQUESTOR_NAME}`;\r\nconst TBS_REQUEST_REQUESTS = `${TBS_REQUEST$1}.requests`;\r\nconst TBS_REQUEST_REQUEST_EXTENSIONS = `${TBS_REQUEST$1}.${REQUEST_EXTENSIONS}`;\r\nconst CLEAR_PROPS$9 = [\r\n    TBS_REQUEST$1,\r\n    TBS_REQUEST_VERSION,\r\n    TBS_REQUEST_REQUESTOR_NAME,\r\n    TBS_REQUEST_REQUESTS,\r\n    TBS_REQUEST_REQUEST_EXTENSIONS\r\n];\r\nclass TBSRequest extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsView = new Uint8Array(pvutils.getParametersValue(parameters, TBS, TBSRequest.defaultValues(TBS)));\r\n        if (VERSION$5 in parameters) {\r\n            this.version = pvutils.getParametersValue(parameters, VERSION$5, TBSRequest.defaultValues(VERSION$5));\r\n        }\r\n        if (REQUESTOR_NAME in parameters) {\r\n            this.requestorName = pvutils.getParametersValue(parameters, REQUESTOR_NAME, TBSRequest.defaultValues(REQUESTOR_NAME));\r\n        }\r\n        this.requestList = pvutils.getParametersValue(parameters, REQUEST_LIST, TBSRequest.defaultValues(REQUEST_LIST));\r\n        if (REQUEST_EXTENSIONS in parameters) {\r\n            this.requestExtensions = pvutils.getParametersValue(parameters, REQUEST_EXTENSIONS, TBSRequest.defaultValues(REQUEST_EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    get tbs() {\r\n        return pvtsutils.BufferSourceConverter.toArrayBuffer(this.tbsView);\r\n    }\r\n    set tbs(value) {\r\n        this.tbsView = new Uint8Array(value);\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS:\r\n                return EMPTY_BUFFER;\r\n            case VERSION$5:\r\n                return 0;\r\n            case REQUESTOR_NAME:\r\n                return new GeneralName();\r\n            case REQUEST_LIST:\r\n            case REQUEST_EXTENSIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TBS:\r\n                return (memberValue.byteLength === 0);\r\n            case VERSION$5:\r\n                return (memberValue === TBSRequest.defaultValues(memberName));\r\n            case REQUESTOR_NAME:\r\n                return ((memberValue.type === GeneralName.defaultValues(\"type\")) && (Object.keys(memberValue.value).length === 0));\r\n            case REQUEST_LIST:\r\n            case REQUEST_EXTENSIONS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || TBS_REQUEST$1),\r\n            value: [\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Integer({ name: (names.TBSRequestVersion || TBS_REQUEST_VERSION) })]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [GeneralName.schema(names.requestorName || {\r\n                            names: {\r\n                                blockName: TBS_REQUEST_REQUESTOR_NAME\r\n                            }\r\n                        })]\r\n                }),\r\n                new asn1js.Sequence({\r\n                    name: (names.requestList || \"TBSRequest.requestList\"),\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.requests || TBS_REQUEST_REQUESTS),\r\n                            value: Request.schema(names.requestNames || {})\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: [Extensions.schema(names.extensions || {\r\n                            names: {\r\n                                blockName: (names.requestExtensions || TBS_REQUEST_REQUEST_EXTENSIONS)\r\n                            }\r\n                        })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$9);\r\n        const asn1 = asn1js.compareSchema(schema, schema, TBSRequest.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsView = asn1.result.TBSRequest.valueBeforeDecodeView;\r\n        if (TBS_REQUEST_VERSION in asn1.result)\r\n            this.version = asn1.result[TBS_REQUEST_VERSION].valueBlock.valueDec;\r\n        if (TBS_REQUEST_REQUESTOR_NAME in asn1.result)\r\n            this.requestorName = new GeneralName({ schema: asn1.result[TBS_REQUEST_REQUESTOR_NAME] });\r\n        this.requestList = Array.from(asn1.result[TBS_REQUEST_REQUESTS], element => new Request({ schema: element }));\r\n        if (TBS_REQUEST_REQUEST_EXTENSIONS in asn1.result)\r\n            this.requestExtensions = Array.from(asn1.result[TBS_REQUEST_REQUEST_EXTENSIONS].valueBlock.value, element => new Extension({ schema: element }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        let tbsSchema;\r\n        if (encodeFlag === false) {\r\n            if (this.tbsView.byteLength === 0)\r\n                return TBSRequest.schema();\r\n            const asn1 = asn1js.fromBER(this.tbsView);\r\n            AsnError.assert(asn1, \"TBS Request\");\r\n            if (!(asn1.result instanceof asn1js.Sequence)) {\r\n                throw new Error(\"ASN.1 result should be SEQUENCE\");\r\n            }\r\n            tbsSchema = asn1.result;\r\n        }\r\n        else {\r\n            const outputArray = [];\r\n            if (this.version !== undefined) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Integer({ value: this.version })]\r\n                }));\r\n            }\r\n            if (this.requestorName) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [this.requestorName.toSchema()]\r\n                }));\r\n            }\r\n            outputArray.push(new asn1js.Sequence({\r\n                value: Array.from(this.requestList, o => o.toSchema())\r\n            }));\r\n            if (this.requestExtensions) {\r\n                outputArray.push(new asn1js.Constructed({\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 2\r\n                    },\r\n                    value: [\r\n                        new asn1js.Sequence({\r\n                            value: Array.from(this.requestExtensions, o => o.toSchema())\r\n                        })\r\n                    ]\r\n                }));\r\n            }\r\n            tbsSchema = new asn1js.Sequence({\r\n                value: outputArray\r\n            });\r\n        }\r\n        return tbsSchema;\r\n    }\r\n    toJSON() {\r\n        const res = {};\r\n        if (this.version != undefined)\r\n            res.version = this.version;\r\n        if (this.requestorName) {\r\n            res.requestorName = this.requestorName.toJSON();\r\n        }\r\n        res.requestList = Array.from(this.requestList, o => o.toJSON());\r\n        if (this.requestExtensions) {\r\n            res.requestExtensions = Array.from(this.requestExtensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nTBSRequest.CLASS_NAME = \"TBSRequest\";\n\nconst SIGNATURE_ALGORITHM$1 = \"signatureAlgorithm\";\r\nconst SIGNATURE$1 = \"signature\";\r\nconst CERTS = \"certs\";\r\nclass Signature extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM$1, Signature.defaultValues(SIGNATURE_ALGORITHM$1));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE$1, Signature.defaultValues(SIGNATURE$1));\r\n        if (CERTS in parameters) {\r\n            this.certs = pvutils.getParametersValue(parameters, CERTS, Signature.defaultValues(CERTS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case SIGNATURE_ALGORITHM$1:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE$1:\r\n                return new asn1js.BitString();\r\n            case CERTS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case SIGNATURE_ALGORITHM$1:\r\n                return ((memberValue.algorithmId === EMPTY_STRING) && ((\"algorithmParams\" in memberValue) === false));\r\n            case SIGNATURE$1:\r\n                return (memberValue.isEqual(Signature.defaultValues(memberName)));\r\n            case CERTS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {}),\r\n                new asn1js.BitString({ name: (names.signature || EMPTY_STRING) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        new asn1js.Sequence({\r\n                            value: [new asn1js.Repeated({\r\n                                    name: (names.certs || EMPTY_STRING),\r\n                                    value: Certificate.schema({})\r\n                                })]\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            SIGNATURE_ALGORITHM$1,\r\n            SIGNATURE$1,\r\n            CERTS\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, Signature.schema({\r\n            names: {\r\n                signatureAlgorithm: {\r\n                    names: {\r\n                        blockName: SIGNATURE_ALGORITHM$1\r\n                    }\r\n                },\r\n                signature: SIGNATURE$1,\r\n                certs: CERTS\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result.signatureAlgorithm });\r\n        this.signature = asn1.result.signature;\r\n        if (CERTS in asn1.result)\r\n            this.certs = Array.from(asn1.result.certs, element => new Certificate({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.signatureAlgorithm.toSchema());\r\n        outputArray.push(this.signature);\r\n        if (this.certs) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    new asn1js.Sequence({\r\n                        value: Array.from(this.certs, o => o.toSchema())\r\n                    })\r\n                ]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signature: this.signature.toJSON(),\r\n        };\r\n        if (this.certs) {\r\n            res.certs = Array.from(this.certs, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nSignature.CLASS_NAME = \"Signature\";\n\nconst TBS_REQUEST = \"tbsRequest\";\r\nconst OPTIONAL_SIGNATURE = \"optionalSignature\";\r\nconst CLEAR_PROPS$8 = [\r\n    TBS_REQUEST,\r\n    OPTIONAL_SIGNATURE\r\n];\r\nclass OCSPRequest extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.tbsRequest = pvutils.getParametersValue(parameters, TBS_REQUEST, OCSPRequest.defaultValues(TBS_REQUEST));\r\n        if (OPTIONAL_SIGNATURE in parameters) {\r\n            this.optionalSignature = pvutils.getParametersValue(parameters, OPTIONAL_SIGNATURE, OCSPRequest.defaultValues(OPTIONAL_SIGNATURE));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TBS_REQUEST:\r\n                return new TBSRequest();\r\n            case OPTIONAL_SIGNATURE:\r\n                return new Signature();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TBS_REQUEST:\r\n                return ((TBSRequest.compareWithDefault(\"tbs\", memberValue.tbs)) &&\r\n                    (TBSRequest.compareWithDefault(\"version\", memberValue.version)) &&\r\n                    (TBSRequest.compareWithDefault(\"requestorName\", memberValue.requestorName)) &&\r\n                    (TBSRequest.compareWithDefault(\"requestList\", memberValue.requestList)) &&\r\n                    (TBSRequest.compareWithDefault(\"requestExtensions\", memberValue.requestExtensions)));\r\n            case OPTIONAL_SIGNATURE:\r\n                return ((Signature.compareWithDefault(\"signatureAlgorithm\", memberValue.signatureAlgorithm)) &&\r\n                    (Signature.compareWithDefault(\"signature\", memberValue.signature)) &&\r\n                    (Signature.compareWithDefault(\"certs\", memberValue.certs)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: names.blockName || \"OCSPRequest\",\r\n            value: [\r\n                TBSRequest.schema(names.tbsRequest || {\r\n                    names: {\r\n                        blockName: TBS_REQUEST\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        Signature.schema(names.optionalSignature || {\r\n                            names: {\r\n                                blockName: OPTIONAL_SIGNATURE\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$8);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OCSPRequest.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.tbsRequest = new TBSRequest({ schema: asn1.result.tbsRequest });\r\n        if (OPTIONAL_SIGNATURE in asn1.result)\r\n            this.optionalSignature = new Signature({ schema: asn1.result.optionalSignature });\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        const outputArray = [];\r\n        outputArray.push(this.tbsRequest.toSchema(encodeFlag));\r\n        if (this.optionalSignature)\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [\r\n                    this.optionalSignature.toSchema()\r\n                ]\r\n            }));\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            tbsRequest: this.tbsRequest.toJSON()\r\n        };\r\n        if (this.optionalSignature) {\r\n            res.optionalSignature = this.optionalSignature.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n    async createForCertificate(certificate, parameters, crypto = getCrypto(true)) {\r\n        const certID = new CertID();\r\n        await certID.createForCertificate(certificate, parameters, crypto);\r\n        this.tbsRequest.requestList.push(new Request({\r\n            reqCert: certID,\r\n        }));\r\n    }\r\n    async sign(privateKey, hashAlgorithm = \"SHA-1\", crypto = getCrypto(true)) {\r\n        ParameterError.assertEmpty(privateKey, \"privateKey\", \"OCSPRequest.sign method\");\r\n        if (!this.optionalSignature) {\r\n            throw new Error(\"Need to create \\\"optionalSignature\\\" field before signing\");\r\n        }\r\n        const signatureParams = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const parameters = signatureParams.parameters;\r\n        this.optionalSignature.signatureAlgorithm = signatureParams.signatureAlgorithm;\r\n        const tbs = this.tbsRequest.toSchema(true).toBER(false);\r\n        const signature = await crypto.signWithPrivateKey(tbs, privateKey, parameters);\r\n        this.optionalSignature.signature = new asn1js.BitString({ valueHex: signature });\r\n    }\r\n    verify() {\r\n    }\r\n}\r\nOCSPRequest.CLASS_NAME = \"OCSPRequest\";\n\nconst RESPONSE_TYPE = \"responseType\";\r\nconst RESPONSE = \"response\";\r\nconst CLEAR_PROPS$7 = [\r\n    RESPONSE_TYPE,\r\n    RESPONSE\r\n];\r\nclass ResponseBytes extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.responseType = pvutils.getParametersValue(parameters, RESPONSE_TYPE, ResponseBytes.defaultValues(RESPONSE_TYPE));\r\n        this.response = pvutils.getParametersValue(parameters, RESPONSE, ResponseBytes.defaultValues(RESPONSE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case RESPONSE_TYPE:\r\n                return EMPTY_STRING;\r\n            case RESPONSE:\r\n                return new asn1js.OctetString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case RESPONSE_TYPE:\r\n                return (memberValue === EMPTY_STRING);\r\n            case RESPONSE:\r\n                return (memberValue.isEqual(ResponseBytes.defaultValues(memberName)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ name: (names.responseType || EMPTY_STRING) }),\r\n                new asn1js.OctetString({ name: (names.response || EMPTY_STRING) })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$7);\r\n        const asn1 = asn1js.compareSchema(schema, schema, ResponseBytes.schema({\r\n            names: {\r\n                responseType: RESPONSE_TYPE,\r\n                response: RESPONSE\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.responseType = asn1.result.responseType.valueBlock.toString();\r\n        this.response = asn1.result.response;\r\n    }\r\n    toSchema() {\r\n        return (new asn1js.Sequence({\r\n            value: [\r\n                new asn1js.ObjectIdentifier({ value: this.responseType }),\r\n                this.response\r\n            ]\r\n        }));\r\n    }\r\n    toJSON() {\r\n        return {\r\n            responseType: this.responseType,\r\n            response: this.response.toJSON(),\r\n        };\r\n    }\r\n}\r\nResponseBytes.CLASS_NAME = \"ResponseBytes\";\n\nconst RESPONSE_STATUS = \"responseStatus\";\r\nconst RESPONSE_BYTES = \"responseBytes\";\r\nclass OCSPResponse extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.responseStatus = pvutils.getParametersValue(parameters, RESPONSE_STATUS, OCSPResponse.defaultValues(RESPONSE_STATUS));\r\n        if (RESPONSE_BYTES in parameters) {\r\n            this.responseBytes = pvutils.getParametersValue(parameters, RESPONSE_BYTES, OCSPResponse.defaultValues(RESPONSE_BYTES));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case RESPONSE_STATUS:\r\n                return new asn1js.Enumerated();\r\n            case RESPONSE_BYTES:\r\n                return new ResponseBytes();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case RESPONSE_STATUS:\r\n                return (memberValue.isEqual(OCSPResponse.defaultValues(memberName)));\r\n            case RESPONSE_BYTES:\r\n                return ((ResponseBytes.compareWithDefault(\"responseType\", memberValue.responseType)) &&\r\n                    (ResponseBytes.compareWithDefault(\"response\", memberValue.response)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || \"OCSPResponse\"),\r\n            value: [\r\n                new asn1js.Enumerated({ name: (names.responseStatus || RESPONSE_STATUS) }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [\r\n                        ResponseBytes.schema(names.responseBytes || {\r\n                            names: {\r\n                                blockName: RESPONSE_BYTES\r\n                            }\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, [\r\n            RESPONSE_STATUS,\r\n            RESPONSE_BYTES\r\n        ]);\r\n        const asn1 = asn1js.compareSchema(schema, schema, OCSPResponse.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.responseStatus = asn1.result.responseStatus;\r\n        if (RESPONSE_BYTES in asn1.result)\r\n            this.responseBytes = new ResponseBytes({ schema: asn1.result.responseBytes });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.responseStatus);\r\n        if (this.responseBytes) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.responseBytes.toSchema()]\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            responseStatus: this.responseStatus.toJSON()\r\n        };\r\n        if (this.responseBytes) {\r\n            res.responseBytes = this.responseBytes.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n    async getCertificateStatus(certificate, issuerCertificate, crypto = getCrypto(true)) {\r\n        let basicResponse;\r\n        const result = {\r\n            isForCertificate: false,\r\n            status: 2\r\n        };\r\n        if (!this.responseBytes)\r\n            return result;\r\n        if (this.responseBytes.responseType !== id_PKIX_OCSP_Basic)\r\n            return result;\r\n        try {\r\n            const asn1Basic = asn1js.fromBER(this.responseBytes.response.valueBlock.valueHexView);\r\n            AsnError.assert(asn1Basic, \"Basic OCSP response\");\r\n            basicResponse = new BasicOCSPResponse({ schema: asn1Basic.result });\r\n        }\r\n        catch (ex) {\r\n            return result;\r\n        }\r\n        return basicResponse.getCertificateStatus(certificate, issuerCertificate, crypto);\r\n    }\r\n    async sign(privateKey, hashAlgorithm, crypto = getCrypto(true)) {\r\n        var _a;\r\n        if (this.responseBytes && this.responseBytes.responseType === id_PKIX_OCSP_Basic) {\r\n            const basicResponse = BasicOCSPResponse.fromBER(this.responseBytes.response.valueBlock.valueHexView);\r\n            return basicResponse.sign(privateKey, hashAlgorithm, crypto);\r\n        }\r\n        throw new Error(`Unknown ResponseBytes type: ${((_a = this.responseBytes) === null || _a === void 0 ? void 0 : _a.responseType) || \"Unknown\"}`);\r\n    }\r\n    async verify(issuerCertificate = null, crypto = getCrypto(true)) {\r\n        var _a;\r\n        if ((RESPONSE_BYTES in this) === false)\r\n            throw new Error(\"Empty ResponseBytes field\");\r\n        if (this.responseBytes && this.responseBytes.responseType === id_PKIX_OCSP_Basic) {\r\n            const basicResponse = BasicOCSPResponse.fromBER(this.responseBytes.response.valueBlock.valueHexView);\r\n            if (issuerCertificate !== null) {\r\n                if (!basicResponse.certs) {\r\n                    basicResponse.certs = [];\r\n                }\r\n                basicResponse.certs.push(issuerCertificate);\r\n            }\r\n            return basicResponse.verify({}, crypto);\r\n        }\r\n        throw new Error(`Unknown ResponseBytes type: ${((_a = this.responseBytes) === null || _a === void 0 ? void 0 : _a.responseType) || \"Unknown\"}`);\r\n    }\r\n}\r\nOCSPResponse.CLASS_NAME = \"OCSPResponse\";\n\nconst TYPE = \"type\";\r\nconst ATTRIBUTES = \"attributes\";\r\nconst ENCODED_VALUE = \"encodedValue\";\r\nconst CLEAR_PROPS$6 = [\r\n    ATTRIBUTES\r\n];\r\nclass SignedAndUnsignedAttributes extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.type = pvutils.getParametersValue(parameters, TYPE, SignedAndUnsignedAttributes.defaultValues(TYPE));\r\n        this.attributes = pvutils.getParametersValue(parameters, ATTRIBUTES, SignedAndUnsignedAttributes.defaultValues(ATTRIBUTES));\r\n        this.encodedValue = pvutils.getParametersValue(parameters, ENCODED_VALUE, SignedAndUnsignedAttributes.defaultValues(ENCODED_VALUE));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case TYPE:\r\n                return (-1);\r\n            case ATTRIBUTES:\r\n                return [];\r\n            case ENCODED_VALUE:\r\n                return EMPTY_BUFFER;\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case TYPE:\r\n                return (memberValue === SignedAndUnsignedAttributes.defaultValues(TYPE));\r\n            case ATTRIBUTES:\r\n                return (memberValue.length === 0);\r\n            case ENCODED_VALUE:\r\n                return (memberValue.byteLength === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Constructed({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            optional: true,\r\n            idBlock: {\r\n                tagClass: 3,\r\n                tagNumber: names.tagNumber || 0\r\n            },\r\n            value: [\r\n                new asn1js.Repeated({\r\n                    name: (names.attributes || EMPTY_STRING),\r\n                    value: Attribute.schema()\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$6);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SignedAndUnsignedAttributes.schema({\r\n            names: {\r\n                tagNumber: this.type,\r\n                attributes: ATTRIBUTES\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.type = asn1.result.idBlock.tagNumber;\r\n        this.encodedValue = pvtsutils.BufferSourceConverter.toArrayBuffer(asn1.result.valueBeforeDecodeView);\r\n        const encodedView = new Uint8Array(this.encodedValue);\r\n        encodedView[0] = 0x31;\r\n        if ((ATTRIBUTES in asn1.result) === false) {\r\n            if (this.type === 0)\r\n                throw new Error(\"Wrong structure of SignedUnsignedAttributes\");\r\n            else\r\n                return;\r\n        }\r\n        this.attributes = Array.from(asn1.result.attributes, element => new Attribute({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        if (SignedAndUnsignedAttributes.compareWithDefault(TYPE, this.type) || SignedAndUnsignedAttributes.compareWithDefault(ATTRIBUTES, this.attributes))\r\n            throw new Error(\"Incorrectly initialized \\\"SignedAndUnsignedAttributes\\\" class\");\r\n        return (new asn1js.Constructed({\r\n            optional: true,\r\n            idBlock: {\r\n                tagClass: 3,\r\n                tagNumber: this.type\r\n            },\r\n            value: Array.from(this.attributes, o => o.toSchema())\r\n        }));\r\n    }\r\n    toJSON() {\r\n        if (SignedAndUnsignedAttributes.compareWithDefault(TYPE, this.type) || SignedAndUnsignedAttributes.compareWithDefault(ATTRIBUTES, this.attributes))\r\n            throw new Error(\"Incorrectly initialized \\\"SignedAndUnsignedAttributes\\\" class\");\r\n        return {\r\n            type: this.type,\r\n            attributes: Array.from(this.attributes, o => o.toJSON())\r\n        };\r\n    }\r\n}\r\nSignedAndUnsignedAttributes.CLASS_NAME = \"SignedAndUnsignedAttributes\";\n\nconst VERSION$4 = \"version\";\r\nconst SID = \"sid\";\r\nconst DIGEST_ALGORITHM = \"digestAlgorithm\";\r\nconst SIGNED_ATTRS = \"signedAttrs\";\r\nconst SIGNATURE_ALGORITHM = \"signatureAlgorithm\";\r\nconst SIGNATURE = \"signature\";\r\nconst UNSIGNED_ATTRS = \"unsignedAttrs\";\r\nconst SIGNER_INFO = \"SignerInfo\";\r\nconst SIGNER_INFO_VERSION = `${SIGNER_INFO}.${VERSION$4}`;\r\nconst SIGNER_INFO_SID = `${SIGNER_INFO}.${SID}`;\r\nconst SIGNER_INFO_DIGEST_ALGORITHM = `${SIGNER_INFO}.${DIGEST_ALGORITHM}`;\r\nconst SIGNER_INFO_SIGNED_ATTRS = `${SIGNER_INFO}.${SIGNED_ATTRS}`;\r\nconst SIGNER_INFO_SIGNATURE_ALGORITHM = `${SIGNER_INFO}.${SIGNATURE_ALGORITHM}`;\r\nconst SIGNER_INFO_SIGNATURE = `${SIGNER_INFO}.${SIGNATURE}`;\r\nconst SIGNER_INFO_UNSIGNED_ATTRS = `${SIGNER_INFO}.${UNSIGNED_ATTRS}`;\r\nconst CLEAR_PROPS$5 = [\r\n    SIGNER_INFO_VERSION,\r\n    SIGNER_INFO_SID,\r\n    SIGNER_INFO_DIGEST_ALGORITHM,\r\n    SIGNER_INFO_SIGNED_ATTRS,\r\n    SIGNER_INFO_SIGNATURE_ALGORITHM,\r\n    SIGNER_INFO_SIGNATURE,\r\n    SIGNER_INFO_UNSIGNED_ATTRS\r\n];\r\nclass SignerInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$4, SignerInfo.defaultValues(VERSION$4));\r\n        this.sid = pvutils.getParametersValue(parameters, SID, SignerInfo.defaultValues(SID));\r\n        this.digestAlgorithm = pvutils.getParametersValue(parameters, DIGEST_ALGORITHM, SignerInfo.defaultValues(DIGEST_ALGORITHM));\r\n        if (SIGNED_ATTRS in parameters) {\r\n            this.signedAttrs = pvutils.getParametersValue(parameters, SIGNED_ATTRS, SignerInfo.defaultValues(SIGNED_ATTRS));\r\n        }\r\n        this.signatureAlgorithm = pvutils.getParametersValue(parameters, SIGNATURE_ALGORITHM, SignerInfo.defaultValues(SIGNATURE_ALGORITHM));\r\n        this.signature = pvutils.getParametersValue(parameters, SIGNATURE, SignerInfo.defaultValues(SIGNATURE));\r\n        if (UNSIGNED_ATTRS in parameters) {\r\n            this.unsignedAttrs = pvutils.getParametersValue(parameters, UNSIGNED_ATTRS, SignerInfo.defaultValues(UNSIGNED_ATTRS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$4:\r\n                return 0;\r\n            case SID:\r\n                return new asn1js.Any();\r\n            case DIGEST_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNED_ATTRS:\r\n                return new SignedAndUnsignedAttributes({ type: 0 });\r\n            case SIGNATURE_ALGORITHM:\r\n                return new AlgorithmIdentifier();\r\n            case SIGNATURE:\r\n                return new asn1js.OctetString();\r\n            case UNSIGNED_ATTRS:\r\n                return new SignedAndUnsignedAttributes({ type: 1 });\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$4:\r\n                return (SignerInfo.defaultValues(VERSION$4) === memberValue);\r\n            case SID:\r\n                return (memberValue instanceof asn1js.Any);\r\n            case DIGEST_ALGORITHM:\r\n                if ((memberValue instanceof AlgorithmIdentifier) === false)\r\n                    return false;\r\n                return memberValue.isEqual(SignerInfo.defaultValues(DIGEST_ALGORITHM));\r\n            case SIGNED_ATTRS:\r\n                return ((SignedAndUnsignedAttributes.compareWithDefault(\"type\", memberValue.type))\r\n                    && (SignedAndUnsignedAttributes.compareWithDefault(\"attributes\", memberValue.attributes))\r\n                    && (SignedAndUnsignedAttributes.compareWithDefault(\"encodedValue\", memberValue.encodedValue)));\r\n            case SIGNATURE_ALGORITHM:\r\n                if ((memberValue instanceof AlgorithmIdentifier) === false)\r\n                    return false;\r\n                return memberValue.isEqual(SignerInfo.defaultValues(SIGNATURE_ALGORITHM));\r\n            case SIGNATURE:\r\n            case UNSIGNED_ATTRS:\r\n                return ((SignedAndUnsignedAttributes.compareWithDefault(\"type\", memberValue.type))\r\n                    && (SignedAndUnsignedAttributes.compareWithDefault(\"attributes\", memberValue.attributes))\r\n                    && (SignedAndUnsignedAttributes.compareWithDefault(\"encodedValue\", memberValue.encodedValue)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: SIGNER_INFO,\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || SIGNER_INFO_VERSION) }),\r\n                new asn1js.Choice({\r\n                    value: [\r\n                        IssuerAndSerialNumber.schema(names.sidSchema || {\r\n                            names: {\r\n                                blockName: SIGNER_INFO_SID\r\n                            }\r\n                        }),\r\n                        new asn1js.Choice({\r\n                            value: [\r\n                                new asn1js.Constructed({\r\n                                    optional: true,\r\n                                    name: (names.sid || SIGNER_INFO_SID),\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 0\r\n                                    },\r\n                                    value: [new asn1js.OctetString()]\r\n                                }),\r\n                                new asn1js.Primitive({\r\n                                    optional: true,\r\n                                    name: (names.sid || SIGNER_INFO_SID),\r\n                                    idBlock: {\r\n                                        tagClass: 3,\r\n                                        tagNumber: 0\r\n                                    }\r\n                                }),\r\n                            ]\r\n                        }),\r\n                    ]\r\n                }),\r\n                AlgorithmIdentifier.schema(names.digestAlgorithm || {\r\n                    names: {\r\n                        blockName: SIGNER_INFO_DIGEST_ALGORITHM\r\n                    }\r\n                }),\r\n                SignedAndUnsignedAttributes.schema(names.signedAttrs || {\r\n                    names: {\r\n                        blockName: SIGNER_INFO_SIGNED_ATTRS,\r\n                        tagNumber: 0\r\n                    }\r\n                }),\r\n                AlgorithmIdentifier.schema(names.signatureAlgorithm || {\r\n                    names: {\r\n                        blockName: SIGNER_INFO_SIGNATURE_ALGORITHM\r\n                    }\r\n                }),\r\n                new asn1js.OctetString({ name: (names.signature || SIGNER_INFO_SIGNATURE) }),\r\n                SignedAndUnsignedAttributes.schema(names.unsignedAttrs || {\r\n                    names: {\r\n                        blockName: SIGNER_INFO_UNSIGNED_ATTRS,\r\n                        tagNumber: 1\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$5);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SignerInfo.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result[SIGNER_INFO_VERSION].valueBlock.valueDec;\r\n        const currentSid = asn1.result[SIGNER_INFO_SID];\r\n        if (currentSid.idBlock.tagClass === 1)\r\n            this.sid = new IssuerAndSerialNumber({ schema: currentSid });\r\n        else\r\n            this.sid = currentSid;\r\n        this.digestAlgorithm = new AlgorithmIdentifier({ schema: asn1.result[SIGNER_INFO_DIGEST_ALGORITHM] });\r\n        if (SIGNER_INFO_SIGNED_ATTRS in asn1.result)\r\n            this.signedAttrs = new SignedAndUnsignedAttributes({ type: 0, schema: asn1.result[SIGNER_INFO_SIGNED_ATTRS] });\r\n        this.signatureAlgorithm = new AlgorithmIdentifier({ schema: asn1.result[SIGNER_INFO_SIGNATURE_ALGORITHM] });\r\n        this.signature = asn1.result[SIGNER_INFO_SIGNATURE];\r\n        if (SIGNER_INFO_UNSIGNED_ATTRS in asn1.result)\r\n            this.unsignedAttrs = new SignedAndUnsignedAttributes({ type: 1, schema: asn1.result[SIGNER_INFO_UNSIGNED_ATTRS] });\r\n    }\r\n    toSchema() {\r\n        if (SignerInfo.compareWithDefault(SID, this.sid))\r\n            throw new Error(\"Incorrectly initialized \\\"SignerInfo\\\" class\");\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        if (this.sid instanceof IssuerAndSerialNumber)\r\n            outputArray.push(this.sid.toSchema());\r\n        else\r\n            outputArray.push(this.sid);\r\n        outputArray.push(this.digestAlgorithm.toSchema());\r\n        if (this.signedAttrs) {\r\n            if (SignerInfo.compareWithDefault(SIGNED_ATTRS, this.signedAttrs) === false)\r\n                outputArray.push(this.signedAttrs.toSchema());\r\n        }\r\n        outputArray.push(this.signatureAlgorithm.toSchema());\r\n        outputArray.push(this.signature);\r\n        if (this.unsignedAttrs) {\r\n            if (SignerInfo.compareWithDefault(UNSIGNED_ATTRS, this.unsignedAttrs) === false)\r\n                outputArray.push(this.unsignedAttrs.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        if (SignerInfo.compareWithDefault(SID, this.sid)) {\r\n            throw new Error(\"Incorrectly initialized \\\"SignerInfo\\\" class\");\r\n        }\r\n        const res = {\r\n            version: this.version,\r\n            digestAlgorithm: this.digestAlgorithm.toJSON(),\r\n            signatureAlgorithm: this.signatureAlgorithm.toJSON(),\r\n            signature: this.signature.toJSON(),\r\n        };\r\n        if (!(this.sid instanceof asn1js.Any))\r\n            res.sid = this.sid.toJSON();\r\n        if (this.signedAttrs && SignerInfo.compareWithDefault(SIGNED_ATTRS, this.signedAttrs) === false) {\r\n            res.signedAttrs = this.signedAttrs.toJSON();\r\n        }\r\n        if (this.unsignedAttrs && SignerInfo.compareWithDefault(UNSIGNED_ATTRS, this.unsignedAttrs) === false) {\r\n            res.unsignedAttrs = this.unsignedAttrs.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nSignerInfo.CLASS_NAME = \"SignerInfo\";\n\nconst VERSION$3 = \"version\";\r\nconst POLICY = \"policy\";\r\nconst MESSAGE_IMPRINT$1 = \"messageImprint\";\r\nconst SERIAL_NUMBER = \"serialNumber\";\r\nconst GEN_TIME = \"genTime\";\r\nconst ORDERING = \"ordering\";\r\nconst NONCE$1 = \"nonce\";\r\nconst ACCURACY = \"accuracy\";\r\nconst TSA = \"tsa\";\r\nconst EXTENSIONS$1 = \"extensions\";\r\nconst TST_INFO = \"TSTInfo\";\r\nconst TST_INFO_VERSION = `${TST_INFO}.${VERSION$3}`;\r\nconst TST_INFO_POLICY = `${TST_INFO}.${POLICY}`;\r\nconst TST_INFO_MESSAGE_IMPRINT = `${TST_INFO}.${MESSAGE_IMPRINT$1}`;\r\nconst TST_INFO_SERIAL_NUMBER = `${TST_INFO}.${SERIAL_NUMBER}`;\r\nconst TST_INFO_GEN_TIME = `${TST_INFO}.${GEN_TIME}`;\r\nconst TST_INFO_ACCURACY = `${TST_INFO}.${ACCURACY}`;\r\nconst TST_INFO_ORDERING = `${TST_INFO}.${ORDERING}`;\r\nconst TST_INFO_NONCE = `${TST_INFO}.${NONCE$1}`;\r\nconst TST_INFO_TSA = `${TST_INFO}.${TSA}`;\r\nconst TST_INFO_EXTENSIONS = `${TST_INFO}.${EXTENSIONS$1}`;\r\nconst CLEAR_PROPS$4 = [\r\n    TST_INFO_VERSION,\r\n    TST_INFO_POLICY,\r\n    TST_INFO_MESSAGE_IMPRINT,\r\n    TST_INFO_SERIAL_NUMBER,\r\n    TST_INFO_GEN_TIME,\r\n    TST_INFO_ACCURACY,\r\n    TST_INFO_ORDERING,\r\n    TST_INFO_NONCE,\r\n    TST_INFO_TSA,\r\n    TST_INFO_EXTENSIONS\r\n];\r\nclass TSTInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$3, TSTInfo.defaultValues(VERSION$3));\r\n        this.policy = pvutils.getParametersValue(parameters, POLICY, TSTInfo.defaultValues(POLICY));\r\n        this.messageImprint = pvutils.getParametersValue(parameters, MESSAGE_IMPRINT$1, TSTInfo.defaultValues(MESSAGE_IMPRINT$1));\r\n        this.serialNumber = pvutils.getParametersValue(parameters, SERIAL_NUMBER, TSTInfo.defaultValues(SERIAL_NUMBER));\r\n        this.genTime = pvutils.getParametersValue(parameters, GEN_TIME, TSTInfo.defaultValues(GEN_TIME));\r\n        if (ACCURACY in parameters) {\r\n            this.accuracy = pvutils.getParametersValue(parameters, ACCURACY, TSTInfo.defaultValues(ACCURACY));\r\n        }\r\n        if (ORDERING in parameters) {\r\n            this.ordering = pvutils.getParametersValue(parameters, ORDERING, TSTInfo.defaultValues(ORDERING));\r\n        }\r\n        if (NONCE$1 in parameters) {\r\n            this.nonce = pvutils.getParametersValue(parameters, NONCE$1, TSTInfo.defaultValues(NONCE$1));\r\n        }\r\n        if (TSA in parameters) {\r\n            this.tsa = pvutils.getParametersValue(parameters, TSA, TSTInfo.defaultValues(TSA));\r\n        }\r\n        if (EXTENSIONS$1 in parameters) {\r\n            this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS$1, TSTInfo.defaultValues(EXTENSIONS$1));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$3:\r\n                return 0;\r\n            case POLICY:\r\n                return EMPTY_STRING;\r\n            case MESSAGE_IMPRINT$1:\r\n                return new MessageImprint();\r\n            case SERIAL_NUMBER:\r\n                return new asn1js.Integer();\r\n            case GEN_TIME:\r\n                return new Date(0, 0, 0);\r\n            case ACCURACY:\r\n                return new Accuracy();\r\n            case ORDERING:\r\n                return false;\r\n            case NONCE$1:\r\n                return new asn1js.Integer();\r\n            case TSA:\r\n                return new GeneralName();\r\n            case EXTENSIONS$1:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$3:\r\n            case POLICY:\r\n            case GEN_TIME:\r\n            case ORDERING:\r\n                return (memberValue === TSTInfo.defaultValues(ORDERING));\r\n            case MESSAGE_IMPRINT$1:\r\n                return ((MessageImprint.compareWithDefault(HASH_ALGORITHM, memberValue.hashAlgorithm)) &&\r\n                    (MessageImprint.compareWithDefault(HASHED_MESSAGE, memberValue.hashedMessage)));\r\n            case SERIAL_NUMBER:\r\n            case NONCE$1:\r\n                return (memberValue.isEqual(TSTInfo.defaultValues(NONCE$1)));\r\n            case ACCURACY:\r\n                return ((Accuracy.compareWithDefault(SECONDS, memberValue.seconds)) &&\r\n                    (Accuracy.compareWithDefault(MILLIS, memberValue.millis)) &&\r\n                    (Accuracy.compareWithDefault(MICROS, memberValue.micros)));\r\n            case TSA:\r\n                return ((GeneralName.compareWithDefault(TYPE$4, memberValue.type)) &&\r\n                    (GeneralName.compareWithDefault(VALUE$5, memberValue.value)));\r\n            case EXTENSIONS$1:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || TST_INFO),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || TST_INFO_VERSION) }),\r\n                new asn1js.ObjectIdentifier({ name: (names.policy || TST_INFO_POLICY) }),\r\n                MessageImprint.schema(names.messageImprint || {\r\n                    names: {\r\n                        blockName: TST_INFO_MESSAGE_IMPRINT\r\n                    }\r\n                }),\r\n                new asn1js.Integer({ name: (names.serialNumber || TST_INFO_SERIAL_NUMBER) }),\r\n                new asn1js.GeneralizedTime({ name: (names.genTime || TST_INFO_GEN_TIME) }),\r\n                Accuracy.schema(names.accuracy || {\r\n                    names: {\r\n                        blockName: TST_INFO_ACCURACY\r\n                    }\r\n                }),\r\n                new asn1js.Boolean({\r\n                    name: (names.ordering || TST_INFO_ORDERING),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Integer({\r\n                    name: (names.nonce || TST_INFO_NONCE),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [GeneralName.schema(names.tsa || {\r\n                            names: {\r\n                                blockName: TST_INFO_TSA\r\n                            }\r\n                        })]\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.extensions || TST_INFO_EXTENSIONS),\r\n                            value: Extension.schema(names.extension || {})\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$4);\r\n        const asn1 = asn1js.compareSchema(schema, schema, TSTInfo.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result[TST_INFO_VERSION].valueBlock.valueDec;\r\n        this.policy = asn1.result[TST_INFO_POLICY].valueBlock.toString();\r\n        this.messageImprint = new MessageImprint({ schema: asn1.result[TST_INFO_MESSAGE_IMPRINT] });\r\n        this.serialNumber = asn1.result[TST_INFO_SERIAL_NUMBER];\r\n        this.genTime = asn1.result[TST_INFO_GEN_TIME].toDate();\r\n        if (TST_INFO_ACCURACY in asn1.result)\r\n            this.accuracy = new Accuracy({ schema: asn1.result[TST_INFO_ACCURACY] });\r\n        if (TST_INFO_ORDERING in asn1.result)\r\n            this.ordering = asn1.result[TST_INFO_ORDERING].valueBlock.value;\r\n        if (TST_INFO_NONCE in asn1.result)\r\n            this.nonce = asn1.result[TST_INFO_NONCE];\r\n        if (TST_INFO_TSA in asn1.result)\r\n            this.tsa = new GeneralName({ schema: asn1.result[TST_INFO_TSA] });\r\n        if (TST_INFO_EXTENSIONS in asn1.result)\r\n            this.extensions = Array.from(asn1.result[TST_INFO_EXTENSIONS], element => new Extension({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(new asn1js.ObjectIdentifier({ value: this.policy }));\r\n        outputArray.push(this.messageImprint.toSchema());\r\n        outputArray.push(this.serialNumber);\r\n        outputArray.push(new asn1js.GeneralizedTime({ valueDate: this.genTime }));\r\n        if (this.accuracy)\r\n            outputArray.push(this.accuracy.toSchema());\r\n        if (this.ordering !== undefined)\r\n            outputArray.push(new asn1js.Boolean({ value: this.ordering }));\r\n        if (this.nonce)\r\n            outputArray.push(this.nonce);\r\n        if (this.tsa) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: [this.tsa.toSchema()]\r\n            }));\r\n        }\r\n        if (this.extensions) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                optional: true,\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.extensions, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            policy: this.policy,\r\n            messageImprint: this.messageImprint.toJSON(),\r\n            serialNumber: this.serialNumber.toJSON(),\r\n            genTime: this.genTime\r\n        };\r\n        if (this.accuracy)\r\n            res.accuracy = this.accuracy.toJSON();\r\n        if (this.ordering !== undefined)\r\n            res.ordering = this.ordering;\r\n        if (this.nonce)\r\n            res.nonce = this.nonce.toJSON();\r\n        if (this.tsa)\r\n            res.tsa = this.tsa.toJSON();\r\n        if (this.extensions)\r\n            res.extensions = Array.from(this.extensions, o => o.toJSON());\r\n        return res;\r\n    }\r\n    async verify(params, crypto = getCrypto(true)) {\r\n        if (!params.data) {\r\n            throw new Error(\"\\\"data\\\" is a mandatory attribute for TST_INFO verification\");\r\n        }\r\n        const data = params.data;\r\n        if (params.notBefore) {\r\n            if (this.genTime < params.notBefore)\r\n                throw new Error(\"Generation time for TSTInfo object is less than notBefore value\");\r\n        }\r\n        if (params.notAfter) {\r\n            if (this.genTime > params.notAfter)\r\n                throw new Error(\"Generation time for TSTInfo object is more than notAfter value\");\r\n        }\r\n        const shaAlgorithm = crypto.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId, true, \"MessageImprint.hashAlgorithm\");\r\n        const hash = await crypto.digest(shaAlgorithm.name, new Uint8Array(data));\r\n        return pvtsutils.BufferSourceConverter.isEqual(hash, this.messageImprint.hashedMessage.valueBlock.valueHexView);\r\n    }\r\n}\r\nTSTInfo.CLASS_NAME = \"TSTInfo\";\n\nconst VERSION$2 = \"version\";\r\nconst DIGEST_ALGORITHMS = \"digestAlgorithms\";\r\nconst ENCAP_CONTENT_INFO = \"encapContentInfo\";\r\nconst CERTIFICATES = \"certificates\";\r\nconst CRLS = \"crls\";\r\nconst SIGNER_INFOS = \"signerInfos\";\r\nconst OCSPS = \"ocsps\";\r\nconst SIGNED_DATA = \"SignedData\";\r\nconst SIGNED_DATA_VERSION = `${SIGNED_DATA}.${VERSION$2}`;\r\nconst SIGNED_DATA_DIGEST_ALGORITHMS = `${SIGNED_DATA}.${DIGEST_ALGORITHMS}`;\r\nconst SIGNED_DATA_ENCAP_CONTENT_INFO = `${SIGNED_DATA}.${ENCAP_CONTENT_INFO}`;\r\nconst SIGNED_DATA_CERTIFICATES = `${SIGNED_DATA}.${CERTIFICATES}`;\r\nconst SIGNED_DATA_CRLS = `${SIGNED_DATA}.${CRLS}`;\r\nconst SIGNED_DATA_SIGNER_INFOS = `${SIGNED_DATA}.${SIGNER_INFOS}`;\r\nconst CLEAR_PROPS$3 = [\r\n    SIGNED_DATA_VERSION,\r\n    SIGNED_DATA_DIGEST_ALGORITHMS,\r\n    SIGNED_DATA_ENCAP_CONTENT_INFO,\r\n    SIGNED_DATA_CERTIFICATES,\r\n    SIGNED_DATA_CRLS,\r\n    SIGNED_DATA_SIGNER_INFOS\r\n];\r\nclass SignedDataVerifyError extends Error {\r\n    constructor({ message, code = 0, date = new Date(), signatureVerified = null, signerCertificate = null, signerCertificateVerified = null, timestampSerial = null, }) {\r\n        super(message);\r\n        this.name = \"SignedDataVerifyError\";\r\n        this.date = date;\r\n        this.code = code;\r\n        this.timestampSerial = timestampSerial;\r\n        this.signatureVerified = signatureVerified;\r\n        this.signerCertificate = signerCertificate;\r\n        this.signerCertificateVerified = signerCertificateVerified;\r\n    }\r\n}\r\nclass SignedData extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$2, SignedData.defaultValues(VERSION$2));\r\n        this.digestAlgorithms = pvutils.getParametersValue(parameters, DIGEST_ALGORITHMS, SignedData.defaultValues(DIGEST_ALGORITHMS));\r\n        this.encapContentInfo = pvutils.getParametersValue(parameters, ENCAP_CONTENT_INFO, SignedData.defaultValues(ENCAP_CONTENT_INFO));\r\n        if (CERTIFICATES in parameters) {\r\n            this.certificates = pvutils.getParametersValue(parameters, CERTIFICATES, SignedData.defaultValues(CERTIFICATES));\r\n        }\r\n        if (CRLS in parameters) {\r\n            this.crls = pvutils.getParametersValue(parameters, CRLS, SignedData.defaultValues(CRLS));\r\n        }\r\n        if (OCSPS in parameters) {\r\n            this.ocsps = pvutils.getParametersValue(parameters, OCSPS, SignedData.defaultValues(OCSPS));\r\n        }\r\n        this.signerInfos = pvutils.getParametersValue(parameters, SIGNER_INFOS, SignedData.defaultValues(SIGNER_INFOS));\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$2:\r\n                return 0;\r\n            case DIGEST_ALGORITHMS:\r\n                return [];\r\n            case ENCAP_CONTENT_INFO:\r\n                return new EncapsulatedContentInfo();\r\n            case CERTIFICATES:\r\n                return [];\r\n            case CRLS:\r\n                return [];\r\n            case OCSPS:\r\n                return [];\r\n            case SIGNER_INFOS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$2:\r\n                return (memberValue === SignedData.defaultValues(VERSION$2));\r\n            case ENCAP_CONTENT_INFO:\r\n                return EncapsulatedContentInfo.compareWithDefault(\"eContentType\", memberValue.eContentType) &&\r\n                    EncapsulatedContentInfo.compareWithDefault(\"eContent\", memberValue.eContent);\r\n            case DIGEST_ALGORITHMS:\r\n            case CERTIFICATES:\r\n            case CRLS:\r\n            case OCSPS:\r\n            case SIGNER_INFOS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        if (names.optional === undefined) {\r\n            names.optional = false;\r\n        }\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || SIGNED_DATA),\r\n            optional: names.optional,\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || SIGNED_DATA_VERSION) }),\r\n                new asn1js.Set({\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.digestAlgorithms || SIGNED_DATA_DIGEST_ALGORITHMS),\r\n                            value: AlgorithmIdentifier.schema()\r\n                        })\r\n                    ]\r\n                }),\r\n                EncapsulatedContentInfo.schema(names.encapContentInfo || {\r\n                    names: {\r\n                        blockName: SIGNED_DATA_ENCAP_CONTENT_INFO\r\n                    }\r\n                }),\r\n                new asn1js.Constructed({\r\n                    name: (names.certificates || SIGNED_DATA_CERTIFICATES),\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: CertificateSet.schema().valueBlock.value\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 1\r\n                    },\r\n                    value: RevocationInfoChoices.schema(names.crls || {\r\n                        names: {\r\n                            crls: SIGNED_DATA_CRLS\r\n                        }\r\n                    }).valueBlock.value\r\n                }),\r\n                new asn1js.Set({\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.signerInfos || SIGNED_DATA_SIGNER_INFOS),\r\n                            value: SignerInfo.schema()\r\n                        })\r\n                    ]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$3);\r\n        const asn1 = asn1js.compareSchema(schema, schema, SignedData.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result[SIGNED_DATA_VERSION].valueBlock.valueDec;\r\n        if (SIGNED_DATA_DIGEST_ALGORITHMS in asn1.result)\r\n            this.digestAlgorithms = Array.from(asn1.result[SIGNED_DATA_DIGEST_ALGORITHMS], algorithm => new AlgorithmIdentifier({ schema: algorithm }));\r\n        this.encapContentInfo = new EncapsulatedContentInfo({ schema: asn1.result[SIGNED_DATA_ENCAP_CONTENT_INFO] });\r\n        if (SIGNED_DATA_CERTIFICATES in asn1.result) {\r\n            const certificateSet = new CertificateSet({\r\n                schema: new asn1js.Set({\r\n                    value: asn1.result[SIGNED_DATA_CERTIFICATES].valueBlock.value\r\n                })\r\n            });\r\n            this.certificates = certificateSet.certificates.slice(0);\r\n        }\r\n        if (SIGNED_DATA_CRLS in asn1.result) {\r\n            this.crls = Array.from(asn1.result[SIGNED_DATA_CRLS], (crl) => {\r\n                if (crl.idBlock.tagClass === 1)\r\n                    return new CertificateRevocationList({ schema: crl });\r\n                crl.idBlock.tagClass = 1;\r\n                crl.idBlock.tagNumber = 16;\r\n                return new OtherRevocationInfoFormat({ schema: crl });\r\n            });\r\n        }\r\n        if (SIGNED_DATA_SIGNER_INFOS in asn1.result)\r\n            this.signerInfos = Array.from(asn1.result[SIGNED_DATA_SIGNER_INFOS], signerInfoSchema => new SignerInfo({ schema: signerInfoSchema }));\r\n    }\r\n    toSchema(encodeFlag = false) {\r\n        const outputArray = [];\r\n        if ((this.certificates && this.certificates.length && this.certificates.some(o => o instanceof OtherCertificateFormat))\r\n            || (this.crls && this.crls.length && this.crls.some(o => o instanceof OtherRevocationInfoFormat))) {\r\n            this.version = 5;\r\n        }\r\n        else if (this.certificates && this.certificates.length && this.certificates.some(o => o instanceof AttributeCertificateV2)) {\r\n            this.version = 4;\r\n        }\r\n        else if ((this.certificates && this.certificates.length && this.certificates.some(o => o instanceof AttributeCertificateV1))\r\n            || this.signerInfos.some(o => o.version === 3)\r\n            || this.encapContentInfo.eContentType !== SignedData.ID_DATA) {\r\n            this.version = 3;\r\n        }\r\n        else {\r\n            this.version = 1;\r\n        }\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(new asn1js.Set({\r\n            value: Array.from(this.digestAlgorithms, algorithm => algorithm.toSchema())\r\n        }));\r\n        outputArray.push(this.encapContentInfo.toSchema());\r\n        if (this.certificates) {\r\n            const certificateSet = new CertificateSet({ certificates: this.certificates });\r\n            const certificateSetSchema = certificateSet.toSchema();\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: certificateSetSchema.valueBlock.value\r\n            }));\r\n        }\r\n        if (this.crls) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 1\r\n                },\r\n                value: Array.from(this.crls, crl => {\r\n                    if (crl instanceof OtherRevocationInfoFormat) {\r\n                        const crlSchema = crl.toSchema();\r\n                        crlSchema.idBlock.tagClass = 3;\r\n                        crlSchema.idBlock.tagNumber = 1;\r\n                        return crlSchema;\r\n                    }\r\n                    return crl.toSchema(encodeFlag);\r\n                })\r\n            }));\r\n        }\r\n        outputArray.push(new asn1js.Set({\r\n            value: Array.from(this.signerInfos, signerInfo => signerInfo.toSchema())\r\n        }));\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            digestAlgorithms: Array.from(this.digestAlgorithms, algorithm => algorithm.toJSON()),\r\n            encapContentInfo: this.encapContentInfo.toJSON(),\r\n            signerInfos: Array.from(this.signerInfos, signerInfo => signerInfo.toJSON()),\r\n        };\r\n        if (this.certificates) {\r\n            res.certificates = Array.from(this.certificates, certificate => certificate.toJSON());\r\n        }\r\n        if (this.crls) {\r\n            res.crls = Array.from(this.crls, crl => crl.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n    async verify({ signer = (-1), data = (EMPTY_BUFFER), trustedCerts = [], checkDate = (new Date()), checkChain = false, passedWhenNotRevValues = false, extendedMode = false, findOrigin = null, findIssuer = null } = {}, crypto = getCrypto(true)) {\r\n        let signerCert = null;\r\n        let timestampSerial = null;\r\n        try {\r\n            let messageDigestValue = EMPTY_BUFFER;\r\n            let shaAlgorithm = EMPTY_STRING;\r\n            let certificatePath = [];\r\n            const signerInfo = this.signerInfos[signer];\r\n            if (!signerInfo) {\r\n                throw new SignedDataVerifyError({\r\n                    date: checkDate,\r\n                    code: 1,\r\n                    message: \"Unable to get signer by supplied index\",\r\n                });\r\n            }\r\n            if (!this.certificates) {\r\n                throw new SignedDataVerifyError({\r\n                    date: checkDate,\r\n                    code: 2,\r\n                    message: \"No certificates attached to this signed data\",\r\n                });\r\n            }\r\n            if (signerInfo.sid instanceof IssuerAndSerialNumber) {\r\n                for (const certificate of this.certificates) {\r\n                    if (!(certificate instanceof Certificate))\r\n                        continue;\r\n                    if ((certificate.issuer.isEqual(signerInfo.sid.issuer)) &&\r\n                        (certificate.serialNumber.isEqual(signerInfo.sid.serialNumber))) {\r\n                        signerCert = certificate;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                const sid = signerInfo.sid;\r\n                const keyId = sid.idBlock.isConstructed\r\n                    ? sid.valueBlock.value[0].valueBlock.valueHex\r\n                    : sid.valueBlock.valueHex;\r\n                for (const certificate of this.certificates) {\r\n                    if (!(certificate instanceof Certificate)) {\r\n                        continue;\r\n                    }\r\n                    const digest = await crypto.digest({ name: \"sha-1\" }, certificate.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);\r\n                    if (pvutils.isEqualBuffer(digest, keyId)) {\r\n                        signerCert = certificate;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!signerCert) {\r\n                throw new SignedDataVerifyError({\r\n                    date: checkDate,\r\n                    code: 3,\r\n                    message: \"Unable to find signer certificate\",\r\n                });\r\n            }\r\n            if (this.encapContentInfo.eContentType === id_eContentType_TSTInfo) {\r\n                if (!this.encapContentInfo.eContent) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 15,\r\n                        message: \"Error during verification: TSTInfo eContent is empty\",\r\n                        signatureVerified: null,\r\n                        signerCertificate: signerCert,\r\n                        timestampSerial,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n                let tstInfo;\r\n                try {\r\n                    tstInfo = TSTInfo.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView);\r\n                }\r\n                catch (ex) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 15,\r\n                        message: \"Error during verification: TSTInfo wrong ASN.1 schema \",\r\n                        signatureVerified: null,\r\n                        signerCertificate: signerCert,\r\n                        timestampSerial,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n                checkDate = tstInfo.genTime;\r\n                timestampSerial = tstInfo.serialNumber.valueBlock.valueHexView.slice();\r\n                if (data.byteLength === 0) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 4,\r\n                        message: \"Missed detached data input array\",\r\n                    });\r\n                }\r\n                if (!(await tstInfo.verify({ data }, crypto))) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 15,\r\n                        message: \"Error during verification: TSTInfo verification is failed\",\r\n                        signatureVerified: null,\r\n                        signerCertificate: signerCert,\r\n                        timestampSerial,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n            }\r\n            if (checkChain) {\r\n                const certs = this.certificates.filter(certificate => (certificate instanceof Certificate && !!checkCA(certificate, signerCert)));\r\n                const chainParams = {\r\n                    checkDate,\r\n                    certs,\r\n                    trustedCerts,\r\n                };\r\n                if (findIssuer) {\r\n                    chainParams.findIssuer = findIssuer;\r\n                }\r\n                if (findOrigin) {\r\n                    chainParams.findOrigin = findOrigin;\r\n                }\r\n                const chainEngine = new CertificateChainValidationEngine(chainParams);\r\n                chainEngine.certs.push(signerCert);\r\n                if (this.crls) {\r\n                    for (const crl of this.crls) {\r\n                        if (\"thisUpdate\" in crl)\r\n                            chainEngine.crls.push(crl);\r\n                        else {\r\n                            if (crl.otherRevInfoFormat === id_PKIX_OCSP_Basic)\r\n                                chainEngine.ocsps.push(new BasicOCSPResponse({ schema: crl.otherRevInfo }));\r\n                        }\r\n                    }\r\n                }\r\n                if (this.ocsps) {\r\n                    chainEngine.ocsps.push(...(this.ocsps));\r\n                }\r\n                const verificationResult = await chainEngine.verify({ passedWhenNotRevValues }, crypto)\r\n                    .catch(e => {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 5,\r\n                        message: `Validation of signer's certificate failed with error: ${((e instanceof Object) ? e.resultMessage : e)}`,\r\n                        signerCertificate: signerCert,\r\n                        signerCertificateVerified: false\r\n                    });\r\n                });\r\n                if (verificationResult.certificatePath) {\r\n                    certificatePath = verificationResult.certificatePath;\r\n                }\r\n                if (!verificationResult.result)\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 5,\r\n                        message: `Validation of signer's certificate failed: ${verificationResult.resultMessage}`,\r\n                        signerCertificate: signerCert,\r\n                        signerCertificateVerified: false\r\n                    });\r\n            }\r\n            const signerInfoHashAlgorithm = crypto.getAlgorithmByOID(signerInfo.digestAlgorithm.algorithmId);\r\n            if (!(\"name\" in signerInfoHashAlgorithm)) {\r\n                throw new SignedDataVerifyError({\r\n                    date: checkDate,\r\n                    code: 7,\r\n                    message: `Unsupported signature algorithm: ${signerInfo.digestAlgorithm.algorithmId}`,\r\n                    signerCertificate: signerCert,\r\n                    signerCertificateVerified: true\r\n                });\r\n            }\r\n            shaAlgorithm = signerInfoHashAlgorithm.name;\r\n            const eContent = this.encapContentInfo.eContent;\r\n            if (eContent) {\r\n                if ((eContent.idBlock.tagClass === 1) &&\r\n                    (eContent.idBlock.tagNumber === 4)) {\r\n                    data = eContent.getValue();\r\n                }\r\n                else\r\n                    data = eContent.valueBlock.valueBeforeDecodeView;\r\n            }\r\n            else {\r\n                if (data.byteLength === 0) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 8,\r\n                        message: \"Missed detached data input array\",\r\n                        signerCertificate: signerCert,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n            }\r\n            if (signerInfo.signedAttrs) {\r\n                let foundContentType = false;\r\n                let foundMessageDigest = false;\r\n                for (const attribute of signerInfo.signedAttrs.attributes) {\r\n                    if (attribute.type === \"1.2.840.113549.1.9.3\")\r\n                        foundContentType = true;\r\n                    if (attribute.type === \"1.2.840.113549.1.9.4\") {\r\n                        foundMessageDigest = true;\r\n                        messageDigestValue = attribute.values[0].valueBlock.valueHex;\r\n                    }\r\n                    if (foundContentType && foundMessageDigest)\r\n                        break;\r\n                }\r\n                if (foundContentType === false) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 9,\r\n                        message: \"Attribute \\\"content-type\\\" is a mandatory attribute for \\\"signed attributes\\\"\",\r\n                        signerCertificate: signerCert,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n                if (foundMessageDigest === false) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 10,\r\n                        message: \"Attribute \\\"message-digest\\\" is a mandatory attribute for \\\"signed attributes\\\"\",\r\n                        signatureVerified: null,\r\n                        signerCertificate: signerCert,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n            }\r\n            if (signerInfo.signedAttrs) {\r\n                const messageDigest = await crypto.digest(shaAlgorithm, new Uint8Array(data));\r\n                if (!pvutils.isEqualBuffer(messageDigest, messageDigestValue)) {\r\n                    throw new SignedDataVerifyError({\r\n                        date: checkDate,\r\n                        code: 15,\r\n                        message: \"Error during verification: Message digest doesn't match\",\r\n                        signatureVerified: null,\r\n                        signerCertificate: signerCert,\r\n                        timestampSerial,\r\n                        signerCertificateVerified: true\r\n                    });\r\n                }\r\n                data = signerInfo.signedAttrs.encodedValue;\r\n            }\r\n            const verifyResult = await crypto.verifyWithPublicKey(data, signerInfo.signature, signerCert.subjectPublicKeyInfo, signerCert.signatureAlgorithm, shaAlgorithm);\r\n            if (extendedMode) {\r\n                return {\r\n                    date: checkDate,\r\n                    code: 14,\r\n                    message: EMPTY_STRING,\r\n                    signatureVerified: verifyResult,\r\n                    signerCertificate: signerCert,\r\n                    timestampSerial,\r\n                    signerCertificateVerified: true,\r\n                    certificatePath\r\n                };\r\n            }\r\n            else {\r\n                return verifyResult;\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (e instanceof SignedDataVerifyError) {\r\n                throw e;\r\n            }\r\n            throw new SignedDataVerifyError({\r\n                date: checkDate,\r\n                code: 15,\r\n                message: `Error during verification: ${e instanceof Error ? e.message : e}`,\r\n                signatureVerified: null,\r\n                signerCertificate: signerCert,\r\n                timestampSerial,\r\n                signerCertificateVerified: true\r\n            });\r\n        }\r\n    }\r\n    async sign(privateKey, signerIndex, hashAlgorithm = \"SHA-1\", data = (EMPTY_BUFFER), crypto = getCrypto(true)) {\r\n        if (!privateKey)\r\n            throw new Error(\"Need to provide a private key for signing\");\r\n        const hashAlgorithmOID = crypto.getOIDByAlgorithm({ name: hashAlgorithm }, true, \"hashAlgorithm\");\r\n        if ((this.digestAlgorithms.filter(algorithm => algorithm.algorithmId === hashAlgorithmOID)).length === 0) {\r\n            this.digestAlgorithms.push(new AlgorithmIdentifier({\r\n                algorithmId: hashAlgorithmOID,\r\n                algorithmParams: new asn1js.Null()\r\n            }));\r\n        }\r\n        const signerInfo = this.signerInfos[signerIndex];\r\n        if (!signerInfo) {\r\n            throw new RangeError(\"SignerInfo index is out of range\");\r\n        }\r\n        signerInfo.digestAlgorithm = new AlgorithmIdentifier({\r\n            algorithmId: hashAlgorithmOID,\r\n            algorithmParams: new asn1js.Null()\r\n        });\r\n        const signatureParams = await crypto.getSignatureParameters(privateKey, hashAlgorithm);\r\n        const parameters = signatureParams.parameters;\r\n        signerInfo.signatureAlgorithm = signatureParams.signatureAlgorithm;\r\n        if (signerInfo.signedAttrs) {\r\n            if (signerInfo.signedAttrs.encodedValue.byteLength !== 0)\r\n                data = signerInfo.signedAttrs.encodedValue;\r\n            else {\r\n                data = signerInfo.signedAttrs.toSchema().toBER();\r\n                const view = pvtsutils.BufferSourceConverter.toUint8Array(data);\r\n                view[0] = 0x31;\r\n            }\r\n        }\r\n        else {\r\n            const eContent = this.encapContentInfo.eContent;\r\n            if (eContent) {\r\n                if ((eContent.idBlock.tagClass === 1) &&\r\n                    (eContent.idBlock.tagNumber === 4)) {\r\n                    data = eContent.getValue();\r\n                }\r\n                else\r\n                    data = eContent.valueBlock.valueBeforeDecodeView;\r\n            }\r\n            else {\r\n                if (data.byteLength === 0)\r\n                    throw new Error(\"Missed detached data input array\");\r\n            }\r\n        }\r\n        const signature = await crypto.signWithPrivateKey(data, privateKey, parameters);\r\n        signerInfo.signature = new asn1js.OctetString({ valueHex: signature });\r\n    }\r\n}\r\nSignedData.CLASS_NAME = \"SignedData\";\r\nSignedData.ID_DATA = id_ContentType_Data;\n\nconst VERSION$1 = \"version\";\r\nconst AUTH_SAFE = \"authSafe\";\r\nconst MAC_DATA = \"macData\";\r\nconst PARSED_VALUE = \"parsedValue\";\r\nconst CLERA_PROPS = [\r\n    VERSION$1,\r\n    AUTH_SAFE,\r\n    MAC_DATA\r\n];\r\nclass PFX extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION$1, PFX.defaultValues(VERSION$1));\r\n        this.authSafe = pvutils.getParametersValue(parameters, AUTH_SAFE, PFX.defaultValues(AUTH_SAFE));\r\n        if (MAC_DATA in parameters) {\r\n            this.macData = pvutils.getParametersValue(parameters, MAC_DATA, PFX.defaultValues(MAC_DATA));\r\n        }\r\n        if (PARSED_VALUE in parameters) {\r\n            this.parsedValue = pvutils.getParametersValue(parameters, PARSED_VALUE, PFX.defaultValues(PARSED_VALUE));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION$1:\r\n                return 3;\r\n            case AUTH_SAFE:\r\n                return (new ContentInfo());\r\n            case MAC_DATA:\r\n                return (new MacData());\r\n            case PARSED_VALUE:\r\n                return {};\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION$1:\r\n                return (memberValue === PFX.defaultValues(memberName));\r\n            case AUTH_SAFE:\r\n                return ((ContentInfo.compareWithDefault(\"contentType\", memberValue.contentType)) &&\r\n                    (ContentInfo.compareWithDefault(\"content\", memberValue.content)));\r\n            case MAC_DATA:\r\n                return ((MacData.compareWithDefault(\"mac\", memberValue.mac)) &&\r\n                    (MacData.compareWithDefault(\"macSalt\", memberValue.macSalt)) &&\r\n                    (MacData.compareWithDefault(\"iterations\", memberValue.iterations)));\r\n            case PARSED_VALUE:\r\n                return ((memberValue instanceof Object) && (Object.keys(memberValue).length === 0));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || VERSION$1) }),\r\n                ContentInfo.schema(names.authSafe || {\r\n                    names: {\r\n                        blockName: AUTH_SAFE\r\n                    }\r\n                }),\r\n                MacData.schema(names.macData || {\r\n                    names: {\r\n                        blockName: MAC_DATA,\r\n                        optional: true\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLERA_PROPS);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PFX.schema({\r\n            names: {\r\n                version: VERSION$1,\r\n                authSafe: {\r\n                    names: {\r\n                        blockName: AUTH_SAFE\r\n                    }\r\n                },\r\n                macData: {\r\n                    names: {\r\n                        blockName: MAC_DATA\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result.version.valueBlock.valueDec;\r\n        this.authSafe = new ContentInfo({ schema: asn1.result.authSafe });\r\n        if (MAC_DATA in asn1.result)\r\n            this.macData = new MacData({ schema: asn1.result.macData });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [\r\n            new asn1js.Integer({ value: this.version }),\r\n            this.authSafe.toSchema()\r\n        ];\r\n        if (this.macData) {\r\n            outputArray.push(this.macData.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const output = {\r\n            version: this.version,\r\n            authSafe: this.authSafe.toJSON()\r\n        };\r\n        if (this.macData) {\r\n            output.macData = this.macData.toJSON();\r\n        }\r\n        return output;\r\n    }\r\n    async makeInternalValues(parameters = {}, crypto = getCrypto(true)) {\r\n        ArgumentError.assert(parameters, \"parameters\", \"object\");\r\n        if (!this.parsedValue) {\r\n            throw new Error(\"Please call \\\"parseValues\\\" function first in order to make \\\"parsedValue\\\" data\");\r\n        }\r\n        ParameterError.assertEmpty(this.parsedValue.integrityMode, \"integrityMode\", \"parsedValue\");\r\n        ParameterError.assertEmpty(this.parsedValue.authenticatedSafe, \"authenticatedSafe\", \"parsedValue\");\r\n        switch (this.parsedValue.integrityMode) {\r\n            case 0:\r\n                {\r\n                    if (!(\"iterations\" in parameters))\r\n                        throw new ParameterError(\"iterations\");\r\n                    ParameterError.assertEmpty(parameters.pbkdf2HashAlgorithm, \"pbkdf2HashAlgorithm\");\r\n                    ParameterError.assertEmpty(parameters.hmacHashAlgorithm, \"hmacHashAlgorithm\");\r\n                    ParameterError.assertEmpty(parameters.password, \"password\");\r\n                    const saltBuffer = new ArrayBuffer(64);\r\n                    const saltView = new Uint8Array(saltBuffer);\r\n                    crypto.getRandomValues(saltView);\r\n                    const data = this.parsedValue.authenticatedSafe.toSchema().toBER(false);\r\n                    this.authSafe = new ContentInfo({\r\n                        contentType: ContentInfo.DATA,\r\n                        content: new asn1js.OctetString({ valueHex: data })\r\n                    });\r\n                    const result = await crypto.stampDataWithPassword({\r\n                        password: parameters.password,\r\n                        hashAlgorithm: parameters.hmacHashAlgorithm,\r\n                        salt: saltBuffer,\r\n                        iterationCount: parameters.iterations,\r\n                        contentToStamp: data\r\n                    });\r\n                    this.macData = new MacData({\r\n                        mac: new DigestInfo({\r\n                            digestAlgorithm: new AlgorithmIdentifier({\r\n                                algorithmId: crypto.getOIDByAlgorithm({ name: parameters.hmacHashAlgorithm }, true, \"hmacHashAlgorithm\"),\r\n                            }),\r\n                            digest: new asn1js.OctetString({ valueHex: result })\r\n                        }),\r\n                        macSalt: new asn1js.OctetString({ valueHex: saltBuffer }),\r\n                        iterations: parameters.iterations\r\n                    });\r\n                }\r\n                break;\r\n            case 1:\r\n                {\r\n                    if (!(\"signingCertificate\" in parameters)) {\r\n                        throw new ParameterError(\"signingCertificate\");\r\n                    }\r\n                    ParameterError.assertEmpty(parameters.privateKey, \"privateKey\");\r\n                    ParameterError.assertEmpty(parameters.hashAlgorithm, \"hashAlgorithm\");\r\n                    const toBeSigned = this.parsedValue.authenticatedSafe.toSchema().toBER(false);\r\n                    const cmsSigned = new SignedData({\r\n                        version: 1,\r\n                        encapContentInfo: new EncapsulatedContentInfo({\r\n                            eContentType: \"1.2.840.113549.1.7.1\",\r\n                            eContent: new asn1js.OctetString({ valueHex: toBeSigned })\r\n                        }),\r\n                        certificates: [parameters.signingCertificate]\r\n                    });\r\n                    const result = await crypto.digest({ name: parameters.hashAlgorithm }, new Uint8Array(toBeSigned));\r\n                    const signedAttr = [];\r\n                    signedAttr.push(new Attribute({\r\n                        type: \"1.2.840.113549.1.9.3\",\r\n                        values: [\r\n                            new asn1js.ObjectIdentifier({ value: \"1.2.840.113549.1.7.1\" })\r\n                        ]\r\n                    }));\r\n                    signedAttr.push(new Attribute({\r\n                        type: \"1.2.840.113549.1.9.5\",\r\n                        values: [\r\n                            new asn1js.UTCTime({ valueDate: new Date() })\r\n                        ]\r\n                    }));\r\n                    signedAttr.push(new Attribute({\r\n                        type: \"1.2.840.113549.1.9.4\",\r\n                        values: [\r\n                            new asn1js.OctetString({ valueHex: result })\r\n                        ]\r\n                    }));\r\n                    cmsSigned.signerInfos.push(new SignerInfo({\r\n                        version: 1,\r\n                        sid: new IssuerAndSerialNumber({\r\n                            issuer: parameters.signingCertificate.issuer,\r\n                            serialNumber: parameters.signingCertificate.serialNumber\r\n                        }),\r\n                        signedAttrs: new SignedAndUnsignedAttributes({\r\n                            type: 0,\r\n                            attributes: signedAttr\r\n                        })\r\n                    }));\r\n                    await cmsSigned.sign(parameters.privateKey, 0, parameters.hashAlgorithm, undefined, crypto);\r\n                    this.authSafe = new ContentInfo({\r\n                        contentType: \"1.2.840.113549.1.7.2\",\r\n                        content: cmsSigned.toSchema(true)\r\n                    });\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Parameter \"integrityMode\" has unknown value: ${this.parsedValue.integrityMode}`);\r\n        }\r\n    }\r\n    async parseInternalValues(parameters, crypto = getCrypto(true)) {\r\n        ArgumentError.assert(parameters, \"parameters\", \"object\");\r\n        if (parameters.checkIntegrity === undefined) {\r\n            parameters.checkIntegrity = true;\r\n        }\r\n        this.parsedValue = {};\r\n        switch (this.authSafe.contentType) {\r\n            case ContentInfo.DATA:\r\n                {\r\n                    ParameterError.assertEmpty(parameters.password, \"password\");\r\n                    this.parsedValue.integrityMode = 0;\r\n                    ArgumentError.assert(this.authSafe.content, \"authSafe.content\", asn1js.OctetString);\r\n                    const authSafeContent = this.authSafe.content.getValue();\r\n                    this.parsedValue.authenticatedSafe = AuthenticatedSafe.fromBER(authSafeContent);\r\n                    if (parameters.checkIntegrity) {\r\n                        if (!this.macData) {\r\n                            throw new Error(\"Absent \\\"macData\\\" value, can not check PKCS#12 data integrity\");\r\n                        }\r\n                        const hashAlgorithm = crypto.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId, true, \"digestAlgorithm\");\r\n                        const result = await crypto.verifyDataStampedWithPassword({\r\n                            password: parameters.password,\r\n                            hashAlgorithm: hashAlgorithm.name,\r\n                            salt: BufferSourceConverter.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),\r\n                            iterationCount: this.macData.iterations || 0,\r\n                            contentToVerify: authSafeContent,\r\n                            signatureToVerify: BufferSourceConverter.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView),\r\n                        });\r\n                        if (!result) {\r\n                            throw new Error(\"Integrity for the PKCS#12 data is broken!\");\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case ContentInfo.SIGNED_DATA:\r\n                {\r\n                    this.parsedValue.integrityMode = 1;\r\n                    const cmsSigned = new SignedData({ schema: this.authSafe.content });\r\n                    const eContent = cmsSigned.encapContentInfo.eContent;\r\n                    ParameterError.assert(eContent, \"eContent\", \"cmsSigned.encapContentInfo\");\r\n                    ArgumentError.assert(eContent, \"eContent\", asn1js.OctetString);\r\n                    const data = eContent.getValue();\r\n                    this.parsedValue.authenticatedSafe = AuthenticatedSafe.fromBER(data);\r\n                    const ok = await cmsSigned.verify({ signer: 0, checkChain: false }, crypto);\r\n                    if (!ok) {\r\n                        throw new Error(\"Integrity for the PKCS#12 data is broken!\");\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                throw new Error(`Incorrect value for \"this.authSafe.contentType\": ${this.authSafe.contentType}`);\r\n        }\r\n    }\r\n}\r\nPFX.CLASS_NAME = \"PFX\";\n\nconst STATUS$1 = \"status\";\r\nconst STATUS_STRINGS = \"statusStrings\";\r\nconst FAIL_INFO = \"failInfo\";\r\nconst CLEAR_PROPS$2 = [\r\n    STATUS$1,\r\n    STATUS_STRINGS,\r\n    FAIL_INFO\r\n];\r\nvar PKIStatus;\r\n(function (PKIStatus) {\r\n    PKIStatus[PKIStatus[\"granted\"] = 0] = \"granted\";\r\n    PKIStatus[PKIStatus[\"grantedWithMods\"] = 1] = \"grantedWithMods\";\r\n    PKIStatus[PKIStatus[\"rejection\"] = 2] = \"rejection\";\r\n    PKIStatus[PKIStatus[\"waiting\"] = 3] = \"waiting\";\r\n    PKIStatus[PKIStatus[\"revocationWarning\"] = 4] = \"revocationWarning\";\r\n    PKIStatus[PKIStatus[\"revocationNotification\"] = 5] = \"revocationNotification\";\r\n})(PKIStatus || (PKIStatus = {}));\r\nclass PKIStatusInfo extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.status = pvutils.getParametersValue(parameters, STATUS$1, PKIStatusInfo.defaultValues(STATUS$1));\r\n        if (STATUS_STRINGS in parameters) {\r\n            this.statusStrings = pvutils.getParametersValue(parameters, STATUS_STRINGS, PKIStatusInfo.defaultValues(STATUS_STRINGS));\r\n        }\r\n        if (FAIL_INFO in parameters) {\r\n            this.failInfo = pvutils.getParametersValue(parameters, FAIL_INFO, PKIStatusInfo.defaultValues(FAIL_INFO));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case STATUS$1:\r\n                return 2;\r\n            case STATUS_STRINGS:\r\n                return [];\r\n            case FAIL_INFO:\r\n                return new asn1js.BitString();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case STATUS$1:\r\n                return (memberValue === PKIStatusInfo.defaultValues(memberName));\r\n            case STATUS_STRINGS:\r\n                return (memberValue.length === 0);\r\n            case FAIL_INFO:\r\n                return (memberValue.isEqual(PKIStatusInfo.defaultValues(memberName)));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || EMPTY_STRING),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.status || EMPTY_STRING) }),\r\n                new asn1js.Sequence({\r\n                    optional: true,\r\n                    value: [\r\n                        new asn1js.Repeated({\r\n                            name: (names.statusStrings || EMPTY_STRING),\r\n                            value: new asn1js.Utf8String()\r\n                        })\r\n                    ]\r\n                }),\r\n                new asn1js.BitString({\r\n                    name: (names.failInfo || EMPTY_STRING),\r\n                    optional: true\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$2);\r\n        const asn1 = asn1js.compareSchema(schema, schema, PKIStatusInfo.schema({\r\n            names: {\r\n                status: STATUS$1,\r\n                statusStrings: STATUS_STRINGS,\r\n                failInfo: FAIL_INFO\r\n            }\r\n        }));\r\n        AsnError.assertSchema(asn1, this.className);\r\n        const _status = asn1.result.status;\r\n        if ((_status.valueBlock.isHexOnly === true) ||\r\n            (_status.valueBlock.valueDec < 0) ||\r\n            (_status.valueBlock.valueDec > 5))\r\n            throw new Error(\"PKIStatusInfo \\\"status\\\" has invalid value\");\r\n        this.status = _status.valueBlock.valueDec;\r\n        if (STATUS_STRINGS in asn1.result)\r\n            this.statusStrings = asn1.result.statusStrings;\r\n        if (FAIL_INFO in asn1.result)\r\n            this.failInfo = asn1.result.failInfo;\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.status }));\r\n        if (this.statusStrings) {\r\n            outputArray.push(new asn1js.Sequence({\r\n                optional: true,\r\n                value: this.statusStrings\r\n            }));\r\n        }\r\n        if (this.failInfo) {\r\n            outputArray.push(this.failInfo);\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            status: this.status\r\n        };\r\n        if (this.statusStrings) {\r\n            res.statusStrings = Array.from(this.statusStrings, o => o.toJSON());\r\n        }\r\n        if (this.failInfo) {\r\n            res.failInfo = this.failInfo.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n}\r\nPKIStatusInfo.CLASS_NAME = \"PKIStatusInfo\";\n\nconst VERSION = \"version\";\r\nconst MESSAGE_IMPRINT = \"messageImprint\";\r\nconst REQ_POLICY = \"reqPolicy\";\r\nconst NONCE = \"nonce\";\r\nconst CERT_REQ = \"certReq\";\r\nconst EXTENSIONS = \"extensions\";\r\nconst TIME_STAMP_REQ = \"TimeStampReq\";\r\nconst TIME_STAMP_REQ_VERSION = `${TIME_STAMP_REQ}.${VERSION}`;\r\nconst TIME_STAMP_REQ_MESSAGE_IMPRINT = `${TIME_STAMP_REQ}.${MESSAGE_IMPRINT}`;\r\nconst TIME_STAMP_REQ_POLICY = `${TIME_STAMP_REQ}.${REQ_POLICY}`;\r\nconst TIME_STAMP_REQ_NONCE = `${TIME_STAMP_REQ}.${NONCE}`;\r\nconst TIME_STAMP_REQ_CERT_REQ = `${TIME_STAMP_REQ}.${CERT_REQ}`;\r\nconst TIME_STAMP_REQ_EXTENSIONS = `${TIME_STAMP_REQ}.${EXTENSIONS}`;\r\nconst CLEAR_PROPS$1 = [\r\n    TIME_STAMP_REQ_VERSION,\r\n    TIME_STAMP_REQ_MESSAGE_IMPRINT,\r\n    TIME_STAMP_REQ_POLICY,\r\n    TIME_STAMP_REQ_NONCE,\r\n    TIME_STAMP_REQ_CERT_REQ,\r\n    TIME_STAMP_REQ_EXTENSIONS,\r\n];\r\nclass TimeStampReq extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.version = pvutils.getParametersValue(parameters, VERSION, TimeStampReq.defaultValues(VERSION));\r\n        this.messageImprint = pvutils.getParametersValue(parameters, MESSAGE_IMPRINT, TimeStampReq.defaultValues(MESSAGE_IMPRINT));\r\n        if (REQ_POLICY in parameters) {\r\n            this.reqPolicy = pvutils.getParametersValue(parameters, REQ_POLICY, TimeStampReq.defaultValues(REQ_POLICY));\r\n        }\r\n        if (NONCE in parameters) {\r\n            this.nonce = pvutils.getParametersValue(parameters, NONCE, TimeStampReq.defaultValues(NONCE));\r\n        }\r\n        if (CERT_REQ in parameters) {\r\n            this.certReq = pvutils.getParametersValue(parameters, CERT_REQ, TimeStampReq.defaultValues(CERT_REQ));\r\n        }\r\n        if (EXTENSIONS in parameters) {\r\n            this.extensions = pvutils.getParametersValue(parameters, EXTENSIONS, TimeStampReq.defaultValues(EXTENSIONS));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case VERSION:\r\n                return 0;\r\n            case MESSAGE_IMPRINT:\r\n                return new MessageImprint();\r\n            case REQ_POLICY:\r\n                return EMPTY_STRING;\r\n            case NONCE:\r\n                return new asn1js.Integer();\r\n            case CERT_REQ:\r\n                return false;\r\n            case EXTENSIONS:\r\n                return [];\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case VERSION:\r\n            case REQ_POLICY:\r\n            case CERT_REQ:\r\n                return (memberValue === TimeStampReq.defaultValues(memberName));\r\n            case MESSAGE_IMPRINT:\r\n                return ((MessageImprint.compareWithDefault(\"hashAlgorithm\", memberValue.hashAlgorithm)) &&\r\n                    (MessageImprint.compareWithDefault(\"hashedMessage\", memberValue.hashedMessage)));\r\n            case NONCE:\r\n                return (memberValue.isEqual(TimeStampReq.defaultValues(memberName)));\r\n            case EXTENSIONS:\r\n                return (memberValue.length === 0);\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || TIME_STAMP_REQ),\r\n            value: [\r\n                new asn1js.Integer({ name: (names.version || TIME_STAMP_REQ_VERSION) }),\r\n                MessageImprint.schema(names.messageImprint || {\r\n                    names: {\r\n                        blockName: TIME_STAMP_REQ_MESSAGE_IMPRINT\r\n                    }\r\n                }),\r\n                new asn1js.ObjectIdentifier({\r\n                    name: (names.reqPolicy || TIME_STAMP_REQ_POLICY),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Integer({\r\n                    name: (names.nonce || TIME_STAMP_REQ_NONCE),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Boolean({\r\n                    name: (names.certReq || TIME_STAMP_REQ_CERT_REQ),\r\n                    optional: true\r\n                }),\r\n                new asn1js.Constructed({\r\n                    optional: true,\r\n                    idBlock: {\r\n                        tagClass: 3,\r\n                        tagNumber: 0\r\n                    },\r\n                    value: [new asn1js.Repeated({\r\n                            name: (names.extensions || TIME_STAMP_REQ_EXTENSIONS),\r\n                            value: Extension.schema()\r\n                        })]\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS$1);\r\n        const asn1 = asn1js.compareSchema(schema, schema, TimeStampReq.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.version = asn1.result[TIME_STAMP_REQ_VERSION].valueBlock.valueDec;\r\n        this.messageImprint = new MessageImprint({ schema: asn1.result[TIME_STAMP_REQ_MESSAGE_IMPRINT] });\r\n        if (TIME_STAMP_REQ_POLICY in asn1.result)\r\n            this.reqPolicy = asn1.result[TIME_STAMP_REQ_POLICY].valueBlock.toString();\r\n        if (TIME_STAMP_REQ_NONCE in asn1.result)\r\n            this.nonce = asn1.result[TIME_STAMP_REQ_NONCE];\r\n        if (TIME_STAMP_REQ_CERT_REQ in asn1.result)\r\n            this.certReq = asn1.result[TIME_STAMP_REQ_CERT_REQ].valueBlock.value;\r\n        if (TIME_STAMP_REQ_EXTENSIONS in asn1.result)\r\n            this.extensions = Array.from(asn1.result[TIME_STAMP_REQ_EXTENSIONS], element => new Extension({ schema: element }));\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(new asn1js.Integer({ value: this.version }));\r\n        outputArray.push(this.messageImprint.toSchema());\r\n        if (this.reqPolicy)\r\n            outputArray.push(new asn1js.ObjectIdentifier({ value: this.reqPolicy }));\r\n        if (this.nonce)\r\n            outputArray.push(this.nonce);\r\n        if ((CERT_REQ in this) && (TimeStampReq.compareWithDefault(CERT_REQ, this.certReq) === false))\r\n            outputArray.push(new asn1js.Boolean({ value: this.certReq }));\r\n        if (this.extensions) {\r\n            outputArray.push(new asn1js.Constructed({\r\n                idBlock: {\r\n                    tagClass: 3,\r\n                    tagNumber: 0\r\n                },\r\n                value: Array.from(this.extensions, o => o.toSchema())\r\n            }));\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            version: this.version,\r\n            messageImprint: this.messageImprint.toJSON()\r\n        };\r\n        if (this.reqPolicy !== undefined)\r\n            res.reqPolicy = this.reqPolicy;\r\n        if (this.nonce !== undefined)\r\n            res.nonce = this.nonce.toJSON();\r\n        if ((this.certReq !== undefined) && (TimeStampReq.compareWithDefault(CERT_REQ, this.certReq) === false))\r\n            res.certReq = this.certReq;\r\n        if (this.extensions) {\r\n            res.extensions = Array.from(this.extensions, o => o.toJSON());\r\n        }\r\n        return res;\r\n    }\r\n}\r\nTimeStampReq.CLASS_NAME = \"TimeStampReq\";\n\nconst STATUS = \"status\";\r\nconst TIME_STAMP_TOKEN = \"timeStampToken\";\r\nconst TIME_STAMP_RESP = \"TimeStampResp\";\r\nconst TIME_STAMP_RESP_STATUS = `${TIME_STAMP_RESP}.${STATUS}`;\r\nconst TIME_STAMP_RESP_TOKEN = `${TIME_STAMP_RESP}.${TIME_STAMP_TOKEN}`;\r\nconst CLEAR_PROPS = [\r\n    TIME_STAMP_RESP_STATUS,\r\n    TIME_STAMP_RESP_TOKEN\r\n];\r\nclass TimeStampResp extends PkiObject {\r\n    constructor(parameters = {}) {\r\n        super();\r\n        this.status = pvutils.getParametersValue(parameters, STATUS, TimeStampResp.defaultValues(STATUS));\r\n        if (TIME_STAMP_TOKEN in parameters) {\r\n            this.timeStampToken = pvutils.getParametersValue(parameters, TIME_STAMP_TOKEN, TimeStampResp.defaultValues(TIME_STAMP_TOKEN));\r\n        }\r\n        if (parameters.schema) {\r\n            this.fromSchema(parameters.schema);\r\n        }\r\n    }\r\n    static defaultValues(memberName) {\r\n        switch (memberName) {\r\n            case STATUS:\r\n                return new PKIStatusInfo();\r\n            case TIME_STAMP_TOKEN:\r\n                return new ContentInfo();\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static compareWithDefault(memberName, memberValue) {\r\n        switch (memberName) {\r\n            case STATUS:\r\n                return ((PKIStatusInfo.compareWithDefault(STATUS, memberValue.status)) &&\r\n                    ((\"statusStrings\" in memberValue) === false) &&\r\n                    ((\"failInfo\" in memberValue) === false));\r\n            case TIME_STAMP_TOKEN:\r\n                return ((memberValue.contentType === EMPTY_STRING) &&\r\n                    (memberValue.content instanceof asn1js.Any));\r\n            default:\r\n                return super.defaultValues(memberName);\r\n        }\r\n    }\r\n    static schema(parameters = {}) {\r\n        const names = pvutils.getParametersValue(parameters, \"names\", {});\r\n        return (new asn1js.Sequence({\r\n            name: (names.blockName || TIME_STAMP_RESP),\r\n            value: [\r\n                PKIStatusInfo.schema(names.status || {\r\n                    names: {\r\n                        blockName: TIME_STAMP_RESP_STATUS\r\n                    }\r\n                }),\r\n                ContentInfo.schema(names.timeStampToken || {\r\n                    names: {\r\n                        blockName: TIME_STAMP_RESP_TOKEN,\r\n                        optional: true\r\n                    }\r\n                })\r\n            ]\r\n        }));\r\n    }\r\n    fromSchema(schema) {\r\n        pvutils.clearProps(schema, CLEAR_PROPS);\r\n        const asn1 = asn1js.compareSchema(schema, schema, TimeStampResp.schema());\r\n        AsnError.assertSchema(asn1, this.className);\r\n        this.status = new PKIStatusInfo({ schema: asn1.result[TIME_STAMP_RESP_STATUS] });\r\n        if (TIME_STAMP_RESP_TOKEN in asn1.result)\r\n            this.timeStampToken = new ContentInfo({ schema: asn1.result[TIME_STAMP_RESP_TOKEN] });\r\n    }\r\n    toSchema() {\r\n        const outputArray = [];\r\n        outputArray.push(this.status.toSchema());\r\n        if (this.timeStampToken) {\r\n            outputArray.push(this.timeStampToken.toSchema());\r\n        }\r\n        return (new asn1js.Sequence({\r\n            value: outputArray\r\n        }));\r\n    }\r\n    toJSON() {\r\n        const res = {\r\n            status: this.status.toJSON()\r\n        };\r\n        if (this.timeStampToken) {\r\n            res.timeStampToken = this.timeStampToken.toJSON();\r\n        }\r\n        return res;\r\n    }\r\n    async sign(privateKey, hashAlgorithm, crypto = getCrypto(true)) {\r\n        this.assertContentType();\r\n        const signed = new SignedData({ schema: this.timeStampToken.content });\r\n        return signed.sign(privateKey, 0, hashAlgorithm, undefined, crypto);\r\n    }\r\n    async verify(verificationParameters = { signer: 0, trustedCerts: [], data: EMPTY_BUFFER }, crypto = getCrypto(true)) {\r\n        this.assertContentType();\r\n        const signed = new SignedData({ schema: this.timeStampToken.content });\r\n        return signed.verify(verificationParameters, crypto);\r\n    }\r\n    assertContentType() {\r\n        if (!this.timeStampToken) {\r\n            throw new Error(\"timeStampToken is absent in TSP response\");\r\n        }\r\n        if (this.timeStampToken.contentType !== id_ContentType_SignedData) {\r\n            throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`);\r\n        }\r\n    }\r\n}\r\nTimeStampResp.CLASS_NAME = \"TimeStampResp\";\n\nfunction initCryptoEngine() {\r\n    if (typeof self !== \"undefined\") {\r\n        if (\"crypto\" in self) {\r\n            let engineName = \"webcrypto\";\r\n            if (\"webkitSubtle\" in self.crypto) {\r\n                engineName = \"safari\";\r\n            }\r\n            setEngine(engineName, new CryptoEngine({ name: engineName, crypto: crypto }));\r\n        }\r\n    }\r\n    else if (typeof crypto !== \"undefined\" && \"webcrypto\" in crypto) {\r\n        const name = \"NodeJS ^15\";\r\n        const nodeCrypto = crypto.webcrypto;\r\n        setEngine(name, new CryptoEngine({ name, crypto: nodeCrypto }));\r\n    }\r\n}\n\ninitCryptoEngine();\n\nexport { AbstractCryptoEngine, AccessDescription, Accuracy, AlgorithmIdentifier, AltName, ArgumentError, AsnError, AttCertValidityPeriod, Attribute, AttributeCertificateInfoV1, AttributeCertificateInfoV2, AttributeCertificateV1, AttributeCertificateV2, AttributeTypeAndValue, AuthenticatedSafe, AuthorityKeyIdentifier, BasicConstraints, BasicOCSPResponse, CAVersion, CRLBag, CRLDistributionPoints, CertBag, CertID, Certificate, CertificateChainValidationEngine, CertificatePolicies, CertificateRevocationList, CertificateSet, CertificateTemplate, CertificationRequest, ContentInfo, CryptoEngine, DigestInfo, DistributionPoint, ECCCMSSharedInfo, ECNamedCurves, ECPrivateKey, ECPublicKey, EncapsulatedContentInfo, EncryptedContentInfo, EncryptedData, EnvelopedData, ExtKeyUsage, Extension, ExtensionValueFactory, Extensions, GeneralName, GeneralNames, GeneralSubtree, HASHED_MESSAGE, HASH_ALGORITHM, Holder, InfoAccess, IssuerAndSerialNumber, IssuerSerial, IssuingDistributionPoint, KEKIdentifier, KEKRecipientInfo, KeyAgreeRecipientIdentifier, KeyAgreeRecipientInfo, KeyBag, KeyTransRecipientInfo, MICROS, MILLIS, MacData, MessageImprint, NameConstraints, OCSPRequest, OCSPResponse, ObjectDigestInfo, OriginatorIdentifierOrKey, OriginatorInfo, OriginatorPublicKey, OtherCertificateFormat, OtherKeyAttribute, OtherPrimeInfo, OtherRecipientInfo, OtherRevocationInfoFormat, PBES2Params, PBKDF2Params, PFX, PKCS8ShroudedKeyBag, PKIStatus, PKIStatusInfo, POLICY_IDENTIFIER, POLICY_QUALIFIERS, ParameterError, PasswordRecipientinfo, PkiObject, PolicyConstraints, PolicyInformation, PolicyMapping, PolicyMappings, PolicyQualifierInfo, PrivateKeyInfo, PrivateKeyUsagePeriod, PublicKeyInfo, QCStatement, QCStatements, RDN, RSAESOAEPParams, RSAPrivateKey, RSAPublicKey, RSASSAPSSParams, RecipientEncryptedKey, RecipientEncryptedKeys, RecipientIdentifier, RecipientInfo, RecipientKeyIdentifier, RelativeDistinguishedNames, Request, ResponseBytes, ResponseData, RevocationInfoChoices, RevokedCertificate, SECONDS, SafeBag, SafeBagValueFactory, SafeContents, SecretBag, Signature, SignedAndUnsignedAttributes, SignedCertificateTimestamp, SignedCertificateTimestampList, SignedData, SignedDataVerifyError, SignerInfo, SingleResponse, SubjectDirectoryAttributes, TBSRequest, TSTInfo, TYPE$4 as TYPE, TYPE_AND_VALUES, Time, TimeStampReq, TimeStampResp, TimeType, V2Form, VALUE$5 as VALUE, VALUE_BEFORE_DECODE, checkCA, createCMSECDSASignature, createECDSASignatureFromCMS, engine, getAlgorithmByOID, getAlgorithmParameters, getCrypto, getEngine, getHashAlgorithm, getOIDByAlgorithm, getRandomValues, id_AnyPolicy, id_AuthorityInfoAccess, id_AuthorityKeyIdentifier, id_BaseCRLNumber, id_BasicConstraints, id_CRLBag_X509CRL, id_CRLDistributionPoints, id_CRLNumber, id_CRLReason, id_CertBag_AttributeCertificate, id_CertBag_SDSICertificate, id_CertBag_X509Certificate, id_CertificateIssuer, id_CertificatePolicies, id_ContentType_Data, id_ContentType_EncryptedData, id_ContentType_EnvelopedData, id_ContentType_SignedData, id_ExtKeyUsage, id_FreshestCRL, id_InhibitAnyPolicy, id_InvalidityDate, id_IssuerAltName, id_IssuingDistributionPoint, id_KeyUsage, id_MicrosoftAppPolicies, id_MicrosoftCaVersion, id_MicrosoftCertTemplateV1, id_MicrosoftCertTemplateV2, id_MicrosoftPrevCaCertHash, id_NameConstraints, id_PKIX_OCSP_Basic, id_PolicyConstraints, id_PolicyMappings, id_PrivateKeyUsagePeriod, id_QCStatements, id_SignedCertificateTimestampList, id_SubjectAltName, id_SubjectDirectoryAttributes, id_SubjectInfoAccess, id_SubjectKeyIdentifier, id_ad, id_ad_caIssuers, id_ad_ocsp, id_eContentType_TSTInfo, id_pkix, id_sha1, id_sha256, id_sha384, id_sha512, kdf, setEngine, stringPrep, verifySCTsForCertificate };\n","/*!\n * MIT License\n * \n * Copyright (c) 2017-2022 Peculiar Ventures, LLC\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst ARRAY_BUFFER_NAME = \"[object ArrayBuffer]\";\r\nclass BufferSourceConverter {\r\n    static isArrayBuffer(data) {\r\n        return Object.prototype.toString.call(data) === ARRAY_BUFFER_NAME;\r\n    }\r\n    static toArrayBuffer(data) {\r\n        if (this.isArrayBuffer(data)) {\r\n            return data;\r\n        }\r\n        if (data.byteLength === data.buffer.byteLength) {\r\n            return data.buffer;\r\n        }\r\n        return this.toUint8Array(data).slice().buffer;\r\n    }\r\n    static toUint8Array(data) {\r\n        return this.toView(data, Uint8Array);\r\n    }\r\n    static toView(data, type) {\r\n        if (data.constructor === type) {\r\n            return data;\r\n        }\r\n        if (this.isArrayBuffer(data)) {\r\n            return new type(data);\r\n        }\r\n        if (this.isArrayBufferView(data)) {\r\n            return new type(data.buffer, data.byteOffset, data.byteLength);\r\n        }\r\n        throw new TypeError(\"The provided value is not of type '(ArrayBuffer or ArrayBufferView)'\");\r\n    }\r\n    static isBufferSource(data) {\r\n        return this.isArrayBufferView(data)\r\n            || this.isArrayBuffer(data);\r\n    }\r\n    static isArrayBufferView(data) {\r\n        return ArrayBuffer.isView(data)\r\n            || (data && this.isArrayBuffer(data.buffer));\r\n    }\r\n    static isEqual(a, b) {\r\n        const aView = BufferSourceConverter.toUint8Array(a);\r\n        const bView = BufferSourceConverter.toUint8Array(b);\r\n        if (aView.length !== bView.byteLength) {\r\n            return false;\r\n        }\r\n        for (let i = 0; i < aView.length; i++) {\r\n            if (aView[i] !== bView[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    static concat(...args) {\r\n        if (Array.isArray(args[0])) {\r\n            const buffers = args[0];\r\n            let size = 0;\r\n            for (const buffer of buffers) {\r\n                size += buffer.byteLength;\r\n            }\r\n            const res = new Uint8Array(size);\r\n            let offset = 0;\r\n            for (const buffer of buffers) {\r\n                const view = this.toUint8Array(buffer);\r\n                res.set(view, offset);\r\n                offset += view.length;\r\n            }\r\n            if (args[1]) {\r\n                return this.toView(res, args[1]);\r\n            }\r\n            return res.buffer;\r\n        }\r\n        else {\r\n            return this.concat(args);\r\n        }\r\n    }\r\n}\n\nclass Utf8Converter {\r\n    static fromString(text) {\r\n        const s = unescape(encodeURIComponent(text));\r\n        const uintArray = new Uint8Array(s.length);\r\n        for (let i = 0; i < s.length; i++) {\r\n            uintArray[i] = s.charCodeAt(i);\r\n        }\r\n        return uintArray.buffer;\r\n    }\r\n    static toString(buffer) {\r\n        const buf = BufferSourceConverter.toUint8Array(buffer);\r\n        let encodedString = \"\";\r\n        for (let i = 0; i < buf.length; i++) {\r\n            encodedString += String.fromCharCode(buf[i]);\r\n        }\r\n        const decodedString = decodeURIComponent(escape(encodedString));\r\n        return decodedString;\r\n    }\r\n}\r\nclass Utf16Converter {\r\n    static toString(buffer, littleEndian = false) {\r\n        const arrayBuffer = BufferSourceConverter.toArrayBuffer(buffer);\r\n        const dataView = new DataView(arrayBuffer);\r\n        let res = \"\";\r\n        for (let i = 0; i < arrayBuffer.byteLength; i += 2) {\r\n            const code = dataView.getUint16(i, littleEndian);\r\n            res += String.fromCharCode(code);\r\n        }\r\n        return res;\r\n    }\r\n    static fromString(text, littleEndian = false) {\r\n        const res = new ArrayBuffer(text.length * 2);\r\n        const dataView = new DataView(res);\r\n        for (let i = 0; i < text.length; i++) {\r\n            dataView.setUint16(i * 2, text.charCodeAt(i), littleEndian);\r\n        }\r\n        return res;\r\n    }\r\n}\r\nclass Convert {\r\n    static isHex(data) {\r\n        return typeof data === \"string\"\r\n            && /^[a-z0-9]+$/i.test(data);\r\n    }\r\n    static isBase64(data) {\r\n        return typeof data === \"string\"\r\n            && /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(data);\r\n    }\r\n    static isBase64Url(data) {\r\n        return typeof data === \"string\"\r\n            && /^[a-zA-Z0-9-_]+$/i.test(data);\r\n    }\r\n    static ToString(buffer, enc = \"utf8\") {\r\n        const buf = BufferSourceConverter.toUint8Array(buffer);\r\n        switch (enc.toLowerCase()) {\r\n            case \"utf8\":\r\n                return this.ToUtf8String(buf);\r\n            case \"binary\":\r\n                return this.ToBinary(buf);\r\n            case \"hex\":\r\n                return this.ToHex(buf);\r\n            case \"base64\":\r\n                return this.ToBase64(buf);\r\n            case \"base64url\":\r\n                return this.ToBase64Url(buf);\r\n            case \"utf16le\":\r\n                return Utf16Converter.toString(buf, true);\r\n            case \"utf16\":\r\n            case \"utf16be\":\r\n                return Utf16Converter.toString(buf);\r\n            default:\r\n                throw new Error(`Unknown type of encoding '${enc}'`);\r\n        }\r\n    }\r\n    static FromString(str, enc = \"utf8\") {\r\n        if (!str) {\r\n            return new ArrayBuffer(0);\r\n        }\r\n        switch (enc.toLowerCase()) {\r\n            case \"utf8\":\r\n                return this.FromUtf8String(str);\r\n            case \"binary\":\r\n                return this.FromBinary(str);\r\n            case \"hex\":\r\n                return this.FromHex(str);\r\n            case \"base64\":\r\n                return this.FromBase64(str);\r\n            case \"base64url\":\r\n                return this.FromBase64Url(str);\r\n            case \"utf16le\":\r\n                return Utf16Converter.fromString(str, true);\r\n            case \"utf16\":\r\n            case \"utf16be\":\r\n                return Utf16Converter.fromString(str);\r\n            default:\r\n                throw new Error(`Unknown type of encoding '${enc}'`);\r\n        }\r\n    }\r\n    static ToBase64(buffer) {\r\n        const buf = BufferSourceConverter.toUint8Array(buffer);\r\n        if (typeof btoa !== \"undefined\") {\r\n            const binary = this.ToString(buf, \"binary\");\r\n            return btoa(binary);\r\n        }\r\n        else {\r\n            return Buffer.from(buf).toString(\"base64\");\r\n        }\r\n    }\r\n    static FromBase64(base64) {\r\n        const formatted = this.formatString(base64);\r\n        if (!formatted) {\r\n            return new ArrayBuffer(0);\r\n        }\r\n        if (!Convert.isBase64(formatted)) {\r\n            throw new TypeError(\"Argument 'base64Text' is not Base64 encoded\");\r\n        }\r\n        if (typeof atob !== \"undefined\") {\r\n            return this.FromBinary(atob(formatted));\r\n        }\r\n        else {\r\n            return new Uint8Array(Buffer.from(formatted, \"base64\")).buffer;\r\n        }\r\n    }\r\n    static FromBase64Url(base64url) {\r\n        const formatted = this.formatString(base64url);\r\n        if (!formatted) {\r\n            return new ArrayBuffer(0);\r\n        }\r\n        if (!Convert.isBase64Url(formatted)) {\r\n            throw new TypeError(\"Argument 'base64url' is not Base64Url encoded\");\r\n        }\r\n        return this.FromBase64(this.Base64Padding(formatted.replace(/\\-/g, \"+\").replace(/\\_/g, \"/\")));\r\n    }\r\n    static ToBase64Url(data) {\r\n        return this.ToBase64(data).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/\\=/g, \"\");\r\n    }\r\n    static FromUtf8String(text, encoding = Convert.DEFAULT_UTF8_ENCODING) {\r\n        switch (encoding) {\r\n            case \"ascii\":\r\n                return this.FromBinary(text);\r\n            case \"utf8\":\r\n                return Utf8Converter.fromString(text);\r\n            case \"utf16\":\r\n            case \"utf16be\":\r\n                return Utf16Converter.fromString(text);\r\n            case \"utf16le\":\r\n            case \"usc2\":\r\n                return Utf16Converter.fromString(text, true);\r\n            default:\r\n                throw new Error(`Unknown type of encoding '${encoding}'`);\r\n        }\r\n    }\r\n    static ToUtf8String(buffer, encoding = Convert.DEFAULT_UTF8_ENCODING) {\r\n        switch (encoding) {\r\n            case \"ascii\":\r\n                return this.ToBinary(buffer);\r\n            case \"utf8\":\r\n                return Utf8Converter.toString(buffer);\r\n            case \"utf16\":\r\n            case \"utf16be\":\r\n                return Utf16Converter.toString(buffer);\r\n            case \"utf16le\":\r\n            case \"usc2\":\r\n                return Utf16Converter.toString(buffer, true);\r\n            default:\r\n                throw new Error(`Unknown type of encoding '${encoding}'`);\r\n        }\r\n    }\r\n    static FromBinary(text) {\r\n        const stringLength = text.length;\r\n        const resultView = new Uint8Array(stringLength);\r\n        for (let i = 0; i < stringLength; i++) {\r\n            resultView[i] = text.charCodeAt(i);\r\n        }\r\n        return resultView.buffer;\r\n    }\r\n    static ToBinary(buffer) {\r\n        const buf = BufferSourceConverter.toUint8Array(buffer);\r\n        let res = \"\";\r\n        for (let i = 0; i < buf.length; i++) {\r\n            res += String.fromCharCode(buf[i]);\r\n        }\r\n        return res;\r\n    }\r\n    static ToHex(buffer) {\r\n        const buf = BufferSourceConverter.toUint8Array(buffer);\r\n        const splitter = \"\";\r\n        const res = [];\r\n        const len = buf.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const char = buf[i].toString(16).padStart(2, \"0\");\r\n            res.push(char);\r\n        }\r\n        return res.join(splitter);\r\n    }\r\n    static FromHex(hexString) {\r\n        let formatted = this.formatString(hexString);\r\n        if (!formatted) {\r\n            return new ArrayBuffer(0);\r\n        }\r\n        if (!Convert.isHex(formatted)) {\r\n            throw new TypeError(\"Argument 'hexString' is not HEX encoded\");\r\n        }\r\n        if (formatted.length % 2) {\r\n            formatted = `0${formatted}`;\r\n        }\r\n        const res = new Uint8Array(formatted.length / 2);\r\n        for (let i = 0; i < formatted.length; i = i + 2) {\r\n            const c = formatted.slice(i, i + 2);\r\n            res[i / 2] = parseInt(c, 16);\r\n        }\r\n        return res.buffer;\r\n    }\r\n    static ToUtf16String(buffer, littleEndian = false) {\r\n        return Utf16Converter.toString(buffer, littleEndian);\r\n    }\r\n    static FromUtf16String(text, littleEndian = false) {\r\n        return Utf16Converter.fromString(text, littleEndian);\r\n    }\r\n    static Base64Padding(base64) {\r\n        const padCount = 4 - (base64.length % 4);\r\n        if (padCount < 4) {\r\n            for (let i = 0; i < padCount; i++) {\r\n                base64 += \"=\";\r\n            }\r\n        }\r\n        return base64;\r\n    }\r\n    static formatString(data) {\r\n        return (data === null || data === void 0 ? void 0 : data.replace(/[\\n\\r\\t ]/g, \"\")) || \"\";\r\n    }\r\n}\r\nConvert.DEFAULT_UTF8_ENCODING = \"utf8\";\n\nfunction assign(target, ...sources) {\r\n    const res = arguments[0];\r\n    for (let i = 1; i < arguments.length; i++) {\r\n        const obj = arguments[i];\r\n        for (const prop in obj) {\r\n            res[prop] = obj[prop];\r\n        }\r\n    }\r\n    return res;\r\n}\r\nfunction combine(...buf) {\r\n    const totalByteLength = buf.map((item) => item.byteLength).reduce((prev, cur) => prev + cur);\r\n    const res = new Uint8Array(totalByteLength);\r\n    let currentPos = 0;\r\n    buf.map((item) => new Uint8Array(item)).forEach((arr) => {\r\n        for (const item2 of arr) {\r\n            res[currentPos++] = item2;\r\n        }\r\n    });\r\n    return res.buffer;\r\n}\r\nfunction isEqual(bytes1, bytes2) {\r\n    if (!(bytes1 && bytes2)) {\r\n        return false;\r\n    }\r\n    if (bytes1.byteLength !== bytes2.byteLength) {\r\n        return false;\r\n    }\r\n    const b1 = new Uint8Array(bytes1);\r\n    const b2 = new Uint8Array(bytes2);\r\n    for (let i = 0; i < bytes1.byteLength; i++) {\r\n        if (b1[i] !== b2[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nexports.BufferSourceConverter = BufferSourceConverter;\nexports.Convert = Convert;\nexports.assign = assign;\nexports.combine = combine;\nexports.isEqual = isEqual;\n","/*!\n Copyright (c) Peculiar Ventures, LLC\n*/\n\nfunction getUTCDate(date) {\r\n    return new Date(date.getTime() + (date.getTimezoneOffset() * 60000));\r\n}\r\nfunction getParametersValue(parameters, name, defaultValue) {\r\n    var _a;\r\n    if ((parameters instanceof Object) === false) {\r\n        return defaultValue;\r\n    }\r\n    return (_a = parameters[name]) !== null && _a !== void 0 ? _a : defaultValue;\r\n}\r\nfunction bufferToHexCodes(inputBuffer, inputOffset = 0, inputLength = (inputBuffer.byteLength - inputOffset), insertSpace = false) {\r\n    let result = \"\";\r\n    for (const item of (new Uint8Array(inputBuffer, inputOffset, inputLength))) {\r\n        const str = item.toString(16).toUpperCase();\r\n        if (str.length === 1) {\r\n            result += \"0\";\r\n        }\r\n        result += str;\r\n        if (insertSpace) {\r\n            result += \" \";\r\n        }\r\n    }\r\n    return result.trim();\r\n}\r\nfunction checkBufferParams(baseBlock, inputBuffer, inputOffset, inputLength) {\r\n    if (!(inputBuffer instanceof ArrayBuffer)) {\r\n        baseBlock.error = \"Wrong parameter: inputBuffer must be \\\"ArrayBuffer\\\"\";\r\n        return false;\r\n    }\r\n    if (!inputBuffer.byteLength) {\r\n        baseBlock.error = \"Wrong parameter: inputBuffer has zero length\";\r\n        return false;\r\n    }\r\n    if (inputOffset < 0) {\r\n        baseBlock.error = \"Wrong parameter: inputOffset less than zero\";\r\n        return false;\r\n    }\r\n    if (inputLength < 0) {\r\n        baseBlock.error = \"Wrong parameter: inputLength less than zero\";\r\n        return false;\r\n    }\r\n    if ((inputBuffer.byteLength - inputOffset - inputLength) < 0) {\r\n        baseBlock.error = \"End of input reached before message was fully decoded (inconsistent offset and length values)\";\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction utilFromBase(inputBuffer, inputBase) {\r\n    let result = 0;\r\n    if (inputBuffer.length === 1) {\r\n        return inputBuffer[0];\r\n    }\r\n    for (let i = (inputBuffer.length - 1); i >= 0; i--) {\r\n        result += inputBuffer[(inputBuffer.length - 1) - i] * Math.pow(2, inputBase * i);\r\n    }\r\n    return result;\r\n}\r\nfunction utilToBase(value, base, reserved = (-1)) {\r\n    const internalReserved = reserved;\r\n    let internalValue = value;\r\n    let result = 0;\r\n    let biggest = Math.pow(2, base);\r\n    for (let i = 1; i < 8; i++) {\r\n        if (value < biggest) {\r\n            let retBuf;\r\n            if (internalReserved < 0) {\r\n                retBuf = new ArrayBuffer(i);\r\n                result = i;\r\n            }\r\n            else {\r\n                if (internalReserved < i) {\r\n                    return (new ArrayBuffer(0));\r\n                }\r\n                retBuf = new ArrayBuffer(internalReserved);\r\n                result = internalReserved;\r\n            }\r\n            const retView = new Uint8Array(retBuf);\r\n            for (let j = (i - 1); j >= 0; j--) {\r\n                const basis = Math.pow(2, j * base);\r\n                retView[result - j - 1] = Math.floor(internalValue / basis);\r\n                internalValue -= (retView[result - j - 1]) * basis;\r\n            }\r\n            return retBuf;\r\n        }\r\n        biggest *= Math.pow(2, base);\r\n    }\r\n    return new ArrayBuffer(0);\r\n}\r\nfunction utilConcatBuf(...buffers) {\r\n    let outputLength = 0;\r\n    let prevLength = 0;\r\n    for (const buffer of buffers) {\r\n        outputLength += buffer.byteLength;\r\n    }\r\n    const retBuf = new ArrayBuffer(outputLength);\r\n    const retView = new Uint8Array(retBuf);\r\n    for (const buffer of buffers) {\r\n        retView.set(new Uint8Array(buffer), prevLength);\r\n        prevLength += buffer.byteLength;\r\n    }\r\n    return retBuf;\r\n}\r\nfunction utilConcatView(...views) {\r\n    let outputLength = 0;\r\n    let prevLength = 0;\r\n    for (const view of views) {\r\n        outputLength += view.length;\r\n    }\r\n    const retBuf = new ArrayBuffer(outputLength);\r\n    const retView = new Uint8Array(retBuf);\r\n    for (const view of views) {\r\n        retView.set(view, prevLength);\r\n        prevLength += view.length;\r\n    }\r\n    return retView;\r\n}\r\nfunction utilDecodeTC() {\r\n    const buf = new Uint8Array(this.valueHex);\r\n    if (this.valueHex.byteLength >= 2) {\r\n        const condition1 = (buf[0] === 0xFF) && (buf[1] & 0x80);\r\n        const condition2 = (buf[0] === 0x00) && ((buf[1] & 0x80) === 0x00);\r\n        if (condition1 || condition2) {\r\n            this.warnings.push(\"Needlessly long format\");\r\n        }\r\n    }\r\n    const bigIntBuffer = new ArrayBuffer(this.valueHex.byteLength);\r\n    const bigIntView = new Uint8Array(bigIntBuffer);\r\n    for (let i = 0; i < this.valueHex.byteLength; i++) {\r\n        bigIntView[i] = 0;\r\n    }\r\n    bigIntView[0] = (buf[0] & 0x80);\r\n    const bigInt = utilFromBase(bigIntView, 8);\r\n    const smallIntBuffer = new ArrayBuffer(this.valueHex.byteLength);\r\n    const smallIntView = new Uint8Array(smallIntBuffer);\r\n    for (let j = 0; j < this.valueHex.byteLength; j++) {\r\n        smallIntView[j] = buf[j];\r\n    }\r\n    smallIntView[0] &= 0x7F;\r\n    const smallInt = utilFromBase(smallIntView, 8);\r\n    return (smallInt - bigInt);\r\n}\r\nfunction utilEncodeTC(value) {\r\n    const modValue = (value < 0) ? (value * (-1)) : value;\r\n    let bigInt = 128;\r\n    for (let i = 1; i < 8; i++) {\r\n        if (modValue <= bigInt) {\r\n            if (value < 0) {\r\n                const smallInt = bigInt - modValue;\r\n                const retBuf = utilToBase(smallInt, 8, i);\r\n                const retView = new Uint8Array(retBuf);\r\n                retView[0] |= 0x80;\r\n                return retBuf;\r\n            }\r\n            let retBuf = utilToBase(modValue, 8, i);\r\n            let retView = new Uint8Array(retBuf);\r\n            if (retView[0] & 0x80) {\r\n                const tempBuf = retBuf.slice(0);\r\n                const tempView = new Uint8Array(tempBuf);\r\n                retBuf = new ArrayBuffer(retBuf.byteLength + 1);\r\n                retView = new Uint8Array(retBuf);\r\n                for (let k = 0; k < tempBuf.byteLength; k++) {\r\n                    retView[k + 1] = tempView[k];\r\n                }\r\n                retView[0] = 0x00;\r\n            }\r\n            return retBuf;\r\n        }\r\n        bigInt *= Math.pow(2, 8);\r\n    }\r\n    return (new ArrayBuffer(0));\r\n}\r\nfunction isEqualBuffer(inputBuffer1, inputBuffer2) {\r\n    if (inputBuffer1.byteLength !== inputBuffer2.byteLength) {\r\n        return false;\r\n    }\r\n    const view1 = new Uint8Array(inputBuffer1);\r\n    const view2 = new Uint8Array(inputBuffer2);\r\n    for (let i = 0; i < view1.length; i++) {\r\n        if (view1[i] !== view2[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction padNumber(inputNumber, fullLength) {\r\n    const str = inputNumber.toString(10);\r\n    if (fullLength < str.length) {\r\n        return \"\";\r\n    }\r\n    const dif = fullLength - str.length;\r\n    const padding = new Array(dif);\r\n    for (let i = 0; i < dif; i++) {\r\n        padding[i] = \"0\";\r\n    }\r\n    const paddingString = padding.join(\"\");\r\n    return paddingString.concat(str);\r\n}\r\nconst base64Template = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\nconst base64UrlTemplate = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\";\r\nfunction toBase64(input, useUrlTemplate = false, skipPadding = false, skipLeadingZeros = false) {\r\n    let i = 0;\r\n    let flag1 = 0;\r\n    let flag2 = 0;\r\n    let output = \"\";\r\n    const template = (useUrlTemplate) ? base64UrlTemplate : base64Template;\r\n    if (skipLeadingZeros) {\r\n        let nonZeroPosition = 0;\r\n        for (let i = 0; i < input.length; i++) {\r\n            if (input.charCodeAt(i) !== 0) {\r\n                nonZeroPosition = i;\r\n                break;\r\n            }\r\n        }\r\n        input = input.slice(nonZeroPosition);\r\n    }\r\n    while (i < input.length) {\r\n        const chr1 = input.charCodeAt(i++);\r\n        if (i >= input.length) {\r\n            flag1 = 1;\r\n        }\r\n        const chr2 = input.charCodeAt(i++);\r\n        if (i >= input.length) {\r\n            flag2 = 1;\r\n        }\r\n        const chr3 = input.charCodeAt(i++);\r\n        const enc1 = chr1 >> 2;\r\n        const enc2 = ((chr1 & 0x03) << 4) | (chr2 >> 4);\r\n        let enc3 = ((chr2 & 0x0F) << 2) | (chr3 >> 6);\r\n        let enc4 = chr3 & 0x3F;\r\n        if (flag1 === 1) {\r\n            enc3 = enc4 = 64;\r\n        }\r\n        else {\r\n            if (flag2 === 1) {\r\n                enc4 = 64;\r\n            }\r\n        }\r\n        if (skipPadding) {\r\n            if (enc3 === 64) {\r\n                output += `${template.charAt(enc1)}${template.charAt(enc2)}`;\r\n            }\r\n            else {\r\n                if (enc4 === 64) {\r\n                    output += `${template.charAt(enc1)}${template.charAt(enc2)}${template.charAt(enc3)}`;\r\n                }\r\n                else {\r\n                    output += `${template.charAt(enc1)}${template.charAt(enc2)}${template.charAt(enc3)}${template.charAt(enc4)}`;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            output += `${template.charAt(enc1)}${template.charAt(enc2)}${template.charAt(enc3)}${template.charAt(enc4)}`;\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction fromBase64(input, useUrlTemplate = false, cutTailZeros = false) {\r\n    const template = (useUrlTemplate) ? base64UrlTemplate : base64Template;\r\n    function indexOf(toSearch) {\r\n        for (let i = 0; i < 64; i++) {\r\n            if (template.charAt(i) === toSearch)\r\n                return i;\r\n        }\r\n        return 64;\r\n    }\r\n    function test(incoming) {\r\n        return ((incoming === 64) ? 0x00 : incoming);\r\n    }\r\n    let i = 0;\r\n    let output = \"\";\r\n    while (i < input.length) {\r\n        const enc1 = indexOf(input.charAt(i++));\r\n        const enc2 = (i >= input.length) ? 0x00 : indexOf(input.charAt(i++));\r\n        const enc3 = (i >= input.length) ? 0x00 : indexOf(input.charAt(i++));\r\n        const enc4 = (i >= input.length) ? 0x00 : indexOf(input.charAt(i++));\r\n        const chr1 = (test(enc1) << 2) | (test(enc2) >> 4);\r\n        const chr2 = ((test(enc2) & 0x0F) << 4) | (test(enc3) >> 2);\r\n        const chr3 = ((test(enc3) & 0x03) << 6) | test(enc4);\r\n        output += String.fromCharCode(chr1);\r\n        if (enc3 !== 64) {\r\n            output += String.fromCharCode(chr2);\r\n        }\r\n        if (enc4 !== 64) {\r\n            output += String.fromCharCode(chr3);\r\n        }\r\n    }\r\n    if (cutTailZeros) {\r\n        const outputLength = output.length;\r\n        let nonZeroStart = (-1);\r\n        for (let i = (outputLength - 1); i >= 0; i--) {\r\n            if (output.charCodeAt(i) !== 0) {\r\n                nonZeroStart = i;\r\n                break;\r\n            }\r\n        }\r\n        if (nonZeroStart !== (-1)) {\r\n            output = output.slice(0, nonZeroStart + 1);\r\n        }\r\n        else {\r\n            output = \"\";\r\n        }\r\n    }\r\n    return output;\r\n}\r\nfunction arrayBufferToString(buffer) {\r\n    let resultString = \"\";\r\n    const view = new Uint8Array(buffer);\r\n    for (const element of view) {\r\n        resultString += String.fromCharCode(element);\r\n    }\r\n    return resultString;\r\n}\r\nfunction stringToArrayBuffer(str) {\r\n    const stringLength = str.length;\r\n    const resultBuffer = new ArrayBuffer(stringLength);\r\n    const resultView = new Uint8Array(resultBuffer);\r\n    for (let i = 0; i < stringLength; i++) {\r\n        resultView[i] = str.charCodeAt(i);\r\n    }\r\n    return resultBuffer;\r\n}\r\nconst log2 = Math.log(2);\r\nfunction nearestPowerOf2(length) {\r\n    const base = (Math.log(length) / log2);\r\n    const floor = Math.floor(base);\r\n    const round = Math.round(base);\r\n    return ((floor === round) ? floor : round);\r\n}\r\nfunction clearProps(object, propsArray) {\r\n    for (const prop of propsArray) {\r\n        delete object[prop];\r\n    }\r\n}\n\nexport { arrayBufferToString, bufferToHexCodes, checkBufferParams, clearProps, fromBase64, getParametersValue, getUTCDate, isEqualBuffer, nearestPowerOf2, padNumber, stringToArrayBuffer, toBase64, utilConcatBuf, utilConcatView, utilDecodeTC, utilEncodeTC, utilFromBase, utilToBase };\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}"],"names":["assertBigInt","BigInt","Error","concat","buffers","outputLength","prevLength","i","length","byteLength","retView","Uint8Array","buffer","set","checkBufferParams","baseBlock","inputBuffer","inputOffset","inputLength","error","ViewWriter","constructor","this","items","write","buf","push","final","powers2","digitsString","NAME","VALUE_HEX_VIEW","EMPTY_STRING","EMPTY_BUFFER","ArrayBuffer","EMPTY_VIEW","END_OF_CONTENT_NAME","OCTET_STRING_NAME","BIT_STRING_NAME","HexBlock","BaseClass","_a","args","super","params","isHexOnly","valueHexView","valueHex","slice","value","fromBER","view","endLength","subarray","blockLength","warnings","toBER","sizeOnly","toJSON","LocalBaseBlock","valueBeforeDecode","valueBeforeDecodeView","static","blockName","ValueBlock","TypeError","writer","LocalIdentificationBlock","idBlock","_b","_c","_d","tagClass","tagNumber","isConstructed","firstOctet","number","encodedBuf","encodedView","size","curView","inputView","intBuffer","tagNumberMask","count","intTagNumberBuffer","tagNumberBufferMaxLength","tempBufferView","LocalLengthBlock","lenBlock","isIndefiniteForm","longFormUsed","lenOffset","lengthBufferView","retBuf","typeStore","BaseBlock","name","optional","primitiveSchema","parameters","valueBlockType","valueBlock","resultOffset","_writer","prepareIndefiniteForm","idBlockBuf","valueBlockBuf","lenBlockBuf","object","toString","encoding","onAsciiEncoding","isEqual","other","thisRaw","otherRaw","Constructed","BaseStringBlock","stringValueBlockType","fromString","getValue","setValue","fromBuffer","LocalPrimitiveValueBlock","_a$w","_a$v","_a$u","_a$t","_a$s","_a$r","_a$q","_a$p","_a$o","_a$n","_a$m","_a$l","_a$k","_a$j","_a$i","_a$h","_a$g","_a$f","_a$e","_a$d","_a$c","_a$b","_a$a","_a$9","_a$8","_a$7","_a$6","_a$5","_a$4","_a$3","_a$2","_a$1","Primitive","localFromBER","incomingOffset","returnObject","offset","result","newASN1Type","EndOfContent","Boolean","Integer","BitString","OctetString","Null","ObjectIdentifier","Enumerated","Utf8String","RelativeObjectIdentifier","TIME","Sequence","Set","NumericString","PrintableString","TeletexString","VideotexString","IA5String","UTCTime","GeneralizedTime","GraphicString","VisibleString","GeneralString","UniversalString","CharacterString","BmpString","DATE","TimeOfDay","DateTime","Duration","newObject","inputObject","newType","localChangeType","LocalConstructedValueBlock","currentOffset","indefiniteLength","pop","values","split","map","o","join","LocalEndOfContentValueBlock","override","LocalBooleanValueBlock","octet","LocalOctetStringValueBlock","prototype","call","currentBlockName","asn","e","array","content","LocalBitStringValueBlock","unusedBits","bits","byte","padStart","bitsStr","substring","viewAdd","first","second","c","firstView","secondView","firstViewCopy","firstViewCopyLength","secondViewCopy","secondViewCopyLength","counter","power2","n","p","digits","newValue","viewSub","b","LocalIntegerValueBlock","_valueDec","setValueHex","undefined","valueDec","v","fromDER","expectedLength","toDER","updatedView","firstBit","currentByte","bitNumber","asn1View","flag","byteNumber","charAt","Object","defineProperty","get","toBigInt","bigIntValue","hex","replace","secondInt","convertToDER","integer","convertFromDER","LocalSidValueBlock","isFirstSid","tempView","valueBigInt","bytes","parseInt","len","sidValue","LocalObjectIdentifierValueBlock","sidBlock","retBuffers","valueBuf","string","pos1","pos2","sid","indexOf","plus","parsedSID","isNaN","Number","MAX_SAFE_INTEGER","sidStr","sidArray","LocalRelativeSidValueBlock","LocalRelativeObjectIdentifierValueBlock","LocalStringValueBlock","LocalSimpleStringValueBlock","LocalSimpleStringBlock","String","fromCharCode","apply","inputString","strLen","charCodeAt","LocalUtf8StringValueBlock","ex","LocalBmpStringValueBlock","LocalUniversalStringValueBlock","copyBuffer","isView","valueView","Uint32Array","strLength","codeBuf","codeView","dif","j","valueDate","year","month","day","hour","minute","fromDate","toBuffer","str","inputDate","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toDate","Date","UTC","parserArray","exec","outputArray","Array","toISOString","millisecond","getUTCMilliseconds","parser","isUTC","timeString","dateTimeString","fractionPart","hourDifference","minuteDifference","valueOf","multiplier","differencePosition","differenceString","fractionPointPosition","fractionPartCheck","fractionResult","Math","floor","tempDate","getUTCDay","Any","Choice","Repeated","local","RawData","data","dataView","compareSchema","root","inputData","inputSchema","verified","_result","hasOwnProperty","encodedId","schemaView","admission","maxLength","_optional","arrayRoot","asn1","exports","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","code","start","end","num","output","base64","ieee754","customInspectSymbol","Symbol","Buffer","K_MAX_LENGTH","createBuffer","RangeError","setPrototypeOf","arg","encodingOrOffset","allocUnsafe","from","isEncoding","actual","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","obj","isBuffer","checked","numberIsNaN","type","isArray","fromObject","toPrimitive","assertSize","mustMatch","arguments","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","m","bidirectionalIndexOf","val","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","remaining","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","console","enumerable","poolSize","alloc","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","max","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","last","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","writable","configurable","stack","message","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","abs","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","src","dst","alphabet","table","i16","fn","BufferBigIntNotDefined","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","log","LN2","ByteStream","fromUint8Array","fromHexString","hexstring","stub","_view","_buffer","clear","stringLength","hexString","hexMap","Map","temp","toHexString","toUpperCase","realloc","append","stream","initialSize","streamViewLength","subarrayView","insert","isEqualView","findPattern","pattern","start_","length_","backward_","backward","prepareFindParameters","patternLength","patternArray","equal","equalStart","findFirstIn","patterns","id","position","valid","findAllIn","patternFound","findAllPatternIn","findFirstNotIn","left","right","currentLength","findAllNotIn","findFirstSequence","firstIn","skipNotPatterns","firstNotIn","skipPatterns","findAllSequences","findPairedPatterns","leftPattern","rightPattern","currentPositionLeft","leftPatterns","rightPatterns","splice","sort","findPairedArrays","inputLeftPatterns","inputRightPatterns","replacePattern","searchPattern","findAllResult","status","searchPatternPositions","replacePatternPositions","element","patternDifference","changedBuffer","changedView","currentPosition","k","SeqStream","_stream","_length","_start","appendBlock","prevStart","resetPosition","gap","beforeAppend","appendView","appendChar","char","appendUint16","Uint16Array","appendUint24","appendUint32","appendInt16","Int16Array","appendInt32","Int32Array","getBlock","changeLength","getUint16","block","getInt16","getUint24","getUint32","getInt32","APPEND_BLOCK","ArgumentError","types","isType","typeNames","Function","ParameterError","field","fields","assert","AsnError","PkiObject","CLASS_NAME","raw","schema","memberName","className","toSchema","stringPrep","isSpace","cutResult","TYPE$5","VALUE$6","AttributeTypeAndValue","defaultValues","fromSchema","names","assertSchema","typeValue","_object","keys","compareTo","stringBlockNames","isStringPair","thisName","value1","value2","localeCompare","TYPE_AND_VALUES","VALUE_BEFORE_DECODE","RelativeDistinguishedNames","typesAndValues","memberValue","repeatedSequence","repeatedSet","typeAndValue","RDN","index","entries","TYPE$4","VALUE$5","builtInStandardAttributes","country_name","administration_domain_name","network_address","terminal_identifier","private_domain_name","organization_name","numeric_user_identifier","personal_name","organizational_unit_names","builtInDomainDefinedAttributes","extensionAttributes","GeneralName","directoryName","otherName","rfc822Name","dNSName","x400Address","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID","valueBER","asnValue","ACCESS_METHOD","ACCESS_LOCATION","CLEAR_PROPS$1v","AccessDescription","accessMethod","accessLocation","SECONDS","MILLIS","MICROS","Accuracy","seconds","millis","micros","intMillis","intMicros","ALGORITHM_ID","ALGORITHM_PARAMS","ALGORITHM$2","PARAMS","CLEAR_PROPS$1u","AlgorithmIdentifier","algorithmId","algorithmParams","algorithmIdentifier","algorithm","JSON","stringify","ALT_NAMES","CLEAR_PROPS$1t","AltName","altNames","TYPE$3","VALUES$1","CLEAR_PROPS$1s","Attribute","setName","NOT_BEFORE_TIME","NOT_AFTER_TIME","CLEAR_PROPS$1r","AttCertValidityPeriod","notBeforeTime","notAfterTime","NAMES","GENERAL_NAMES","GeneralNames","generalNames","id_SubjectAltName","id_IssuerAltName","id_BasicConstraints","id_IssuingDistributionPoint","id_CertificateIssuer","id_NameConstraints","id_CRLDistributionPoints","id_FreshestCRL","id_CertificatePolicies","id_AnyPolicy","id_PolicyMappings","id_AuthorityKeyIdentifier","id_PolicyConstraints","id_AuthorityInfoAccess","id_SignedCertificateTimestampList","id_ContentType_Data","id_ContentType_SignedData","id_ContentType_EnvelopedData","id_ContentType_EncryptedData","id_CertBag_X509Certificate","id_CertBag_AttributeCertificate","id_CRLBag_X509CRL","id_ad","id_PKIX_OCSP_Basic","KEY_IDENTIFIER$1","AUTHORITY_CERT_ISSUER","AUTHORITY_CERT_SERIAL_NUMBER","CLEAR_PROPS$1q","AuthorityKeyIdentifier","keyIdentifier","authorityCertIssuer","authorityCertSerialNumber","PATH_LENGTH_CONSTRAINT","CA","BasicConstraints","cA","pathLenConstraint","CERTIFICATE_INDEX","KEY_INDEX","CAVersion","certificateIndex","keyIndex","tempValue","keyIndexBuffer","keyIndexView8","keyIndexView16","certificateIndexBuffer","certificateIndexView8","certificateIndexView16","POLICY_QUALIFIER_ID","QUALIFIER","CLEAR_PROPS$1p","PolicyQualifierInfo","policyQualifierId","qualifier","POLICY_IDENTIFIER","POLICY_QUALIFIERS","CLEAR_PROPS$1o","PolicyInformation","policyIdentifier","policyQualifiers","CERTIFICATE_POLICIES","CLEAR_PROPS$1n","CertificatePolicies","certificatePolicies","TEMPLATE_ID","TEMPLATE_MAJOR_VERSION","TEMPLATE_MINOR_VERSION","CLEAR_PROPS$1m","CertificateTemplate","templateID","templateMajorVersion","templateMinorVersion","DISTRIBUTION_POINT$1","DISTRIBUTION_POINT_NAMES$1","REASONS","CRL_ISSUER","CRL_ISSUER_NAMES","CLEAR_PROPS$1l","DistributionPoint","distributionPoint","reasons","cRLIssuer","distributionPointNames","cRLIssuerNames","internalValue","DISTRIBUTION_POINTS","CLEAR_PROPS$1k","CRLDistributionPoints","distributionPoints","KEY_PURPOSES","CLEAR_PROPS$1j","ExtKeyUsage","keyPurposes","ACCESS_DESCRIPTIONS","InfoAccess","accessDescriptions","DISTRIBUTION_POINT","DISTRIBUTION_POINT_NAMES","ONLY_CONTAINS_USER_CERTS","ONLY_CONTAINS_CA_CERTS","ONLY_SOME_REASON","INDIRECT_CRL","ONLY_CONTAINS_ATTRIBUTE_CERTS","CLEAR_PROPS$1i","IssuingDistributionPoint","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts","BASE","MINIMUM","MAXIMUM","CLEAR_PROPS$1h","GeneralSubtree","base","minimum","maximum","valueMinimum","valueMaximum","PERMITTED_SUBTREES","EXCLUDED_SUBTREES","CLEAR_PROPS$1g","NameConstraints","permittedSubtrees","excludedSubtrees","REQUIRE_EXPLICIT_POLICY","INHIBIT_POLICY_MAPPING","CLEAR_PROPS$1f","PolicyConstraints","requireExplicitPolicy","inhibitPolicyMapping","field1","ber1","int1","field2","ber2","int2","ISSUER_DOMAIN_POLICY","SUBJECT_DOMAIN_POLICY","CLEAR_PROPS$1e","PolicyMapping","issuerDomainPolicy","subjectDomainPolicy","MAPPINGS","CLEAR_PROPS$1d","PolicyMappings","mappings","NOT_BEFORE$1","NOT_AFTER$1","CLEAR_PROPS$1c","PrivateKeyUsagePeriod","notBefore","notAfter","localNotBefore","localNotAfter","ID","TYPE$2","VALUES","QC_STATEMENT_CLEAR_PROPS","QC_STATEMENTS_CLEAR_PROPS","QCStatement","QCStatements","ECNamedCurves","namedCurves","nameOrId","register","X","Y","NAMED_CURVE$1","ECPublicKey","namedCurve","json","fromJSON","schema1","find","coordinateLength","crv","xConvertBuffer","convertBufferView","yConvertBuffer","MODULUS$1","PUBLIC_EXPONENT$1","CLEAR_PROPS$1b","RSAPublicKey","modulus","publicExponent","ALGORITHM$1","SUBJECT_PUBLIC_KEY","CLEAR_PROPS$1a","PublicKeyInfo","subjectPublicKey","parsedKey","_parsedKey","publicKeyASN1","jwk","kty","publicKeyJWK","assign","async","publicKey","crypto","getCrypto","exportedKey","exportKey","exception","VERSION$l","PRIVATE_KEY$1","NAMED_CURVE","PUBLIC_KEY$1","CLEAR_PROPS$19","ECPrivateKey","version","privateKey","compareWithDefault","publicKeyData","curve","privateKeyJSON","publicKeyJSON","convertBuffer","PRIME","EXPONENT","COEFFICIENT$1","CLEAR_PROPS$18","OtherPrimeInfo","prime","exponent","coefficient","r","t","VERSION$k","MODULUS","PUBLIC_EXPONENT","PRIVATE_EXPONENT","PRIME1","PRIME2","EXPONENT1","EXPONENT2","COEFFICIENT","OTHER_PRIME_INFOS","CLEAR_PROPS$17","RSAPrivateKey","privateExponent","prime1","prime2","exponent1","exponent2","otherPrimeInfos","otherPrimeInfosName","otherPrimeInfo","q","dp","dq","qi","oth","VERSION$j","PRIVATE_KEY_ALGORITHM","PRIVATE_KEY","ATTRIBUTES$5","PARSED_KEY","CLEAR_PROPS$16","PrivateKeyInfo","privateKeyAlgorithm","attributes","privateKeyASN1","CONTENT_TYPE$1","CONTENT_ENCRYPTION_ALGORITHM","ENCRYPTED_CONTENT","CLEAR_PROPS$15","EncryptedContentInfo","contentType","contentEncryptionAlgorithm","encryptedContent","constrString","pieceSize","pieceView","_array","sequenceLengthBlock","encryptedValue","getEncryptedContent","HASH_ALGORITHM$4","MASK_GEN_ALGORITHM$1","SALT_LENGTH","TRAILER_FIELD","CLEAR_PROPS$14","RSASSAPSSParams","hashAlgorithm","maskGenAlgorithm","saltLength","trailerField","SALT","ITERATION_COUNT","KEY_LENGTH","PRF","CLEAR_PROPS$13","PBKDF2Params","salt","iterationCount","keyLength","prf","saltPrimitive","saltConstructed","KEY_DERIVATION_FUNC","ENCRYPTION_SCHEME","CLEAR_PROPS$12","PBES2Params","keyDerivationFunc","encryptionScheme","makePKCS12B2Key","cryptoEngine","password","u","passwordViewInitial","passwordTransformed","passwordTransformedView","D","dView","sLen","ceil","S","sView","saltView","passwordLength","pLen","P","pView","passwordView","sPlusPLength","I","iView","internalSequence","Promise","resolve","then","_I","dAndI","dAndIView","roundBuffer","digest","B","bView","iRound","sliceStart","sliceLength","chunk","l","resultBuffer","prepareAlgorithm","hash","CryptoEngine","subtle","webkitSubtle","encrypt","decrypt","sign","verify","generateKey","deriveKey","deriveBits","wrapKey","unwrapKey","importKey","getRandomValues","format","keyData","extractable","keyUsages","_e","_f","alg","publicKeyInfo","key_ops","privateKeyInfo","key","parse","inputFormat","outputFormat","getAlgorithmByOID","oid","safety","kdf","getOIDByAlgorithm","getAlgorithmParameters","algorithmName","operation","usages","modulusLength","public","iv","info","iterations","getHashAlgorithm","signatureAlgorithm","contentEncryptionOID","pbkdf2OID","hmacOID","hmacHashAlgorithm","ivBuffer","ivView","saltBuffer","contentView","contentToEncrypt","pbkdf2Params","pbkdfKey","derivedKey","encryptedData","pbes2Parameters","encryptedContentInfo","dataBuffer","hmacAlgorithm","pkcsKey","hmacKey","contentToStamp","signatureToVerify","contentToVerify","paramsObject","hashAlgorithmOID","pssParameters","signature","signatureBuffer","rBuffer","rInteger","sBuffer","sInteger","createCMSECDSASignature","fillPublicKeyParameters","shaAlgorithm","algorithmObject","publicKeyAlgorithm","publicKeyAlgorithmParams","curveObject","publicKeyInfoBuffer","algorithmParamsChecked","getPublicKey","signatureValue","cmsSignature","pointSize","rValueView","sValueView","createECDSASignatureFromCMS","hashAlgo","engine","isCryptoEngine","setEngine","cryptoArg","subtleArg","process","g","window","pid","pkijs","_engine","getEngine","kdfWithCounter","hashFunction","zBuffer","Counter","SharedInfo","counterBuffer","counterView","combinedBuffer","Zbuffer","keydatalen","hashLength","maxCounter","quotient","incomingResult","currentCounter","newBuffer","newView","combinedView","VERSION$i","LOG_ID","EXTENSIONS$6","TIMESTAMP","HASH_ALGORITHM$3","SIGNATURE_ALGORITHM$8","SIGNATURE$7","NONE","SHA1","SHA224","SHA256","SHA384","SHA512","ANONYMOUS","ECDSA","SignedCertificateTimestamp","logID","timestamp","extensions","fromStream","seqStream","extensionsLength","signatureLength","signatureData","toStream","timeBuffer","timeView","baseArray","_hashAlgorithm","_signatureAlgorithm","_signature","logs","dataType","logId","publicKeyBase64","log_id","pki","verifyWithPublicKey","TIMESTAMPS","SignedCertificateTimestampList","timestamps","overallLength","timestampsData","timestampStream","ATTRIBUTES$4","CLEAR_PROPS$11","SubjectDirectoryAttributes","ExtensionValueFactory","item","parsingError","getItems","EXTN_ID","CRITICAL","EXTN_VALUE","PARSED_VALUE$5","CLEAR_PROPS$10","Extension","extnID","critical","extnValue","parsedValue","_parsedValue","EXTENSIONS$5","CLEAR_PROPS$$","Extensions","extension","ISSUER$5","SERIAL_NUMBER$6","ISSUER_UID","CLEAR_PROPS$_","IssuerSerial","issuer","serialNumber","issuerUID","VERSION$h","BASE_CERTIFICATE_ID$2","SUBJECT_NAME","ISSUER$4","SIGNATURE$6","SERIAL_NUMBER$5","ATTR_CERT_VALIDITY_PERIOD$1","ATTRIBUTES$3","ISSUER_UNIQUE_ID$2","EXTENSIONS$4","CLEAR_PROPS$Z","AttributeCertificateInfoV1","baseCertificateID","subjectName","attrCertValidityPeriod","issuerUniqueID","ACINFO$1","SIGNATURE_ALGORITHM$7","SIGNATURE_VALUE$4","CLEAR_PROPS$Y","AttributeCertificateV1","acinfo","DIGESTED_OBJECT_TYPE","OTHER_OBJECT_TYPE_ID","DIGEST_ALGORITHM$2","OBJECT_DIGEST","CLEAR_PROPS$X","ObjectDigestInfo","digestedObjectType","otherObjectTypeID","digestAlgorithm","objectDigest","ISSUER_NAME","BASE_CERTIFICATE_ID$1","OBJECT_DIGEST_INFO$1","CLEAR_PROPS$W","V2Form","issuerName","objectDigestInfo","BASE_CERTIFICATE_ID","ENTITY_NAME","OBJECT_DIGEST_INFO","CLEAR_PROPS$V","Holder","entityName","VERSION$g","HOLDER","ISSUER$3","SIGNATURE$5","SERIAL_NUMBER$4","ATTR_CERT_VALIDITY_PERIOD","ATTRIBUTES$2","ISSUER_UNIQUE_ID$1","EXTENSIONS$3","CLEAR_PROPS$U","AttributeCertificateInfoV2","holder","ACINFO","SIGNATURE_ALGORITHM$6","SIGNATURE_VALUE$3","CLEAR_PROPS$T","AttributeCertificateV2","CONTENT_TYPE","CONTENT","CLEAR_PROPS$S","ContentInfo","DATA","SIGNED_DATA","ENVELOPED_DATA","ENCRYPTED_DATA","TYPE$1","VALUE$4","UTC_TIME_NAME","GENERAL_TIME_NAME","CLEAR_PROPS$R","TimeType","Time","utcTimeName","generalTimeName","TBS$4","VERSION$f","SERIAL_NUMBER$3","SIGNATURE$4","ISSUER$2","NOT_BEFORE","NOT_AFTER","SUBJECT$1","SUBJECT_PUBLIC_KEY_INFO","ISSUER_UNIQUE_ID","SUBJECT_UNIQUE_ID","EXTENSIONS$2","SIGNATURE_ALGORITHM$5","SIGNATURE_VALUE$2","TBS_CERTIFICATE","TBS_CERTIFICATE_VERSION","TBS_CERTIFICATE_SERIAL_NUMBER","TBS_CERTIFICATE_SIGNATURE","TBS_CERTIFICATE_ISSUER","TBS_CERTIFICATE_NOT_BEFORE","TBS_CERTIFICATE_NOT_AFTER","TBS_CERTIFICATE_SUBJECT","TBS_CERTIFICATE_SUBJECT_PUBLIC_KEY","TBS_CERTIFICATE_ISSUER_UNIQUE_ID","TBS_CERTIFICATE_SUBJECT_UNIQUE_ID","TBS_CERTIFICATE_EXTENSIONS","CLEAR_PROPS$Q","tbsCertificate","tbsCertificateVersion","tbsCertificateSerialNumber","tbsCertificateValidity","subject","subjectPublicKeyInfo","tbsCertificateIssuerUniqueID","tbsCertificateSubjectUniqueID","Certificate","tbsView","subjectUniqueID","tbs","encodeTBS","encodeFlag","tbsSchema","signatureParameters","getSignatureParameters","signWithPrivateKey","issuerCertificate","checkCA","cert","signerCert","isCA","CERT_ID$1","CERT_VALUE","PARSED_VALUE$4","CLEAR_PROPS$P","CertBag","certId","certValue","certValueHex","USER_CERTIFICATE","REVOCATION_DATE","CRL_ENTRY_EXTENSIONS","CLEAR_PROPS$O","RevokedCertificate","userCertificate","revocationDate","crlEntryExtensions","TBS$3","VERSION$e","SIGNATURE$3","ISSUER$1","THIS_UPDATE$1","NEXT_UPDATE$1","REVOKED_CERTIFICATES","CRL_EXTENSIONS","SIGNATURE_ALGORITHM$4","SIGNATURE_VALUE$1","TBS_CERT_LIST","TBS_CERT_LIST_VERSION","TBS_CERT_LIST_SIGNATURE","TBS_CERT_LIST_ISSUER","TBS_CERT_LIST_THIS_UPDATE","TBS_CERT_LIST_NEXT_UPDATE","TBS_CERT_LIST_REVOKED_CERTIFICATES","TBS_CERT_LIST_EXTENSIONS","CLEAR_PROPS$N","tbsCertList","tbsCertListVersion","tbsCertListThisUpdate","tbsCertListNextUpdate","tbsCertListRevokedCertificates","crlExtensions","WELL_KNOWN_EXTENSIONS","CertificateRevocationList","thisUpdate","nextUpdate","revokedCertificates","isCertificateRevoked","certificate","revokedCertificate","CRL_ID","CRL_VALUE","PARSED_VALUE$3","CLEAR_PROPS$M","CRLBag","crlId","crlValue","VERSION$d","ENCRYPTED_CONTENT_INFO$1","UNPROTECTED_ATTRS$1","CLEAR_PROPS$L","EncryptedData","unprotectedAttrs","encryptParams","encryptEncryptedContentInfo","decryptParams","decryptEncryptedContentInfo","ENCRYPTION_ALGORITHM","PARSED_VALUE$2","CLEAR_PROPS$K","PKCS8ShroudedKeyBag","encryptionAlgorithm","cmsEncrypted","decryptedData","SECRET_TYPE_ID","SECRET_VALUE","CLEAR_PROPS$J","SecretBag","secretTypeId","secretValue","SafeBagValueFactory","SafeContents","BAG_ID","BAG_VALUE","BAG_ATTRIBUTES","CLEAR_PROPS$I","SafeBag","bagId","bagValue","bagAttributes","bagType","SAFE_BUGS","safeBags","OTHER_CERT_FORMAT","OTHER_CERT","CLEAR_PROPS$H","OtherCertificateFormat","otherCertFormat","otherCert","CERTIFICATES$1","CLEAR_PROPS$G","CertificateSet","certificates","initialTagNumber","elementSequence","OTHER_REV_INFO_FORMAT","OTHER_REV_INFO","CLEAR_PROPS$F","OtherRevocationInfoFormat","otherRevInfoFormat","otherRevInfo","CRLS$3","OTHER_REVOCATION_INFOS","CLEAR_PROPS$E","RevocationInfoChoices","crls","otherRevocationInfos","CERTS$3","CRLS$2","CLEAR_PROPS$D","OriginatorInfo","certs","sequenceValue","ISSUER","SERIAL_NUMBER$2","CLEAR_PROPS$C","IssuerAndSerialNumber","VARIANT$3","VALUE$3","CLEAR_PROPS$B","RecipientIdentifier","variant","VERSION$c","RID$1","KEY_ENCRYPTION_ALGORITHM$3","ENCRYPTED_KEY$3","RECIPIENT_CERTIFICATE$1","CLEAR_PROPS$A","KeyTransRecipientInfo","rid","keyEncryptionAlgorithm","encryptedKey","recipientCertificate","ALGORITHM","PUBLIC_KEY","CLEAR_PROPS$z","OriginatorPublicKey","VARIANT$2","VALUE$2","CLEAR_PROPS$y","OriginatorIdentifierOrKey","_schema","KEY_ATTR_ID","KEY_ATTR","CLEAR_PROPS$x","OtherKeyAttribute","keyAttrId","keyAttr","SUBJECT_KEY_IDENTIFIER","DATE$1","OTHER$1","CLEAR_PROPS$w","RecipientKeyIdentifier","subjectKeyIdentifier","date","VARIANT$1","VALUE$1","CLEAR_PROPS$v","KeyAgreeRecipientIdentifier","issuerAndSerialNumber","rKeyId","RID","ENCRYPTED_KEY$2","CLEAR_PROPS$u","RecipientEncryptedKey","ENCRYPTED_KEYS","RECIPIENT_ENCRYPTED_KEYS","CLEAR_PROPS$t","RecipientEncryptedKeys","encryptedKeys","VERSION$b","ORIGINATOR","UKM","KEY_ENCRYPTION_ALGORITHM$2","RECIPIENT_ENCRYPTED_KEY","RECIPIENT_CERTIFICATE","RECIPIENT_PUBLIC_KEY","CLEAR_PROPS$s","KeyAgreeRecipientInfo","originator","ukm","recipientEncryptedKeys","recipientPublicKey","KEY_IDENTIFIER","OTHER","CLEAR_PROPS$r","KEKIdentifier","VERSION$a","KEK_ID","KEY_ENCRYPTION_ALGORITHM$1","ENCRYPTED_KEY$1","PER_DEFINED_KEK","CLEAR_PROPS$q","KEKRecipientInfo","kekid","preDefinedKEK","VERSION$9","KEY_DERIVATION_ALGORITHM","KEY_ENCRYPTION_ALGORITHM","ENCRYPTED_KEY","PASSWORD","CLEAR_PROPS$p","PasswordRecipientinfo","keyDerivationAlgorithm","ORI_TYPE","ORI_VALUE","CLEAR_PROPS$o","OtherRecipientInfo","oriType","oriValue","VARIANT","VALUE","CLEAR_PROPS$n","RecipientInfo","blockSequence","assertEmpty","HASH_ALGORITHM$2","MASK_GEN_ALGORITHM","P_SOURCE_ALGORITHM","CLEAR_PROPS$m","RSAESOAEPParams","pSourceAlgorithm","KEY_INFO","ENTITY_U_INFO","SUPP_PUB_INFO","CLEAR_PROPS$l","ECCCMSSharedInfo","keyInfo","entityUInfo","suppPubInfo","VERSION$8","ORIGINATOR_INFO","RECIPIENT_INFOS","ENCRYPTED_CONTENT_INFO","UNPROTECTED_ATTRS","CLEAR_PROPS$k","defaultEncryptionParams","kdfAlgorithm","kekEncryptionLength","curveLengthByName","EnvelopedData","originatorInfo","recipientInfos","addRecipientByCertificate","encryptionParameters","useOAEP","oaepHashAlgorithm","hashOID","recipientIdentifier","_addKeyAgreeRecipientInfo","addRecipientByPreDefinedData","preDefinedData","keyIdentifierBuffer","keyIdentifierView","keyEncryptionAlgorithmParams","kekOID","addRecipientByKeyIdentifier","keyId","extraRecipientInfoParams","aesKWoid","aesKW","ecdhOID","ukmBuffer","ukmView","recipientInfoParams","sessionKey","exportedSessionKey","SubKeyAgreeRecipientInfo","recipientInfo","recipientCurve","recipientCurveLength","ecdhKeys","exportedECDHPublicKey","derivedBits","aesKWAlgorithm","kwAlgorithm","kwLength","kwLengthBuffer","kwLengthView","encodedInfo","ecdhAlgorithm","derivedKeyRaw","awsKW","wrappedKey","ecdhPrivateKey","SubKeyTransRecipientInfo","algorithmParameters","rsaOAEPParams","SubKEKRecipientInfo","kekAlgorithm","kekKey","SubPasswordRecipientinfo","derivationKey","recipientIndex","decryptionParameters","curveOID","recipientPrivateKey","ecdhPublicKey","sharedSecret","applyKDF","includeAlgorithmParams","keyInfoAlgorithm","kdfResult","importAesKwKey","aesKwKey","unwrapSessionKey","importedKey","pbkdf2Key","unwrappedKey","SAFE_CONTENTS","PARSED_VALUE$1","CONTENT_INFOS","AuthenticatedSafe","safeContents","contentInfos","safeContent","errorTarget","authSafeContent","privacyMode","cmsEnveloped","envelopedData","recipientKey","decrypted","contentBuffer","currentParameters","encryptingCertificate","HASH_ALGORITHM$1","ISSUER_NAME_HASH","ISSUER_KEY_HASH","SERIAL_NUMBER$1","CLEAR_PROPS$j","CertID","issuerNameHash","issuerKeyHash","certID","createForCertificate","hashAlgorithmObject","certificateID","hashIssuerName","issuerKeyBuffer","hashIssuerKey","CERT_ID","CERT_STATUS","THIS_UPDATE","NEXT_UPDATE","SINGLE_EXTENSIONS","CLEAR_PROPS$i","SingleResponse","certStatus","singleExtensions","TBS$2","VERSION$7","RESPONDER_ID","PRODUCED_AT","RESPONSES","RESPONSE_EXTENSIONS","RESPONSE_DATA","RESPONSE_DATA_VERSION","RESPONSE_DATA_RESPONDER_ID","RESPONSE_DATA_PRODUCED_AT","RESPONSE_DATA_RESPONSES","RESPONSE_DATA_RESPONSE_EXTENSIONS","CLEAR_PROPS$h","ResponseData","responderID","producedAt","responses","responseExtensions","ResponseDataByName","ResponseDataByKey","response","TRUSTED_CERTS","CERTS$2","CRLS$1","OCSPS$1","CHECK_DATE","FIND_ORIGIN","FIND_ISSUER","CertificateChainValidationEngine","trustedCerts","ocsps","checkDate","findOrigin","findIssuer","validationEngine","localCert","trustedCert","checkCertificate","possibleIssuer","extensionFound","authorityCertSerialNumberEqual","intermediateCert","defaultFindOrigin","defaultFindIssuer","passedWhenNotRevValues","localCerts","buildPath","checkUnique","unique","findIssuerResult","buildPathResult","findCRL","issuerCertificates","crlsAndCertificates","filter","statusMessage","crl","findOCSP","ocsp","getCertificateStatus","isForCertificate","checkForCA","needToCheckCRL","mustBeCA","keyUsagePresent","cRLSign","resultCode","resultMessage","certificatePath","shortestLength","shortestIndex","path","ocspResult","crlResult","basicCheck","compareDNSName","constraint","namePrepared","constraintPrepared","nameSplitted","constraintSplitted","nameLen","constrLen","compareRFC822Name","ns","cs","compareUniformResourceIdentifier","compareIPAddress","nameView","constraintView","compareDirectoryName","nameStart","localResult","initialPolicySet","initialExplicitPolicy","initialPolicyMappingInhibit","initialInhibitPolicy","initialPermittedSubtreesSet","initialExcludedSubtreesSet","initialRequiredNameForms","explicitPolicyIndicator","policyMappingInhibitIndicator","inhibitAnyPolicyIndicator","pendingConstraints","explicitPolicyPending","policyMappingInhibitPending","inhibitAnyPolicyPending","requiredNameForms","pathDepth","allPolicies","policiesAndCerts","anyPolicyArray","ii","policyMappings","certPolicies","explicitPolicyStart","policyIndex","policyId","certArray","searchAnyPolicy","issuerDomainPolicyIndex","subjectDomainPolicyIndex","authConstrPolicies","anyPolicyFound","userConstrPolicies","policyResult","subjectAltNames","certPermittedSubtrees","certExcludedSubtrees","formFound","constrGroups","groupPermitted","valueExists","group","excluded","TBS_RESPONSE_DATA","SIGNATURE_ALGORITHM$3","SIGNATURE$2","CERTS$1","BASIC_OCSP_RESPONSE","BASIC_OCSP_RESPONSE_TBS_RESPONSE_DATA","BASIC_OCSP_RESPONSE_SIGNATURE_ALGORITHM","BASIC_OCSP_RESPONSE_SIGNATURE","BASIC_OCSP_RESPONSE_CERTS","CLEAR_PROPS$g","BasicOCSPResponse","tbsResponseData","comparisonResult","hashesObject","certIDs","signatureParams","certIndex","additionalCerts","caCert","certChain","TBS$1","VERSION$6","SUBJECT","SPKI","ATTRIBUTES$1","SIGNATURE_ALGORITHM$2","SIGNATURE_VALUE","CSR_INFO","CSR_INFO_VERSION","CSR_INFO_SUBJECT","CSR_INFO_SPKI","CSR_INFO_ATTRS","CLEAR_PROPS$f","CertificationRequestInfo","CertificationRequestInfoVersion","CertificationRequestInfoAttributes","CertificationRequest","certificationRequestInfo","DIGEST_ALGORITHM$1","DIGEST","CLEAR_PROPS$e","DigestInfo","E_CONTENT_TYPE","E_CONTENT","CLEAR_PROPS$d","EncapsulatedContentInfo","eContentType","eContent","viewHex","MAC","MAC_SALT","ITERATIONS","CLEAR_PROPS$c","MacData","mac","macSalt","HASH_ALGORITHM","HASHED_MESSAGE","CLEAR_PROPS$b","MessageImprint","hashedMessage","REQ_CERT","SINGLE_REQUEST_EXTENSIONS","CLEAR_PROPS$a","Request","reqCert","singleRequestExtensions","TBS","VERSION$5","REQUESTOR_NAME","REQUEST_LIST","REQUEST_EXTENSIONS","TBS_REQUEST$1","TBS_REQUEST_VERSION","TBS_REQUEST_REQUESTOR_NAME","TBS_REQUEST_REQUESTS","TBS_REQUEST_REQUEST_EXTENSIONS","CLEAR_PROPS$9","TBSRequest","requestorName","requestList","requestExtensions","TBSRequestVersion","requests","requestNames","SIGNATURE_ALGORITHM$1","SIGNATURE$1","CERTS","Signature","TBS_REQUEST","OPTIONAL_SIGNATURE","CLEAR_PROPS$8","OCSPRequest","tbsRequest","optionalSignature","RESPONSE_TYPE","RESPONSE","CLEAR_PROPS$7","ResponseBytes","responseType","RESPONSE_STATUS","RESPONSE_BYTES","OCSPResponse","responseStatus","responseBytes","basicResponse","asn1Basic","TYPE","ATTRIBUTES","ENCODED_VALUE","CLEAR_PROPS$6","SignedAndUnsignedAttributes","encodedValue","VERSION$4","SID","DIGEST_ALGORITHM","SIGNED_ATTRS","SIGNATURE_ALGORITHM","SIGNATURE","UNSIGNED_ATTRS","SIGNER_INFO","SIGNER_INFO_VERSION","SIGNER_INFO_SID","SIGNER_INFO_DIGEST_ALGORITHM","SIGNER_INFO_SIGNED_ATTRS","SIGNER_INFO_SIGNATURE_ALGORITHM","SIGNER_INFO_SIGNATURE","SIGNER_INFO_UNSIGNED_ATTRS","CLEAR_PROPS$5","SignerInfo","signedAttrs","unsignedAttrs","sidSchema","currentSid","VERSION$3","POLICY","MESSAGE_IMPRINT$1","SERIAL_NUMBER","GEN_TIME","ORDERING","NONCE$1","ACCURACY","TSA","EXTENSIONS$1","TST_INFO","TST_INFO_VERSION","TST_INFO_POLICY","TST_INFO_MESSAGE_IMPRINT","TST_INFO_SERIAL_NUMBER","TST_INFO_GEN_TIME","TST_INFO_ACCURACY","TST_INFO_ORDERING","TST_INFO_NONCE","TST_INFO_TSA","TST_INFO_EXTENSIONS","CLEAR_PROPS$4","TSTInfo","policy","messageImprint","genTime","accuracy","ordering","nonce","tsa","VERSION$2","DIGEST_ALGORITHMS","ENCAP_CONTENT_INFO","CERTIFICATES","CRLS","SIGNER_INFOS","OCSPS","SIGNED_DATA_VERSION","SIGNED_DATA_DIGEST_ALGORITHMS","SIGNED_DATA_ENCAP_CONTENT_INFO","SIGNED_DATA_CERTIFICATES","SIGNED_DATA_CRLS","SIGNED_DATA_SIGNER_INFOS","CLEAR_PROPS$3","SignedDataVerifyError","signatureVerified","signerCertificate","signerCertificateVerified","timestampSerial","SignedData","digestAlgorithms","encapContentInfo","signerInfos","certificateSet","signerInfoSchema","some","ID_DATA","certificateSetSchema","crlSchema","signerInfo","signer","checkChain","extendedMode","messageDigestValue","tstInfo","chainParams","chainEngine","verificationResult","catch","signerInfoHashAlgorithm","foundContentType","foundMessageDigest","attribute","messageDigest","verifyResult","signerIndex","VERSION$1","AUTH_SAFE","MAC_DATA","PARSED_VALUE","CLERA_PROPS","PFX","authSafe","macData","integrityMode","authenticatedSafe","pbkdf2HashAlgorithm","stampDataWithPassword","toBeSigned","cmsSigned","signingCertificate","signedAttr","checkIntegrity","verifyDataStampedWithPassword","STATUS$1","STATUS_STRINGS","FAIL_INFO","CLEAR_PROPS$2","PKIStatus","PKIStatusInfo","statusStrings","failInfo","_status","VERSION","MESSAGE_IMPRINT","REQ_POLICY","NONCE","CERT_REQ","EXTENSIONS","TIME_STAMP_REQ","TIME_STAMP_REQ_VERSION","TIME_STAMP_REQ_MESSAGE_IMPRINT","TIME_STAMP_REQ_POLICY","TIME_STAMP_REQ_NONCE","TIME_STAMP_REQ_CERT_REQ","TIME_STAMP_REQ_EXTENSIONS","CLEAR_PROPS$1","TimeStampReq","reqPolicy","certReq","STATUS","TIME_STAMP_TOKEN","TIME_STAMP_RESP","TIME_STAMP_RESP_STATUS","TIME_STAMP_RESP_TOKEN","CLEAR_PROPS","TimeStampResp","timeStampToken","assertContentType","verificationParameters","self","engineName","nodeCrypto","webcrypto","initCryptoEngine","BufferSourceConverter","isArrayBuffer","toUint8Array","toView","isArrayBufferView","aView","Utf8Converter","text","unescape","encodeURIComponent","uintArray","encodedString","decodeURIComponent","escape","Utf16Converter","arrayBuffer","toArrayBuffer","DataView","setUint16","Convert","test","enc","ToUtf8String","ToBinary","ToHex","ToBase64","ToBase64Url","FromUtf8String","FromBinary","FromHex","FromBase64","FromBase64Url","btoa","binary","ToString","formatted","formatString","isBase64","atob","base64url","isBase64Url","Base64Padding","DEFAULT_UTF8_ENCODING","resultView","isHex","padCount","getParametersValue","defaultValue","bufferToHexCodes","insertSpace","utilFromBase","inputBase","utilToBase","reserved","internalReserved","biggest","basis","utilConcatBuf","utilConcatView","views","utilDecodeTC","condition1","condition2","bigIntBuffer","bigIntView","bigInt","smallIntBuffer","smallIntView","utilEncodeTC","modValue","tempBuf","isEqualBuffer","inputBuffer1","inputBuffer2","view1","view2","padNumber","inputNumber","fullLength","padding","base64Template","base64UrlTemplate","toBase64","useUrlTemplate","skipPadding","skipLeadingZeros","flag1","flag2","template","nonZeroPosition","chr1","chr2","chr3","enc1","enc2","enc3","enc4","fromBase64","cutTailZeros","toSearch","incoming","nonZeroStart","arrayBufferToString","resultString","stringToArrayBuffer","log2","nearestPowerOf2","round","clearProps","propsArray","prop","f","h","w","C","sortIndex","performance","now","unstable_now","z","A","setTimeout","clearTimeout","F","setImmediate","G","callback","startTime","expirationTime","H","J","K","L","M","priorityLevel","navigator","scheduling","isInputPending","bind","N","O","Q","R","MessageChannel","T","U","port2","port1","onmessage","postMessage","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback","module","_arrayLikeToArray","arr2","_assertThisInitialized","ReferenceError","asyncGeneratorStep","gen","reject","_next","_throw","done","_asyncToGenerator","err","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_defineProperty","_getPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_possibleConstructorReturn","_setPrototypeOf","_slicedToArray","_i","iterator","_s","_n","next","unsupportedIterableToArray","_toConsumableArray","arrayLikeToArray","iter","_typeof","_unsupportedIterableToArray","minLen","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_construct","Parent","Class","_wrapNativeSuper","_cache","has","Wrapper"],"sourceRoot":""}