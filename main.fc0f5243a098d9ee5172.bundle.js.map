{"version":3,"file":"main.fc0f5243a098d9ee5172.bundle.js","mappings":"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","sources":["webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/cades.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/storeType.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/cryptoProviders.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/constants/oids-dictionary.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/errors/errorCodes.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/certificateParser.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/bufferToHex.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/utils/output.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/PluginConfig.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/errors/CryptoError.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getLastError.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/canAsync.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/unwrap.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/Certificate.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getCryptoProviders.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/createObject.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getSystemInfo.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/checkIsSupportedCSPVersion.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/isSupportedCadesVersion.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/checkIsValidSystemSetup.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/afterPluginLoaded.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/internal/setCryptoProperty.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/validateCertificate.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/sign.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/signXml.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/encrypt.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/decrypt.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/openStore.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/getCertificates.ts","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/api/findCertificateBySkid.ts","webpack://cryptopro-cades-example/./src/components/CertificateInfo.tsx","webpack://cryptopro-cades-example/./src/components/CryptoProviderInfo.tsx","webpack://cryptopro-cades-example/./src/App.tsx","webpack://cryptopro-cades-example/./src/index.tsx","webpack://cryptopro-cades-example/../../packages/cryptopro-cades/src/vendor/cadesplugin_api.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Хранилище персональных сертификатов пользователя.\n */\nexport const CAPICOM_MY_STORE = 'My';\n\n/**\n * Тип подписи XML-документа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_xml_signature_type\n */\nexport enum CADESCOM_XML_SIGNATURE_TYPE {\n  /**\n   * Вложенная подпись.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED = 0,\n\n  /**\n   * Оборачивающая подпись.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING = 1,\n\n  /**\n   * Подпись по шаблону.\n   */\n  CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE = 2,\n}\n\n/**\n * Тип подписи XAdES-XML-документа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_xades_type\n */\nexport enum CADESCOM_XADES_TYPE {\n  /**\n   * Тип подписи по умолчанию (XAdES-X Long Type 1).\n   */\n  CADESCOM_XADES_DEFAULT = 0x00000010,\n\n  /**\n   * Тип подписи XAdES-A.\n   */\n  CADESCOM_XADES_A = 0x000007d0,\n\n  /**\n   * Тип подписи XAdES BES.\n   */\n  CADESCOM_XADES_BES = 0x00000020,\n\n  /**\n   * Тип подписи XAdES T.\n   */\n  CADESCOM_XADES_T = 0x00000050,\n\n  /**\n   * Тип подписи XAdES-X Long Type 1.\n   */\n  CADESCOM_XADES_X_LONG_TYPE_1 = 0x000005d0,\n\n  /**\n   * Тип подписи XMLDSIG.\n   */\n  CADESCOM_XMLDSIG_TYPE = 0x00000000,\n}\n\n/**\n * Тип усовершенствованной подписи.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_cades_type\n */\nexport const enum CADESCOM_CADES_TYPE {\n  /**\n   * Тип подписи по умолчанию (CAdES-X Long Type 1).\n   */\n  CADESCOM_CADES_DEFAULT = 0,\n\n  /**\n   * Тип подписи CAdES BES.\n   */\n  CADESCOM_CADES_BES = 1,\n\n  /**\n   * Тип подписи CAdES T.\n   */\n  CADESCOM_CADES_T = 0x5,\n\n  /**\n   * Тип подписи CAdES-X Long Type 1.\n   */\n  CADESCOM_CADES_X_LONG_TYPE_1 = 0x5d,\n\n  /**\n   * Тип подписи PKCS7.\n   */\n  CADESCOM_PKCS7_TYPE = 0xffff,\n}\n\n/**\n * Типы криптографических алгоритмов для XmlDsig\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-methods?id=Константы\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-samples/plugin-samples-sign-xml\n */\nexport enum XML_SIGNATURE_GOST_ALGORITHM_TYPE {\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3410Url = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411',\n\n  /**\n   * URL Алгоритм подписи для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3410UrlObsolete = 'http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3411Url = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411',\n\n  /**\n   * URL Алгоритм хеширования для XmlDsig, ГОСТ 2001.\n   */\n  XmlDsigGost3411UrlObsolete = 'http://www.w3.org/2001/04/xmldsig-more#gostr3411',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2012 (256).\n   */\n  XmlDsigGost3411Url2012256 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256',\n\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2012 (256).\n   */\n  XmlDsigGost3410Url2012256 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256',\n\n  /**\n   * Алгоритм хеширования для XmlDsig, ГОСТ 2012 (512).\n   */\n  XmlDsigGost3411Url2012512 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512',\n\n  /**\n   * Алгоритм подписи для XmlDsig, ГОСТ 2012 (512).\n   */\n  XmlDsigGost3410Url2012512 = 'urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512',\n}\n\n/**\n * The CAPICOM_CERTIFICATE_INCLUDE_OPTION enumeration type defines which certificates in a chain are saved.\n * This enumeration type was introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-certificate-include-option\n */\nexport enum CAPICOM_CERTIFICATE_INCLUDE_OPTION {\n  /**\n   * Saves all certificates in the chain with the exception of the root entity.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT = 0,\n\n  /**\n   * Saves the complete certificate chain.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN = 1,\n\n  /**\n   * Saves only the end entity certificate.\n   */\n  CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY = 2,\n}\n\n/**\n * Способ кодирования данных для подписи.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_content_encoding_type\n */\nexport enum CADESCOM_ENCODING_TYPE {\n  /**\n   * Data is saved as a base64-encoded string or a pure binary sequence. This encoding type is used only for input data that has an unknown encoding type. Introduced in CAPICOM 2.0.\n   */\n  CADESCOM_ENCODE_ANY = -1,\n\n  /**\n   * Data is saved as a base64-encoded string.\n   */\n  CADESCOM_ENCODE_BASE64 = 0,\n\n  /**\n   * Data is saved as a pure binary sequence.\n   */\n  CADESCOM_ENCODE_BINARY = 1,\n}\n\n/**\n * Enumeration type indicates the encoding type used.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-encoding-type\n */\nexport enum CAPICOM_ENCODING_TYPE {\n  /**\n   * Data is saved as a base64-encoded string or a pure binary sequence. This encoding type is used only for input data that has an unknown encoding type. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_ENCODE_ANY = 0xffffffff,\n\n  /**\n   * Data is saved as a base64-encoded string.\n   */\n  CAPICOM_ENCODE_BASE64 = 0,\n\n  /**\n   * Data is saved as a pure binary sequence.\n   */\n  CAPICOM_ENCODE_BINARY = 1,\n}\n\n/**\n * Используется как параметр при открытии Хранилища через @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/store-open\n * Позволяет задать уровень доступа к открываемому Хранилищу.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-store-open-mode\n */\nexport enum CAPICOM_STORE_OPEN_MODE {\n  /**\n   * Open the store in read-only mode.\n   */\n  CAPICOM_STORE_OPEN_READ_ONLY = 0,\n\n  /**\n   * Open the store in read/write mode.\n   */\n  CAPICOM_STORE_OPEN_READ_WRITE = 1,\n\n  /**\n   * Open the store in read/write mode if the user has read/write permissions. If the user does not have read/write permissions, open the store in read-only mode.\n   */\n  CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED = 2,\n\n  /**\n   * Open existing stores only; do not create a new store. Introduced by CAPICOM 2.0.\n   */\n  CAPICOM_STORE_OPEN_EXISTING_ONLY = 128,\n\n  /**\n   * Include archived certificates when using the store. Introduced by CAPICOM 2.0.\n   */\n  CAPICOM_STORE_OPEN_INCLUDE_ARCHIVED = 256,\n}\n\n/**\n * Типы для указания расположения хранилища сертификатов.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_store_location\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-store-location\n */\nexport enum STORE_LOCATION {\n  /**\n   * Хранилище сертификатов в памяти компьютера. Любые изменения недопустимы.\n   */\n  CAPICOM_MEMORY_STORE = 0,\n  CADESCOM_MEMORY_STORE = 0,\n\n  /**\n   * Хранилище сертификатов компьютера. Если открыто на чтение/запись, то у вас есть права на изменения.\n   */\n  CAPICOM_LOCAL_MACHINE_STORE = 1,\n  CADESCOM_LOCAL_MACHINE_STORE = 1,\n\n  /**\n   * Хранилище сертификатов текущего пользователя. Доступ для изменения доступен для текущего пользователя.\n   */\n  CAPICOM_CURRENT_USER_STORE = 2,\n  CADESCOM_CURRENT_USER_STORE = 2,\n\n  /**\n   * Хранилище сертификатов в Active Directory.. Доступно только для чтения. Нельзя добавить или удалить сертификаты из данного хранилища.\n   */\n  CAPICOM_ACTIVE_DIRECTORY_USER_STORE = 3,\n\n  /**\n   * Хранилище сертификатов на смарткартах (поддерживается только с КриптоПро CSP 5.0.11823 и выше). Объявлено и доступно с CAPICOM 2.0.\n   */\n  CAPICOM_SMART_CARD_USER_STORE = 4,\n\n  /**\n   * Хранилище сертификатов из контейнеров закрытых ключей. В данный Store попадают все сертификаты из контейнеров закрытых ключей, которые доступны в системе в момент открытия.\n   * Доступно с CAdESCOM Plugin 2.0.13292\n   */\n  CADESCOM_CONTAINER_STORE = 100,\n}\n\n/**\n * The CAPICOM_CERT_INFO_TYPE enumeration type defines what information is to be queried from a certificate.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-cert-info-type\n * @type {number}\n */\nexport enum CAPICOM_CERT_INFO_TYPE {\n  /**\n   * Returns the display name from the certificate subject.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME = 0,\n\n  /**\n   * Returns the display name of the issuer of the certificate.\n   */\n  CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME = 1,\n\n  /**\n   * Returns the email address of the certificate subject.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_EMAIL_NAME = 2,\n\n  /**\n   * Returns the email address of the issuer of the certificate.\n   */\n  CAPICOM_CERT_INFO_ISSUER_EMAIL_NAME = 3,\n\n  /**\n   * Returns the UPN of the certificate subject. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_UPN = 4,\n\n  /**\n   * Returns the UPN of the issuer of the certificate. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_ISSUER_UPN = 5,\n\n  /**\n   * Returns the DNS name of the certificate subject. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_SUBJECT_DNS_NAME = 6,\n\n  /**\n   * Returns the DNS name of the issuer of the certificate. Introduced in CAPICOM 2.0.\n   */\n  CAPICOM_CERT_INFO_ISSUER_DNS_NAME = 7,\n}\n\n/**\n * The CAPICOM_CERTIFICATE_FIND_TYPE enumeration type defines the type of search criteria used to find specific certificates. This enumeration type was introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-certificate-find-type\n * @type {number}\n */\nexport enum CAPICOM_CERTIFICATE_FIND_TYPE {\n  /**\n   * Returns certificates matching a specified SHA1 hash.\n   */\n  CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0,\n\n  /**\n   * Returns certificates whose subject name exactly or partially matches a specified subject name.\n   */\n  CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1,\n\n  /**\n   * Returns certificates whose issuer name exactly or partially matches a specified issuer name.\n   */\n  CAPICOM_CERTIFICATE_FIND_ISSUER_NAME = 2,\n\n  /**\n   * Returns certificates whose root subject name exactly or partially matches a specified root subject name.\n   */\n  CAPICOM_CERTIFICATE_FIND_ROOT_NAME = 3,\n\n  /**\n   * Returns certificates whose template name matches a specified template name.\n   */\n  CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME = 4,\n\n  /**\n   * Returns certificates that have an extension that matches a specified extension.\n   */\n  CAPICOM_CERTIFICATE_FIND_EXTENSION = 5,\n\n  /**\n   * Returns certificates that have an extended property whose property identifier matches a specified property identifier.\n   */\n  CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6,\n\n  /**\n   * Returns certificates in the store that have either an enhanced key usage extension or property combined with a usage identifier.\n   */\n  CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY = 7,\n\n  /**\n   * Returns certificates containing a specified policy OID.\n   */\n  CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY = 8,\n\n  /**\n   * Returns certificates whose time is valid.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9,\n\n  /**\n   * Returns certificates whose time is not yet valid.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID = 10,\n\n  /**\n   * Returns certificates whose time has expired.\n   */\n  CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED = 11,\n\n  /**\n   * Returns certificates containing a key that can be used in the specified manner.\n   */\n  CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12,\n}\n\n/**\n * The CAPICOM_KEY_USAGE enumeration defines the ways in which a key can be used. Introduced in CAPICOM 2.0.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-key-usage\n * @type {number}\n */\nexport enum CAPICOM_KEY_USAGE {\n  /**\n   * The key can be used to create a digital signature.\n   */\n  CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 128,\n\n  // other enums omited.\n}\n\n//region (cert.Find(..)) https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-propid\n/**\n * Возвращает DWORD значение, указывающее на закрытый ключ из\n *  CERT_KEY_CONTEXT_PROP_ID, если он есть.\n *  Иначе, если CERT_KEY_PROV_INFO_PROP_ID есть,\n *  то он будет источником dwKeySpec.\n *  (Find(CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY,CERT_KEY_SPEC_PROP_ID)\n *   - вернет сертификаты, у к-ых есть ссылка на закрытый ключ)\n * @type {number}\n */\nexport const CERT_KEY_SPEC_PROP_ID = 6;\n\n/**\n * Свойства хэш объекта.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/capicom-propid\n * @type {number}\n */\nexport enum CAPICOM_PROPID {\n  /**\n   * Неизвестный тип свойства.\n   */\n  CAPICOM_PROPID_UNKNOWN = 0,\n\n  /**\n   * Обработчик ключа контейнера с Криптопровайдером.\n   */\n  CAPICOM_PROPID_KEY_PROV_HANDLE = 1,\n  /**\n   * Вывод только сертификатов с информацией о контейнерах с Криптопровайдером.\n   */\n  CAPICOM_PROPID_KEY_PROV_INFO = 2,\n\n  /**\n   * The properties of a hash object.\n   */\n  CAPICOM_PROPID_HASH_PROP = 3,\n\n  /**\n   * A SHA1 hash object.\n   */\n  CAPICOM_PROPID_SHA1_HASH = 3,\n\n  /**\n   * An MD5 hash object.\n   */\n  CAPICOM_PROPID_MD5_HASH = 4,\n\n  /**\n   * The key context.\n   */\n  CAPICOM_PROPID_KEY_CONTEXT = 5,\n\n  /**\n   * The specifications for a key.\n   */\n  CAPICOM_PROPID_KEY_SPEC = 6,\n\n  /**\n   * Information about whether the hash of the public key is reserved.\n   */\n  CAPICOM_PROPID_PUBKEY_HASH_RESERVED = 8,\n\n  /**\n   * A certificate trust list (CTL) usage.\n   */\n  CAPICOM_PROPID_CTL_USAGE = 9,\n\n  /**\n   * An enhanced key usage (EKU).\n   */\n  CAPICOM_PROPID_ENHKEY_USAGE = 9,\n\n  /**\n   * The location of the next update to the certificate revocation list (CRL).\n   */\n  CAPICOM_PROPID_NEXT_UPDATE_LOCATION = 10,\n\n  /**\n   * A human-readable name.\n   */\n  CAPICOM_PROPID_FRIENDLY_NAME = 11,\n\n  /**\n   * A file that contains a private key.\n   */\n  CAPICOM_PROPID_PVK_FILE = 12,\n\n  /**\n   * A human-readable description.\n   */\n  CAPICOM_PROPID_DESCRIPTION = 13,\n\n  /**\n   * The state of the access.\n   */\n  CAPICOM_PROPID_ACCESS_STATE = 14,\n\n  /**\n   * A hash of the signature.\n   */\n  CAPICOM_PROPID_SIGNATURE_HASH = 15,\n\n  /**\n   * Smart card data.\n   */\n  CAPICOM_PROPID_SMART_CARD_DATA = 16,\n\n  /**\n   * An Encrypting File System (EFS).\n   */\n  CAPICOM_PROPID_EFS = 17,\n\n  /**\n   * Data created using the cryptographic protocols and algorithms owned by the National Institute of Standards and Technology (NIST).\n   */\n  CAPICOM_PROPID_FORTEZZA_DATA = 18,\n\n  /**\n   * Information about whether the object is archived.\n   */\n  CAPICOM_PROPID_ARCHIVED = 19,\n\n  /**\n   * A key identifier.\n   */\n  CAPICOM_PROPID_KEY_IDENTIFIER = 20,\n\n  /**\n   * Auto-enrollment information for a certificate.\n   */\n  CAPICOM_PROPID_AUTO_ENROLL = 21,\n\n  /**\n   * Parameters for a public key algorithm.\n   */\n  CAPICOM_PROPID_PUBKEY_ALG_PARA = 22,\n\n  /**\n   * Information used to update dynamic cross certificates.\n   */\n  CAPICOM_PROPID_CROSS_CERT_DIST_POINTS = 23,\n\n  /**\n   * Information about whether the object is reserved in Internet Explorer 3.0.\n   */\n  CAPICOM_PROPID_ISSUER_PUBLIC_KEY_MD5_HASH = 24,\n\n  /**\n   * The MD5 hash of the subject's public key.\n   */\n  CAPICOM_PROPID_SUBJECT_PUBLIC_KEY_MD5_HASH = 25,\n\n  /**\n   * Information about the certificate's enrollment.\n   */\n  CAPICOM_PROPID_ENROLLMENT = 26,\n\n  /**\n   * A date stamp.\n   */\n  CAPICOM_PROPID_DATE_STAMP = 27,\n\n  /**\n   * The MD5 hash of the issuer's serial number.\n   */\n  CAPICOM_PROPID_ISSUER_SERIAL_NUMBER_MD5_HASH = 28,\n\n  /**\n   * The MD5 hash of the subject's name.\n   */\n  CAPICOM_PROPID_SUBJECT_NAME_MD5_HASH = 29,\n\n  /**\n   * Extended information about an error.\n   */\n  CAPICOM_PROPID_EXTENDED_ERROR_INFO = 30,\n\n  /**\n   * Information about the renewal of a certification authority.\n   */\n  CAPICOM_PROPID_RENEWAL = 64,\n\n  /**\n   * An archived hash of a key.\n   */\n  CAPICOM_PROPID_ARCHIVED_KEY_HASH = 65,\n\n  /**\n   * Information about the first reservation.\n   */\n  CAPICOM_PROPID_FIRST_RESERVED = 66,\n\n  /**\n   * Information about the most recent reservation.\n   */\n  CAPICOM_PROPID_LAST_RESERVED = 0x00007fff,\n\n  /**\n   * Information about the first user.\n   */\n  CAPICOM_PROPID_FIRST_USER = 0x00008000,\n\n  /**\n   * Information about the most recent user.\n   */\n  CAPICOM_PROPID_LAST_USER = 0x0000ffff,\n}\n\nexport const CAPICOM_OID_OTHER = 0;\nexport const CAPICOM_OID_KEY_USAGE_EXTENSION = 10;\n\nexport const CAPICOM_EKU_CLIENT_AUTH = 2;\nexport const CAPICOM_EKU_SMARTCARD_LOGON = 5;\nexport const CAPICOM_EKU_OTHER = 0;\n\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\nexport const CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\nexport const CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO = 0x100;\nexport const CADESCOM_ATTRIBUTE_OTHER = -1;\n\nexport const CADESCOM_STRING_TO_UCS2LE = 0;\nexport const CADESCOM_BASE64_TO_BINARY = 1;\n\nexport const CADESCOM_DISPLAY_DATA_NONE = 0;\nexport const CADESCOM_DISPLAY_DATA_CONTENT = 1;\nexport const CADESCOM_DISPLAY_DATA_ATTRIBUTE = 2;\n\nexport const CADESCOM_ENCRYPTION_ALGORITHM_RC2 = 0;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_RC4 = 1;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_DES = 2;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_3DES = 3;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_AES = 4;\nexport const CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89 = 25;\n\nexport const CADESCOM_HASH_ALGORITHM_SHA1 = 0;\nexport const CADESCOM_HASH_ALGORITHM_MD2 = 1;\nexport const CADESCOM_HASH_ALGORITHM_MD4 = 2;\nexport const CADESCOM_HASH_ALGORITHM_MD5 = 3;\nexport const CADESCOM_HASH_ALGORITHM_SHA_256 = 4;\nexport const CADESCOM_HASH_ALGORITHM_SHA_384 = 5;\nexport const CADESCOM_HASH_ALGORITHM_SHA_512 = 6;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411 = 100;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256 = 101;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512 = 102;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC = 110;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC = 111;\nexport const CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC = 112;\n\nexport const CADESCOM_AllowNone = 0;\nexport const CADESCOM_AllowNoOutstandingRequest = 0x1;\nexport const CADESCOM_AllowUntrustedCertificate = 0x2;\nexport const CADESCOM_AllowUntrustedRoot = 0x4;\nexport const CADESCOM_SkipInstallToStore = 0x10000000;\nexport const CADESCOM_InstallCertChainToContainer = 0x20000000;\nexport const CADESCOM_UseContainerStore = 0x40000000;\n\nexport const ENABLE_CARRIER_TYPE_CSP = 0x01;\nexport const ENABLE_CARRIER_TYPE_FKC_NO_SM = 0x02;\nexport const ENABLE_CARRIER_TYPE_FKC_SM = 0x04;\nexport const ENABLE_ANY_CARRIER_TYPE = 0x07;\n\nexport const DISABLE_EVERY_CARRIER_OPERATION = 0x00;\nexport const ENABLE_CARRIER_OPEN_ENUM = 0x01;\nexport const ENABLE_CARRIER_CREATE = 0x02;\nexport const ENABLE_ANY_OPERATION = 0x03;\n\nexport const CADESCOM_PRODUCT_CSP = 0;\nexport const CADESCOM_PRODUCT_OCSP = 1;\nexport const CADESCOM_PRODUCT_TSP = 2;\n\n/**\n * Тип медиа.\n * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_enum/cadescom_media_type\n */\nexport const enum CADESCOM_MEDIA_TYPE {\n  /**\n   * Реестр.\n   */\n  MEDIA_TYPE_REGISTRY = 0x00000001,\n\n  /**\n   * Жесткий диск.\n   */\n  MEDIA_TYPE_HDIMAGE = 0x00000002,\n\n  /**\n   * Облачный носитель.\n   */\n  MEDIA_TYPE_CLOUD = 0x00000004,\n\n  /**\n   * Смарт-карта или любое другое устройство с интерфейсом смарт-карты.\n   */\n  MEDIA_TYPE_SCARD = 0x00000008,\n}\n\nexport const XCN_CRYPT_STRING_BASE64HEADER = 0;\nexport const AT_KEYEXCHANGE = 1;\nexport const AT_SIGNATURE = 2;\n\nexport const CARRIER_FLAG_REMOVABLE = 1;\nexport const CARRIER_FLAG_UNIQUE = 2;\nexport const CARRIER_FLAG_PROTECTED = 4;\nexport const CARRIER_FLAG_FUNCTIONAL_CARRIER = 8;\nexport const CARRIER_FLAG_SECURE_MESSAGING = 16;\nexport const CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE = 64;\nexport const CARRIER_FLAG_VIRTUAL = 128;\n\n/**\n * OID (атрибут) сертификата.\n * The OID object represents an object identifier (OID) that is used by several CAPICOM properties.\n * @see https://docs.microsoft.com/en-us/windows/win32/seccrypto/oid\n */\nexport interface CAPICOM_OID {\n  readonly CAPICOM_OID_OTHER: 0;\n  readonly CAPICOM_OID_KEY_USAGE_EXTENSION: 10;\n  readonly CAPICOM_OID_AUTHORITY_KEY_IDENTIFIER_EXTENSION: 1;\n  readonly CAPICOM_OID_KEY_ATTRIBUTES_EXTENSION: 2;\n  readonly CAPICOM_OID_CERT_POLICIES_95_EXTENSION: 3;\n  readonly CAPICOM_OID_KEY_USAGE_RESTRICTION_EXTENSION: 4;\n  readonly CAPICOM_OID_LEGACY_POLICY_MAPPINGS_EXTENSION: 5;\n  readonly CAPICOM_OID_SUBJECT_ALT_NAME_EXTENSION: 6;\n  readonly CAPICOM_OID_ISSUER_ALT_NAME_EXTENSION: 7;\n  readonly CAPICOM_OID_BASIC_CONSTRAINTS_EXTENSION: 8;\n  readonly CAPICOM_OID_SUBJECT_KEY_IDENTIFIER_EXTENSION: 9;\n  readonly CAPICOM_OID_PRIVATEKEY_USAGE_PERIOD_EXTENSION: 11;\n  readonly CAPICOM_OID_SUBJECT_ALT_NAME2_EXTENSION: 12;\n  readonly CAPICOM_OID_ISSUER_ALT_NAME2_EXTENSION: 13;\n  readonly CAPICOM_OID_BASIC_CONSTRAINTS2_EXTENSION: 14;\n  readonly CAPICOM_OID_NAME_CONSTRAINTS_EXTENSION: 15;\n  readonly CAPICOM_OID_CRL_DIST_POINTS_EXTENSION: 16;\n  readonly CAPICOM_OID_CERT_POLICIES_EXTENSION: 17;\n  readonly CAPICOM_OID_POLICY_MAPPINGS_EXTENSION: 18;\n  readonly CAPICOM_OID_AUTHORITY_KEY_IDENTIFIER2_EXTENSION: 19;\n  readonly CAPICOM_OID_POLICY_CONSTRAINTS_EXTENSION: 20;\n  readonly CAPICOM_OID_ENHANCED_KEY_USAGE_EXTENSION: 21;\n  readonly CAPICOM_OID_CERTIFICATE_TEMPLATE_EXTENSION: 22;\n  readonly CAPICOM_OID_APPLICATION_CERT_POLICIES_EXTENSION: 23;\n  readonly CAPICOM_OID_APPLICATION_POLICY_MAPPINGS_EXTENSION: 24;\n  readonly CAPICOM_OID_APPLICATION_POLICY_CONSTRAINTS_EXTENSION: 25;\n  readonly CAPICOM_OID_AUTHORITY_INFO_ACCESS_EXTENSION: 26;\n  readonly CAPICOM_OID_SERVER_AUTH_EKU: 100;\n  readonly CAPICOM_OID_CLIENT_AUTH_EKU: 101;\n  readonly CAPICOM_OID_CODE_SIGNING_EKU: 102;\n  readonly CAPICOM_OID_EMAIL_PROTECTION_EKU: 103;\n  readonly CAPICOM_OID_IPSEC_END_SYSTEM_EKU: 104;\n  readonly CAPICOM_OID_IPSEC_TUNNEL_EKU: 105;\n  readonly CAPICOM_OID_IPSEC_USER_EKU: 106;\n  readonly CAPICOM_OID_TIME_STAMPING_EKU: 107;\n  readonly CAPICOM_OID_CTL_USAGE_SIGNING_EKU: 108;\n  readonly CAPICOM_OID_TIME_STAMP_SIGNING_EKU: 109;\n  readonly CAPICOM_OID_SERVER_GATED_CRYPTO_EKU: 110;\n  readonly CAPICOM_OID_ENCRYPTING_FILE_SYSTEM_EKU: 111;\n  readonly CAPICOM_OID_EFS_RECOVERY_EKU: 112;\n  readonly CAPICOM_OID_WHQL_CRYPTO_EKU: 113;\n  readonly CAPICOM_OID_NT5_CRYPTO_EKU: 114;\n  readonly CAPICOM_OID_OEM_WHQL_CRYPTO_EKU: 115;\n  readonly CAPICOM_OID_EMBEDED_NT_CRYPTO_EKU: 116;\n  readonly CAPICOM_OID_ROOT_LIST_SIGNER_EKU: 117;\n  readonly CAPICOM_OID_QUALIFIED_SUBORDINATION_EKU: 118;\n  readonly CAPICOM_OID_KEY_RECOVERY_EKU: 119;\n  readonly CAPICOM_OID_DIGITAL_RIGHTS_EKU: 120;\n  readonly CAPICOM_OID_LICENSES_EKU: 121;\n  readonly CAPICOM_OID_LICENSE_SERVER_EKU: 122;\n  readonly CAPICOM_OID_SMART_CARD_LOGON_EKU: 123;\n  readonly CAPICOM_OID_PKIX_POLICY_QUALIFIER_CPS: 124;\n  readonly CAPICOM_OID_PKIX_POLICY_QUALIFIER_USERNOTICE: 125;\n}\n\n/**\n * Список крипто-объектов для передачи в createObject, (cadesplugin|capicom).CreateObject|CreateObjectAsync()\n */\nexport const enum CRYPTO_OBJECTS {\n  /**\n   * Объект позволяющий взаимодействовать с хранилищем сертификатов.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/store\n   */\n  store = 'CAdESCOM.Store',\n\n  /**\n   * Объект задающий параметры создания и содержащий информацию об усовершенствованной подписи.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpsigner\n   */\n  signer = 'CAdESCOM.CPSigner',\n\n  /**\n   * Объект задающий способ подписания Xml файла.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/signedxml\n   */\n  signedXml = 'CAdESCOM.SignedXML',\n\n  /**\n   * Объект предоставляет свойства и методы для работы с подписанным документом XML.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/about\n   */\n  about = 'CAdESCOM.About',\n\n  /**\n   * Объект предоставляет функционал по усовершенствованной подписи.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cadessigneddata\n   */\n  signedData = 'CAdESCOM.CadesSignedData',\n\n  /**\n   * Объект предоставляет функционал по шифрованию/расшифровке сообщения.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpenvelopeddata\n   */\n  envelopedData = 'CAdESCOM.CPEnvelopedData',\n\n  /**\n   * Объект сертификат.\n   * @see https://docs.cryptopro.ru/cades/reference/cadescom/cadescom_class/cpcertificate\n   */\n  certificate = 'CAdESCOM.Certificate',\n}\n","/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Источники сертификатов (Где искать сертификаты?).\n */\nexport enum STORE_TYPE {\n  ALL = 'ALL',\n  USB_TOKEN = 'USB_TOKEN',\n  REGISTRY = 'REGISTRY',\n}\n","import { ICryptoProvider } from '../types';\n\n/**\n * Справочник типок криптопровайдеров, с которыми работает плагин (для проверки поддержки).\n */\nexport const CRYPTO_PROVIDERS: ICryptoProvider[] = [\n  {\n    ProviderType: 75,\n    ProviderName: 'Crypto-Pro GOST R 34.10-2001 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 80,\n    ProviderName: 'Crypto-Pro GOST R 34.10-2012 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 81,\n    ProviderName:\n      'Crypto-Pro GOST R 34.10-2012 Strong Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 2,\n    ProviderName: 'Infotecs Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 77,\n    ProviderName: 'Infotecs GOST 2012/512 Cryptographic Service Provider',\n  },\n  {\n    ProviderType: 78,\n    ProviderName: 'Infotecs GOST 2012/1024 Cryptographic Service Provider',\n  },\n].map((c) => ({\n  ProviderName: c.ProviderName,\n  ProviderType: c.ProviderType,\n}));\n\n/**\n * Криптопровайдер по-умолчанию.\n */\nexport const DEFAULT_CRYPTO_PROVIDER = {\n  Default: CRYPTO_PROVIDERS.find((t) => t.ProviderType === 80)!,\n  Fallback: CRYPTO_PROVIDERS.find((t) => t.ProviderType === 2)!,\n};\n\n/**\n * Криптопровайдеры VipNet.\n */\nexport const VIP_NET_CRYPTO_PROVIDER_TYPES = Object.freeze([2, 77, 78]);\n\n/**\n * Криптопровайдеры КриптоПРО.\n */\nexport const CRYPTO_PRO_CRYPTO_PROVIDER_TYPES = Object.freeze([75, 80, 81]);\n","/* eslint-disable @typescript-eslint/naming-convention */\n/**\n * Типы ГОСТовских алгоритмов.\n */\nexport enum GOST_KEY_ALGORITHM_TYPES {\n  /**\n   * Алгоритм ГОСТ Р 34.10-2012 для ключей длины 256 бит.\n   */\n  GOST_R3410_12_256 = '1.2.643.7.1.1.1.1',\n\n  /**\n   * Алгоритм ГОСТ Р 34.10-2012 для ключей длины 512 бит\n   */\n  GOST_R3410_12_512 = '1.2.643.7.1.1.1.2',\n}\n\n/**\n * OID ГОСТовских алгоритмов.\n */\nexport const GOST_KEY_ALGORITHM_OIDS: string[] = Object.values(\n  GOST_KEY_ALGORITHM_TYPES\n);\n\n/**\n * OID SubjectKeyId расширения в сертификате.\n */\nexport const subjectKeyIdExtensionOid = '2.5.29.14';\n\n/**\n * OID атрибутов сертификата.\n */\nexport const attributeOids = {\n  commonName: '2.5.4.3',\n  surname: '2.5.4.4',\n  name: '2.5.4.42',\n  country: '2.5.4.6',\n  locality: '2.5.4.7',\n  region: '2.5.4.8',\n  street: '2.5.4.9',\n  organisation: '2.5.4.10',\n  department: '2.5.4.11',\n  post: '2.5.4.12',\n  ogrnip: '1.2.643.100.5',\n  ogrn: '1.2.643.100.1',\n  snils: '1.2.643.100.3',\n  inn: '1.2.643.3.131.1.1',\n  innLe: '1.2.643.100.4',\n  email: '1.2.840.113549.1.9.1',\n};\n","/**\n * Список возможных ошибок при работе с API CryptoPro Browser Plugin.\n * Это ошибки могут быть как от криптопровайдера (CSP), так и от операционной системы пользователя.\n * Часть ошибок описана тут @see https://docs.cryptopro.ru/pki/introduction/dllerrors\n * @type {{code: string, message: string}[]}\n */\nexport const CRYPTO_PRO_ERRORS = Object.freeze([\n  {\n    code: '0x80090008',\n    message:\n      'Указан неверный алгоритм. Операционная система не смогла выполнить операцию, так как криптопровайдер не установлен или установлен некорректно. Для устранения ошибки рекомендуется переустановить сертификат и проверить привязку к закрытому ключу, если не поможет, то переустановить криптопровайдер.',\n    // original: 'Код ошибки: 0x80090008 (Указан неверный алгоритм)'\n  },\n  {\n    code: '0x80090017',\n    message:\n      'Криптопровайдер не установлен или установлен некорректно. Для устранения ошибки рекомендуется переустановить криптопровайдер.',\n  },\n  {\n    code: '0x8007064A',\n    message:\n      'Возможно криптопровайдер КриптоПро частично удален с рабочего места или установлена устаревшая версия. Для устранения ошибки рекомендуется установить версию КриптоПро 4.0 и выше.',\n    // original: 'Ошибка КриптоПро CSP Загрузка информации о лицензии Код ошибки: 0x8007064A (Данные настройки для этого продукта повреждены. Обратитесь в службу поддержки организации)'\n  },\n  {\n    code: '0x80090019',\n    message:\n      'Набор ключей не определен. Проверьте на корректность сертификат и убедитесь что на машине установлен необходимый для него криптопровайдер.',\n    // original: 'Код ошибки: 0x80090019 (Набор ключей не определен.)'\n    // возникает так же если не установлен на компе криптопро\n  },\n  {\n    code: '0x8007139F',\n    message:\n      'Внутренняя ошибка КриптоПро. Группа или ресурс не находятся в нужном состоянии для выполнения требуемой операции. Вероятно не работает TSP сервер (служба штампов времени).',\n  },\n  {\n    code: '0x80070002',\n    message:\n      'Внутренняя ошибка КриптоПро. Если вы подписываете с помощью усовершенствованной подписи, убедитесь что ваши версии TSP client и OCSP client имеют неограниченную лицензию.',\n  },\n  {\n    code: '0xc2110128',\n    message:\n      'Внутренняя ошибка КриптоПро. Не удалось получить статус отзыва ЭП. Попробуйте повторить операцию позднее.',\n  },\n  {\n    code: '0xC2100121',\n    message:\n      'Внутренняя ошибка КриптоПро. Не задан адрес службы штампов времени.',\n  },\n  {\n    code: '0xC2110121',\n    message: 'Внутренняя ошибка КриптоПро. Не задан адрес службы OCSP.',\n  },\n  {\n    code: '0x80090020',\n    message:\n      'Внутренняя ошибка КриптоПро. Убедитесь, что на машине установлен только один криптопровайдер во избежание конфликтов ПО.',\n  },\n  {\n    code: '0x800B010A',\n    message:\n      'Не установлен корневой сертификат. Произведите установку корневого сертификата Удостоверяющего Центра, выдавшего вашу электронную подпись.',\n  },\n  {\n    code: '0x800B0109',\n    message:\n      'Не установлен корневой сертификат. Произведите установку корневого сертификата Удостоверяющего Центра, выдавшего вашу электронную подпись.',\n  },\n  {\n    code: '0x8007065B',\n    message: 'Истекла лицензия КриптоПро CSP',\n  },\n  {\n    code: '0x80092004',\n    message:\n      'Не установлена связь с закрытым ключом, привяжите личный сертификат к закрытому ключу.',\n  },\n  {\n    code: '0x8009200B',\n    message: 'Закрытый ключ не найден.',\n  },\n  {\n    code: '0x8000FFFF', // обычно если USB токен не вставлен\n    message: 'Закрытый ключ не найден.',\n    // original: 'Код ошибки: 0x8000FFFF (Не удалось создать подпись из-за ошибки: Internal error)'\n  },\n  {\n    code: '0x80090016',\n    message: 'Закрытый ключ не найден.',\n    // original: 'Код ошибки: 0x80090016 (Набор ключей не существует)'\n  },\n  {\n    code: '0x8009000D',\n    message:\n      'Ключ не существует. Для устранения ошибки рекомендуемся переустановить сертификат с повторной привязкой к закрытому ключу.',\n    // original: 'Код ошибки: 0x8009000D (Ключ не существует.)'\n  },\n  {\n    code: '0x8009200C',\n    message:\n      'Не удалось найти закрытый ключ для расшифровки зашифрованного документа.',\n  },\n  {\n    code: '0xC2110126',\n    message: 'Сертификат отозван.',\n  },\n  {\n    code: '0x000004C7',\n    message:\n      'Операция отменена пользователем. Необходимо обновить страницу и предоставить доступ к криптопровайдеру.',\n  },\n  {\n    code: '0x800704C7',\n    message: 'Операция отменена пользователем.',\n  },\n  {\n    code: '0x8010006E',\n    message: 'Операция отменена пользователем.',\n  },\n  {\n    code: '0x800705B9',\n    message: 'Ошибка разбора XML файла. Документ имеет некорректный формат.',\n    // original: '0x800705B9: Windows was unable to parse the requested XML data. (0x800705B9)'\n  },\n  {\n    code: '0x80090010',\n    message: 'Срок действия требуемого сертификата истёк или ещё не наступил.',\n    // original: 'Отказано в доступе. (0x80090010)'\n  },\n  {\n    code: '0x800B0101',\n    message: 'Срок действия требуемого сертификата истёк или ещё не наступил.',\n    // original: 'Истек/не наступил срок действия требуемого сертификата при проверке по системным часам или по отметке времени в подписанном файле. (0x800B0101)'\n  },\n  {\n    code: '0x8010006C',\n    message:\n      'Доступ к сертификату заблокирован, так как исчерпано число попыток ввести правильный PIN-код.',\n    // original: 'The card cannot be accessed because the maximum number of PIN entry attempts has been reached. (0x8010006C)'\n  },\n]);\n\n/**\n * Список кастомных ошибок для различных ситуаций.\n */\nexport const PLUGIN_ERRORS = Object.freeze({\n  'CBP-0': 'Неизвестная ошибка при работе с КриптоПро ЭЦП Browser plug-in.',\n  'CBP-1': 'Не удалось инициализировать КриптоПро ЭЦП Browser plug-in.',\n  'CBP-2':\n    'Ошибка инициализации библиотеки для работы с КриптоПро ЭЦП Browser plug-in.',\n  'CBP-3':\n    'Используется устаревшая версия КриптоПро ЭЦП Browser Plug-in. Необходимо провести обновление до последней доступной версии.',\n  'CBP-4':\n    'Используется устаревшая версия КриптоПро CSP. Необходимо провести обновление до версии 4.0 и выше.',\n  'CBP-5': 'Ошибка формата данных.',\n  'CBP-6': 'Сертификат не прошёл проверку, использование невозможно.',\n  'CBP-7': 'Неверные входные параметры.',\n  'CBP-8': 'Не установлен ни один криптопровайдер.',\n  'CBP-9': 'Неизвестный алгоритм ключа.',\n  'CBP-10': 'Не удалось прочитать данные сертификата.',\n  'CBP-11': 'Потеряно соединение с КриптоПро ЭЦП Browser plug-in.',\n});\n\n/**\n * Список текстов ошибок у котороых нет кода ошибок.\n */\nexport const ERRORS_WITHOUT_CODE = Object.freeze({\n  'Lost connection to extension': 'CBP-11',\n});\n","import { Buffer } from 'buffer';\n\nimport { Certificate as x509Certificate } from 'pkijs';\nimport { fromBER } from 'asn1js';\n\nimport { Certificate } from '../Certificate';\nimport {\n  GOST_KEY_ALGORITHM_OIDS,\n  attributeOids,\n  subjectKeyIdExtensionOid,\n} from '../constants/oids-dictionary';\nimport { CryptoError } from '../errors';\n\nimport { bufferToHex } from './bufferToHex';\n\n/**\n * Получить данные из сертификата.\n * @param target Объект данных (issuer или subject).\n * @param attributeName Наименование извлекаемого атрибута.\n * @throws {CryptoError} в случае ошибки.\n * @returns Извлеченные данные.\n */\nfunction parseValue(target: any, attributeName: string): string {\n  if (!target) {\n    const errorMessage = `Не задан объект для извлечения атрибута ${attributeName}`;\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n\n  return target?.typesAndValues?.find(\n    ({ type }: { type: string }): boolean =>\n      type == attributeOids[attributeName]\n  )?.value?.valueBlock?.value;\n}\n\n/**\n * Нормализовать ИНН.\n * @param inn ИНН.\n * @returns нормализованный ИНН.\n * @example\n * in 004028031214, out 4028031214\n * in 402701356218, out 402701356218\n */\nfunction normalizeInn(inn: string | null): string | null {\n  return inn && inn.length == 12 && inn.startsWith('00')\n    ? inn.substring(2, 12)\n    : inn;\n}\n\n/**\n * Парсит данные сертификата.\n * @param certificate Сертификат.\n * @throws {CryptoError} в случае ошибки.\n */\nexport function parseCertificate(certificate: Certificate) {\n  if (!certificate.certificateBase64Data) {\n    const errorMessage = 'Не загружена открытая часть сертификата.';\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n\n  try {\n    const asn1 = fromBER(\n      new Uint8Array(Buffer.from(certificate.certificateBase64Data, 'base64'))\n        .buffer\n    );\n\n    const parsedCert = new x509Certificate({ schema: asn1.result });\n\n    const publishKeyAlgorithm =\n      parsedCert.subjectPublicKeyInfo.algorithm.algorithmId;\n    certificate.algorithm = publishKeyAlgorithm;\n    certificate.isGost = GOST_KEY_ALGORITHM_OIDS.includes(publishKeyAlgorithm);\n\n    const subjectKeyIdentifierExtension = parsedCert.extensions?.find(\n      ({ extnID }: { extnID: string }): boolean =>\n        extnID === subjectKeyIdExtensionOid\n    );\n    certificate.subjectKeyId = bufferToHex(\n      subjectKeyIdentifierExtension?.parsedValue?.valueBlock?.valueHex\n    );\n\n    Object.keys(certificate.issuer).forEach((key) => {\n      certificate.issuer[key] = parseValue(parsedCert.issuer, key);\n    });\n\n    Object.keys(certificate.subject).forEach((key) => {\n      certificate.subject[key] = parseValue(parsedCert.subject, key);\n    });\n\n    certificate.issuer.inn = normalizeInn(certificate.issuer.inn);\n    certificate.subject.innLe = normalizeInn(certificate.subject.innLe);\n    certificate.subject.inn = normalizeInn(certificate.subject.inn);\n\n    // TODO: здесь можно допарсить данные из открытой части сертификата\n  } catch (error) {\n    throw CryptoError.create(\n      'CBP-10',\n      'Не удалось распарсить данные сертификата.',\n      error\n    );\n  }\n}\n","/**\n * Конвертировать массив байт в строкове 16-ричное представление.\n * @param buffer массив байт.\n * @returns строка в 16-ричном представлении.\n */\nexport function bufferToHex(buffer: ArrayBuffer): string | null {\n  if (!buffer) {\n    return null;\n  }\n\n  let result = '';\n  const int8Buffer = new Uint8Array(buffer);\n\n  for (let i = 0; i < int8Buffer.length; i++) {\n    const str = int8Buffer[i].toString(16).toUpperCase();\n    result += (str.length === 1 ? '0' : '') + str;\n  }\n  return result.trim();\n}\n","import PluginConfig from '../PluginConfig';\n\n/**\n * Подготовить данные для логирования.\n * @param args данные.\n * @returns Объект готовый для логирования.\n */\nconst prepareArgs = (args: (string | any)[]): any[] => {\n  const context = '[cryptopro-cades]: ';\n\n  if (typeof args[0] == 'string') {\n    args[0] = context + args[0];\n  } else {\n    args.unshift(context);\n  }\n\n  return args;\n};\n\n/**\n * Логировать информацию (если включен Debug)\n * @param args\n */\nexport const outputDebug = (...args: (string | any)[]): void => {\n  if (PluginConfig.Debug) {\n    console.log(...prepareArgs(args));\n  }\n};\n\n/**\n * Логировать ошибку.\n * @param args параметры.\n */\nexport const outputError = (...args: (string | any)[]): void => {\n  const data = prepareArgs(args);\n\n  // первый элемент- контекст, второй и далее - объекты ошибки\n  const err = data.length === 2 ? data[1] : data.slice(1, data.length);\n\n  console.error({ err }, ...data); // логируем текст ошибки и прикрепляем саму ошибку.\n};\n","import { CryptoError } from './errors';\nimport { outputError } from './utils';\nimport { CRYPTO_PROVIDERS } from './constants';\nimport { ICryptoProvider } from './types';\n\n/**\n * Настройки плагина.\n */\nclass PluginConfig {\n  /**\n   * Список подписчиков возникающих ошибок в системе.\n   */\n  private errorListeners: ((error: CryptoError) => void)[] = [];\n\n  /**\n   * Функция для проверки (переопределения проверки) версии криптопровайдера.\n   * Если вернуть null, считаем что версия прошла проверку.\n   */\n  checkCspVersionFunc:\n    | ((cryptoProvider: ICryptoProvider) => string | null)\n    | null = null;\n\n  /**\n   * Выводить дебаг-информацию.\n   */\n  Debug: boolean = false;\n\n  /**\n   * Выводить дебаг информацию по криптопро плагину.\n   */\n  DebugCryptoProBrowserPlugin: boolean = false;\n\n  /**\n   * Проверять систему при инициализации.\n   */\n  CheckSystemSetup: boolean = true;\n\n  /**\n   * Список криптопровайдеров для проверки и работы.\n   */\n  CheckCryptoProviders: ICryptoProvider[] = CRYPTO_PROVIDERS;\n\n  /**\n   * Зарегистрировать подписчика ошибок.\n   * @param cb Функция обратного вызова.\n   * @remarks Подписчики ошибок будут вызваны в обратном порядке.\n   */\n  public addErrorListener(cb: (error: CryptoError) => void) {\n    this.errorListeners.unshift(cb);\n  }\n\n  /**\n   * Уведомить подписчиков об ошибке.\n   * @param error Ошибка.\n   */\n  public notifyError(error: CryptoError) {\n    this.errorListeners.forEach((cb) => cb(error));\n  }\n}\n\nconst pluginConfig = new PluginConfig();\n\n/**\n * Функция логирования всех возникающих ошибок.\n * @param error Ошибка.\n */\nconst logErrorWhenInDebug = (error: CryptoError): void => {\n  if (pluginConfig.Debug && error) {\n    const errors = [];\n    let err: any = error;\n    while (err != null) {\n      errors.push(err);\n      if (err instanceof CryptoError) {\n        err = err.InnerError;\n      } else {\n        err = null;\n      }\n    }\n\n    if (errors?.length) {\n      outputError('Ошибка >>', errors);\n    }\n  }\n};\n\npluginConfig.addErrorListener(logErrorWhenInDebug);\n\nexport { pluginConfig };\nexport default pluginConfig;\n","import { getLastError } from '../api/getLastError';\nimport { IAnyError, ICryptoError, IErrorObject } from '../types';\n\nimport {\n  CRYPTO_PRO_ERRORS,\n  ERRORS_WITHOUT_CODE,\n  PLUGIN_ERRORS,\n} from './errorCodes';\nimport PluginConfig from './../PluginConfig';\n\n/**\n * Описывает ошибку криптографического модуля.\n *\n *  @example\n *  try{...}\n *  catch(err){\n *    throw CryptoError.createCadesError(err, \"Ошибка инициализации контейнера\")\n *  }\n *\n * @class feature/crypto/CryptoError\n * @extends Error\n */\nexport class CryptoError extends Error implements ICryptoError {\n  /**\n   * Исходный объект ошибки.\n   */\n  public InnerError: IErrorObject | null;\n\n  /**\n   * Правило для выяснения типа ошибки (источника ошибки).\n   */\n  private static _RULE_MATCHING_CODE: RegExp =\n    /^(.*?)(?:(?:\\.?\\s?\\(?0x)|(?:\\.?$))/;\n\n  /**\n   * Код ошибки. Максимальная длина 16 символов.\n   * Для идентификации также смотрите @see #title @see #type.\n   */\n  code: string = '';\n\n  /**\n   * Название ошибки (Основной/короткий текст ошибки).\n   * По нему можно идентифицировать ошибку для изменения #message согласно\n   *  требованиям системы.\n   */\n  title: string = '';\n\n  /**\n   * Текст сообщения об ошибке. Для пользователя.\n   */\n  message: string = '';\n\n  /**\n   * Тип ошибки (обычный - Error, от CAdESCOM plugin - CAdES,...)\n   */\n  type: string = 'Error';\n\n  /**\n   * Унаследовано от родительского класса Error.\n   */\n  name: string = '';\n\n  /**\n   * Приватный конструктор. Для создания экземпляра используйте статические методы @createCadesError и @create\n   * @param err Объект ошибки.\n   */\n  private constructor(err: IErrorObject | null) {\n    super(err?.message);\n    this.InnerError = err;\n    this.message = err?.message;\n    Object.setPrototypeOf(this, CryptoError.prototype);\n  }\n\n  /**\n   * Формирует текстовое представление ошибки в формате Код ошибки: Сообщение для пользователя\n   * @returns\n   */\n  toString() {\n    return [this.code, this.message].filter(Boolean).join(': ');\n  }\n\n  /**\n   * Создает ошибку на основе ошибки от CryptoPro Browser Plugin.\n   * @param err Объект ошибки.\n   * @param title Описание ошибки (не показывается пользователю)\n   * @returns {CryptoError} Объект ошибки криптографического модуля.\n   */\n  public static createCadesError(\n    err: IErrorObject,\n    title: string\n  ): CryptoError {\n    const cryptoError = new CryptoError(err);\n\n    err = err as IAnyError;\n    const errCode = ERRORS_WITHOUT_CODE[err.message];\n\n    if (errCode) {\n      err.code = errCode;\n    }\n\n    cryptoError.code = err.code ?? CryptoError._extractCode(err);\n    if (typeof cryptoError.code === 'string' && cryptoError.code.length > 16) {\n      cryptoError.code = '';\n    }\n\n    let extractedMsg = '';\n    if (err.message) {\n      extractedMsg = cryptoError._extractMessage(err);\n    }\n    cryptoError.title = title ?? err.message ?? extractedMsg;\n    cryptoError.type = err.type ?? 'CAdES';\n    cryptoError.type += ' < @astral/cades-plugin';\n    cryptoError.message =\n      CRYPTO_PRO_ERRORS.find((res) => res.code == cryptoError.code)?.message ??\n      PLUGIN_ERRORS[cryptoError.code] ??\n      extractedMsg ??\n      err.message;\n\n    PluginConfig.notifyError(cryptoError);\n\n    return cryptoError;\n  }\n\n  /**\n   * Создает формализованную ошибку криптографического модуля с указанным кодом ошибки.\n   * @param errorCode Объект ошибки.\n   * @param title Описание ошибки (не показывается пользователю).\n   * @param err Объект ошибки.\n   * @param overrideMessage Текст ошибки который будет указан вместо стандартного из справочника.\n   * @returns {CryptoError} Объект ошибки криптографического модуля.\n   */\n  public static create(\n    errorCode: keyof typeof PLUGIN_ERRORS,\n    title: string,\n    err: IErrorObject | null,\n    overrideMessage?: string\n  ): CryptoError {\n    const cryptoError = new CryptoError(err);\n    cryptoError.InnerError = err;\n    cryptoError.type = 'Error';\n    cryptoError.code = errorCode;\n    cryptoError.title = title; // не показываем пользователю\n    cryptoError.message = overrideMessage ?? PLUGIN_ERRORS[cryptoError.code];\n\n    PluginConfig.notifyError(cryptoError);\n\n    return cryptoError;\n  }\n\n  /**\n   * Извлекаем код ошибки плагина (если это ошибка крипты).\n   * @param {Error} err - объект ошибки.\n   * @returns {number|string} .\n   * @private\n   */\n  private static _extractCode(err: IErrorObject): number | string {\n    const result =\n      (err.message?.match(/\\(?0x.{2,8}\\)?/) ||\n        err.message?.match(CryptoError._RULE_MATCHING_CODE) ||\n        [])[0] || '';\n    return result.replace(/[()]/g, '').trim();\n  }\n\n  /**\n   * Выдираем из объекта Ошибки сообщение.\n   * @param {string|Error} err - объект ошибки, откуда вытащить собщение.\n   * @returns {*|string} .\n   * @private\n   */\n  private _extractMessage(err: IErrorObject): string | any {\n    const fullErrorData = getLastError(err);\n\n    return (fullErrorData?.message || err.message || '')\n      .replace(`(${this.code})`, '')\n      .trim();\n  }\n}\n","import { IAnyError, ICryptoError } from '../types';\n\n/**\n * Возвращает строку с описанием ошибки из исключения, порождённого плагином.\n * Для Firefox данный метод является единственным способом получения кода ошибки и её текстового описания от плагина.\n * @param {Error} error - ошибка, по которой нужно получить информацию.\n * @returns {Error | undefined} объект ошибки, если имеется.\n */\nexport function getLastError(\n  error: ICryptoError | Error | IAnyError\n): Error | undefined {\n  return window.cadesplugin?.getLastError(error);\n}\n","/**\n * Проверка доступности асинхронной функциональности.\n * @returns {boolean} true, если нужно выполнять асинхронно.\n */\nexport function canAsync(): boolean {\n  // !!window.Promise || !!Iterator\n  return !!window.cadesplugin?.CreateObjectAsync;\n}\n","import { WithOptionalPromise } from '../../types';\n\nimport { canAsync } from './canAsync';\n\n/**\n * Функция убирающая обёртку WithOptionalPromise<T> при необходимости.\n * @param optionalPromise Тип с опциональным промисом.\n * @returns {Promise<T>} Промис возвращающий реальное значение.\n */\nexport function unwrap<T>(optionalPromise: WithOptionalPromise<T>): Promise<T> {\n  if (canAsync() && optionalPromise instanceof Promise) {\n    return optionalPromise;\n  } else {\n    return Promise.resolve(optionalPromise);\n  }\n}\n","import { unwrap } from './api/internal/unwrap';\nimport { CAPICOM_ENCODING_TYPE } from './constants';\nimport { CryptoError } from './errors';\nimport { ICertificate } from './types';\nimport { parseCertificate } from './utils/certificateParser';\n\n/**\n * Класс объекта Сертификата для удобной работы.\n * !!! НЕ является имплементацией @see ICertificate (к-ый является интерфейсом Крипто системы ОС).\n * @class Certificate\n */\nexport class Certificate {\n  /**\n   * Данные о владельце сертификата.\n   * @remarks названия полей должны совпадать с @attributeOids в oids-dictionary.ts\n   */\n  subject: {\n    commonName: string | null;\n    surname: string | null;\n    name: string | null;\n    country: string | null;\n    region: string | null;\n    locality: string | null;\n    street: string | null;\n    organization: string | null;\n    department: string | null;\n    post: string | null;\n    ogrnip: string | null;\n    ogrn: string | null;\n    snils: string | null;\n    innLe: string | null;\n    inn: string | null;\n    email: string | null;\n  } = {\n    commonName: null,\n    surname: null,\n    name: null,\n    country: null,\n    region: null,\n    locality: null,\n    street: null,\n    organization: null,\n    department: null,\n    post: null,\n    ogrnip: null,\n    ogrn: null,\n    snils: null,\n    innLe: null,\n    inn: null,\n    email: null,\n  };\n\n  /**\n   * Данные об издателе сертификата.\n   * @remarks названия полей должны совпадать с @attributeOids в oids-dictionary.ts\n   */\n  issuer: {\n    commonName: string | null;\n    inn: string | null;\n    innLe: string | null;\n  } = {\n    commonName: null,\n    inn: null,\n    innLe: null,\n  };\n\n  /**\n   *  Отпечаток сертификата (хэш SHA-1).\n   * @property {string|null}\n   */\n  thumbprint: string | null = null;\n\n  /**\n   *  Дата-время с которого сертификат вступает в силу.\n   * @property {Date|null}\n   */\n  notBefore: Date | null = null;\n\n  /**\n   * Дата-время до которого сертификат действует.\n   * @property {Date|null}\n   */\n  notAfter: Date | null = null;\n\n  /**\n   * Имя владельца сертификата.\n   * @property {string|null}\n   */\n  subjectName: string | null = null;\n\n  /**\n   *  Идентификатор субъекта сертификата.\n   * @property {string|null}\n   */\n  subjectKeyId: string | null = null;\n\n  /**\n   * Base64 строка открытой части сертификата.\n   * @property {string|null}\n   */\n  certificateBase64Data: string | null = null;\n\n  /**\n   * Исходный сертификат из плагина.\n   * @property {ICertificate|null}\n   */\n  certificateBin: ICertificate | null = null;\n\n  /**\n   * Имя криптопровайдера.\n   * @property {string|null}\n   */\n  providerName: string | null = null;\n\n  /**\n   * Тип криптопровайдера.\n   * @property {number|null}\n   */\n  providerType: number | null = null;\n\n  /**\n   * Есть ли закрытый ключ.\n   * @property {boolean}\n   */\n  hasPrivateKey: boolean = false;\n\n  /**\n   * Гостовский ключ или нет.\n   */\n  isGost: boolean = false;\n\n  /**\n   * OID алгоритма ключа.\n   */\n  algorithm: string | null = null;\n\n  /**\n   * Приватный конструктор.\n   * @param cfg сертификат из @see IStore.\n   */\n  private constructor(cfg: ICertificate) {\n    this.certificateBin = cfg;\n  }\n\n  /**\n   * Распарсить сертификат из исходного объекта.\n   * @param {ICertificate} cert исходный сертификат.\n   * @throws {CryptoError} в случае ошибки.\n   * @returns {Promise<Certificate>} распрасенный сертификат.\n   */\n  public static async CreateFrom(cert: ICertificate): Promise<Certificate> {\n    if (!cert) {\n      const errorMessage = 'Не указаны данные исходного сертификата.';\n      throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n    }\n    if (cert instanceof Certificate) {\n      return cert;\n    }\n    const certificate = new Certificate(cert);\n\n    certificate.subjectName = await unwrap(cert.SubjectName);\n    certificate.thumbprint = await unwrap(cert.Thumbprint);\n    certificate.notAfter = await unwrap(cert.ValidToDate);\n    certificate.notBefore = await unwrap(cert.ValidFromDate);\n    certificate.certificateBase64Data = await unwrap(\n      cert.Export(CAPICOM_ENCODING_TYPE.CAPICOM_ENCODE_BASE64)\n    );\n    try {\n      certificate.hasPrivateKey = await unwrap(cert.HasPrivateKey());\n      const oPrivateKey = await unwrap(cert.PrivateKey);\n      certificate.providerName = await unwrap(oPrivateKey.ProviderName);\n      certificate.providerType = await unwrap(oPrivateKey.ProviderType);\n    } catch (error) {\n      // ошибка не критична, просто создаем ошибку (в дебаге оно залогируется само)\n      CryptoError.createCadesError(\n        error,\n        `Ошибка получения информации о приватном ключе сертификата ${certificate.thumbprint}.`\n      );\n      certificate.hasPrivateKey = false;\n    }\n\n    parseCertificate(certificate);\n\n    return certificate;\n  }\n}\n","import { CRYPTO_OBJECTS } from '../constants';\nimport { IAbout, ICryptoProvider, IVersion } from '../types';\nimport { outputDebug } from '../utils';\nimport pluginConfig from '../PluginConfig';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Кэш из запрошенных сертификатов.\n */\nlet cryptoProvidersCache: ICryptoProvider[] | null;\n\n/**\n * Получить список криптопровайдеров.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<ICryptoProvider[]>} Bнформация о типе, наименовании и версии криптопровайдеров.\n */\nexport function getCryptoProviders(\n  resetCache: boolean = false\n): Promise<ICryptoProvider[]> {\n  if (cryptoProvidersCache && !resetCache) {\n    return Promise.resolve(cryptoProvidersCache);\n  }\n\n  return afterPluginLoaded(async () => {\n    if (cryptoProvidersCache && !resetCache) {\n      return Promise.resolve(cryptoProvidersCache);\n    }\n    const availableCryptoProviders: ICryptoProvider[] = [];\n    const logData = [];\n    try {\n      for (const {\n        ProviderType,\n        ProviderName,\n      } of pluginConfig.CheckCryptoProviders) {\n        try {\n          const cadesAbout: IAbout = await createObject(CRYPTO_OBJECTS.about);\n          const cspVersion: IVersion = await unwrap(\n            cadesAbout.CSPVersion(ProviderName, ProviderType)\n          );\n          availableCryptoProviders.push({\n            ProviderName: ProviderName,\n            ProviderType: ProviderType,\n            BuildVersion: await unwrap(cspVersion.BuildVersion),\n            MajorVersion: await unwrap(cspVersion.MajorVersion),\n            MinorVersion: await unwrap(cspVersion.MinorVersion),\n          });\n        } catch (error) {\n          logData.push({\n            errorMessage: `Ошибка получения информации о криптопровайдере ${ProviderName} с типом ${ProviderType}.`,\n            error,\n          });\n        }\n      }\n      return (cryptoProvidersCache = availableCryptoProviders);\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ availableCryptoProviders });\n      outputDebug('getCryptoProviders >>', logData);\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { canAsync } from './internal/canAsync';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Создание криптографического объекта.\n * @see https://docs.cryptopro.ru/cades/plugin/plugin-activation\n * @param {string} objectIdentifier. наименование создаваемого объекта. Объекты указываются в @see CRYPTO_OBJECTS.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<object|null|undefined>} Созданный объект.\n */\nexport function createObject(objectIdentifier: string): Promise<any | never> {\n  return afterPluginLoaded(async () => {\n    if (!objectIdentifier) {\n      throw CryptoError.create(\n        'CBP-7',\n        'Не указан идентификатор объекта',\n        null\n      );\n    }\n    try {\n      const object = canAsync()\n        ? window.cadesplugin.CreateObjectAsync(objectIdentifier)\n        : window.cadesplugin.CreateObject(objectIdentifier);\n\n      return await unwrap(object);\n    } catch (error) {\n      throw CryptoError.createCadesError(\n        error,\n        `Ошибка при создании объекта ${objectIdentifier}`\n      );\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\nimport {\n  CRYPTO_OBJECTS,\n  CRYPTO_PRO_CRYPTO_PROVIDER_TYPES,\n  DEFAULT_CRYPTO_PROVIDER,\n  VIP_NET_CRYPTO_PROVIDER_TYPES,\n} from '../constants';\nimport { outputDebug } from '../utils';\nimport { IAbout, ISystemInfo } from '../types';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { getCryptoProviders } from './getCryptoProviders';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Кэш информации о системе.\n */\nlet systemInfoCache: ISystemInfo | null = null;\n\n/**\n * Предоставляет информацию о системе.\n *\n * @returns информацию о CSP и плагине.\n */\nexport const getSystemInfo = (): Promise<ISystemInfo> => {\n  if (systemInfoCache) {\n    return Promise.resolve(systemInfoCache);\n  }\n\n  return afterPluginLoaded(async () => {\n    if (systemInfoCache) {\n      return Promise.resolve(systemInfoCache);\n    }\n    const sysInfo: ISystemInfo = {\n      cadesVersion: '',\n      cspVersion: null,\n      cryptoProInstalled: false,\n      vipNetInstalled: false,\n      cryptoProviderName: null,\n    };\n    const logData = [];\n    try {\n      const cadesAbout: IAbout = await createObject(CRYPTO_OBJECTS.about);\n\n      for (const cryptoProvider of await getCryptoProviders()) {\n        if (\n          VIP_NET_CRYPTO_PROVIDER_TYPES.includes(cryptoProvider.ProviderType)\n        ) {\n          sysInfo.vipNetInstalled = true;\n          sysInfo.cryptoProviderName =\n            DEFAULT_CRYPTO_PROVIDER.Fallback.ProviderName;\n          sysInfo.cspVersion =\n            cryptoProvider.MajorVersion + '.' + cryptoProvider.MinorVersion;\n        }\n        if (\n          CRYPTO_PRO_CRYPTO_PROVIDER_TYPES.includes(cryptoProvider.ProviderType)\n        ) {\n          sysInfo.cryptoProInstalled = true;\n          sysInfo.cryptoProviderName =\n            DEFAULT_CRYPTO_PROVIDER.Default.ProviderName;\n          sysInfo.cspVersion =\n            cryptoProvider.MajorVersion +\n            '.' +\n            cryptoProvider.MinorVersion +\n            '.' +\n            cryptoProvider.BuildVersion;\n        }\n      }\n\n      try {\n        const pluginVersion = await unwrap(cadesAbout.PluginVersion);\n\n        if (pluginVersion) {\n          sysInfo.cadesVersion = await unwrap(pluginVersion.toString());\n        }\n        if (!sysInfo.cadesVersion) {\n          sysInfo.cadesVersion = await unwrap(cadesAbout.Version);\n        }\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при получении информации о системе'\n        );\n      }\n\n      return (systemInfoCache = sysInfo);\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ sysInfo });\n      outputDebug('getSystemInfo >>', logData);\n    }\n  })();\n};\n","import {\n  CRYPTO_PRO_CRYPTO_PROVIDER_TYPES,\n  VIP_NET_CRYPTO_PROVIDER_TYPES,\n} from '../../constants';\nimport { getCryptoProviders } from '../getCryptoProviders';\nimport { pluginConfig } from '../../PluginConfig';\nimport { CryptoError } from '../../errors';\nimport { getSystemInfo } from '../getSystemInfo';\n\nconst oldestSupportedCryptoProCSPVersion = 4;\nconst oldestSupportedVipnetCSPVersion = 4.4;\n\n/**\n * В данный момент имеется версия не меньше указанной версия Крипто-Провайдера.\n * @throws {CryptoError} в случае ошибки.\n * @returns {boolean} true, если поддерживается.\n */\nexport const checkIsSupportedCSPVersion = async (): Promise<void> => {\n  const systemInfo = await getSystemInfo();\n  const cryptoProviders = await getCryptoProviders();\n\n  let haveValidCryptoProCSPVersion = false;\n  let haveValidVipNetCSPVersion = false;\n\n  if (pluginConfig.checkCspVersionFunc) {\n    for (const cryptoProvider of cryptoProviders) {\n      if (\n        pluginConfig.CheckCryptoProviders.find(\n          (cp) =>\n            cp.ProviderType === cryptoProvider.ProviderType &&\n            cp.ProviderName === cryptoProvider.ProviderName\n        )\n      ) {\n        const errorMessage = pluginConfig.checkCspVersionFunc(cryptoProvider);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-4',\n            'Не поддерживаемая версия CSP',\n            null,\n            errorMessage\n          );\n        }\n      }\n    }\n  } else {\n    if (systemInfo.cryptoProInstalled) {\n      const cryptoProCSP = cryptoProviders.find((cp) =>\n        CRYPTO_PRO_CRYPTO_PROVIDER_TYPES.includes(cp.ProviderType)\n      );\n\n      if (\n        cryptoProCSP?.MajorVersion &&\n        cryptoProCSP?.MajorVersion >= oldestSupportedCryptoProCSPVersion\n      ) {\n        haveValidCryptoProCSPVersion = true;\n      }\n    }\n\n    if (systemInfo.vipNetInstalled) {\n      const vipNetCSP = cryptoProviders.find((cp) =>\n        VIP_NET_CRYPTO_PROVIDER_TYPES.includes(cp.ProviderType)\n      );\n\n      if (vipNetCSP?.MajorVersion) {\n        const version = parseFloat(\n          vipNetCSP?.MajorVersion + '.' + vipNetCSP?.MinorVersion\n        );\n\n        haveValidVipNetCSPVersion = version >= oldestSupportedVipnetCSPVersion;\n      }\n    }\n\n    if (!(haveValidVipNetCSPVersion || haveValidCryptoProCSPVersion)) {\n      throw CryptoError.create('CBP-4', 'Не поддерживаемая версия CSP', null);\n    }\n  }\n};\n","/**\n * В данный момент имеется версия не меньше указанной версия CAdESCOM Плагина.\n * @param {string} version полная версия Плагина для сверки.\n * @returns {boolean} .\n */\nexport function isSupportedCadesVersion(version: string): boolean {\n  const match = version.match(/(\\d+)\\.(\\d+)\\.(\\d+)/);\n\n  if (!match) {\n    return false;\n  }\n\n  let [, major, minor, patch] = match;\n  // @ts-ignore\n  major = parseInt(major);\n  // @ts-ignore\n  minor = parseInt(minor);\n  // @ts-ignore\n  patch = parseInt(patch);\n\n  return (\n    // @ts-ignore\n    major > 2 ||\n    !(parseInt(major) === 2 && parseInt(minor) === 0 && parseInt(patch) < 13292)\n  );\n}\n","import { CryptoError } from '../errors';\nimport { ISystemInfo } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { getSystemInfo } from './getSystemInfo';\nimport { checkIsSupportedCSPVersion } from './internal/checkIsSupportedCSPVersion';\nimport { isSupportedCadesVersion } from './internal/isSupportedCadesVersion';\n\n/**\n * Проверяет корректность настроек ЭП на машине.\n * @throws {CryptoError} в случае обнаружения ошибок, если не установлен криптопровайдер или версия не поддерживается.\n */\nexport const checkIsValidSystemSetup = async (): Promise<void> => {\n  let systemInfo: ISystemInfo | null = null;\n  const logData = [];\n  try {\n    try {\n      systemInfo = await getSystemInfo();\n    } catch (error) {\n      throw CryptoError.createCadesError(\n        error,\n        'Настройки ЭП на данной машине не верны'\n      );\n    }\n\n    if (!isSupportedCadesVersion(systemInfo.cadesVersion)) {\n      throw CryptoError.create(\n        'CBP-3',\n        'Не поддерживаемая версия плагина.',\n        null\n      );\n    }\n\n    if (!(systemInfo.cryptoProInstalled || systemInfo.vipNetInstalled)) {\n      throw CryptoError.create(\n        'CBP-8',\n        'Не установлен ни один криптопровайдер.',\n        null\n      );\n    }\n\n    await checkIsSupportedCSPVersion();\n  } catch (error) {\n    logData.push({ error });\n    throw error;\n  } finally {\n    outputDebug(\n      'checkIsValidSystemSetup >>',\n      logData.length === 0 ? 'ok' : logData\n    );\n  }\n};\n","import { checkIsValidSystemSetup } from '../checkIsValidSystemSetup';\n\nimport { CryptoError } from './../../errors';\nimport PluginConfig from './../../PluginConfig';\n\n/**\n * Сохранение статуса во избежание повторных инициализаций.\n */\nlet isPluginReady: boolean = false;\n\n/**\n * Обёртка для подготовки плагина перед вызовом функциональности.\n * @param {Function|Promise} cb - функция обратного вызова.\n * @returns {Promise} .функция ожидания.\n */\nexport function afterPluginLoaded(\n  cb: Function\n): (...args: any) => Promise<any> {\n  return async (...args) => {\n    const isAlreadyLoaded = isPluginReady;\n    if (!isPluginReady) {\n      try {\n        // eslint-disable-next-line import/extensions\n        require('./../../vendor/cadesplugin_api.js');\n      } catch (err) {\n        throw CryptoError.create(\n          'CBP-2',\n          'Ошибка загрузки библиотеки cadesplugin.js',\n          err\n        );\n      }\n\n      isPluginReady = true;\n    }\n\n    if (!window.cadesplugin) {\n      throw CryptoError.create(\n        'CBP-1',\n        'Не инициализирован модуль для работы с cadesplugin',\n        null\n      );\n    }\n\n    try {\n      if (window.cadesplugin instanceof Promise) {\n        await window.cadesplugin;\n      }\n    } catch (err) {\n      throw CryptoError.create(\n        'CBP-1',\n        'Ошибка при инициализации модуля для работы с cadesplugin',\n        err\n      );\n    }\n\n    if (PluginConfig.DebugCryptoProBrowserPlugin) {\n      window.cadesplugin.set_log_level(window.cadesplugin.LOG_LEVEL_DEBUG);\n    }\n\n    // для исключения зацикливания, проверку валидности системы делаем единожды.\n    if (PluginConfig.CheckSystemSetup && !isAlreadyLoaded) {\n      await checkIsValidSystemSetup();\n    }\n\n    const callbackResult = cb.apply(null, args);\n\n    if (callbackResult instanceof Promise) {\n      await callbackResult;\n    }\n\n    return callbackResult;\n  };\n}\n","import { CryptoError } from '../../errors';\n\nimport { canAsync } from './canAsync';\n\n/**\n * описываем структуру параметр OBJ функции ниже.\n * интерфейс ради интерфейса >_<\n */\ninterface ICryptoObject {\n  [key: string]: any;\n}\n\n/**\n * Устанавливаем значение в указанное свойство переданного объекта.\n * @param {object} obj - объект-цель.\n * @param {string} key - имя свойства.\n * @param {*} value - значение для свойства.\n * @returns {void} .\n */\nexport async function setCryptoProperty(\n  obj: ICryptoObject,\n  key: string,\n  value: any\n): Promise<void> {\n  try {\n    if (canAsync()) {\n      const res = obj[`propset_${key}`](value);\n\n      if (res instanceof Promise) {\n        await res;\n      }\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = value;\n    }\n  } catch (err) {\n    throw CryptoError.createCadesError(\n      err,\n      `Не удалось установить значение в поле ${key}`\n    );\n  }\n}\n","import { Certificate } from '../Certificate';\nimport { ICertificate } from '../types';\n\n/**\n * Валидация сертификата.\n *\n *  @example\n *  validateCertificate(cert, async (cert) => await (await cert.IsValid()).Result)\n *\n * @param {ICertificate|Certificate} certificate - собственно сертификат.\n * @param {Function} customValidationFunc - иные условия валидации сертификата.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string|null>} .null, если сертификат валиден.\n */\nexport async function validateCertificate(\n  certificate: Certificate | ICertificate,\n  customValidationFunc?: (\n    cert: Certificate | ICertificate\n  ) => Promise<string | null>\n): Promise<string | null> {\n  let result: string | null = null;\n  const cert: Certificate =\n    certificate instanceof Certificate\n      ? certificate\n      : // парсим если пришло сырое\n        await Certificate.CreateFrom(certificate);\n\n  if (customValidationFunc) {\n    result = await customValidationFunc(cert);\n  } else {\n    const errors = [];\n    if (!cert.hasPrivateKey) {\n      errors.push('закрытый ключ недоступен');\n    }\n    const now = new Date();\n    if (cert.notAfter && now < cert.notAfter) {\n      errors.push('истёк срок его действия');\n    }\n    if (cert.notBefore && now > cert.notBefore) {\n      errors.push('срок действия не наступил');\n    }\n    if (!cert.isGost) {\n      errors.push('алгоритмы ГОСТ не поддерживаются');\n    }\n\n    if (errors.length) {\n      result = 'Сертификат не прошел проверки: ' + errors.join(', ');\n    }\n  }\n\n  return result;\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_BASE64_TO_BINARY,\n  CADESCOM_CADES_TYPE,\n  CAPICOM_CERTIFICATE_INCLUDE_OPTION,\n  CRYPTO_OBJECTS,\n} from '../constants';\nimport { CPSigner, CadesSignedData, ICertificate } from '../types';\nimport { Certificate } from '../Certificate';\nimport { outputDebug } from '../utils';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { validateCertificate } from './validateCertificate';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Подписать входные данные указанным сертификатом в формате CMS.\n * @param {ICertificate | Certificate} certificate -сертификат пользователя.\n * @param {ArrayBuffer | string} data -входные данные для подписи в формате Base64 или ArrayBuffer.\n * @param {boolean} [detach=true] присоединять подпись к данным или отдельно?\n * @param {boolean} [includeCertChain=true] - включать в результат всю цепочку сертификатов.\n * @param {boolean} [doNotValidate=false] - не проводить валидацию сертификатов.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} файл подписи в кодировке Base64.\n */\nexport function sign(\n  certificate: ICertificate | Certificate,\n  data: ArrayBuffer | string,\n  detach: boolean = true,\n  includeCertChain: boolean = true,\n  doNotValidate: boolean = false\n): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({\n      certificate,\n      data,\n      detach,\n      includeCertChain,\n      doNotValidate,\n    });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для подписания.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n      if (!certificate) {\n        const errorMessage =\n          'Не указан сертификат для вычисления электронной подписи.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      let cert: ICertificate | null = null;\n      if (certificate instanceof Certificate) {\n        cert = certificate?.certificateBin;\n      } else {\n        cert = certificate;\n      }\n\n      if (!doNotValidate && !!cert) {\n        const errorMessage = await validateCertificate(cert);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-6',\n            'Сертификат не прошел проверку при подписи.',\n            null,\n            errorMessage\n          );\n        }\n      }\n\n      const signer: CPSigner = await createObject(CRYPTO_OBJECTS.signer);\n      const signedData: CadesSignedData = await createObject(\n        CRYPTO_OBJECTS.signedData\n      );\n\n      // заполнение параметров для подписи\n      try {\n        await setCryptoProperty(signer, 'Certificate', cert);\n        if (includeCertChain) {\n          await setCryptoProperty(\n            signer,\n            'Options',\n            CAPICOM_CERTIFICATE_INCLUDE_OPTION.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN\n          );\n        }\n\n        await setCryptoProperty(\n          signedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        await setCryptoProperty(signedData, 'Content', base64String);\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при заполнении параметров подписания.'\n        );\n      }\n\n      try {\n        const signResult = await unwrap(\n          signedData.SignCades(\n            signer,\n            CADESCOM_CADES_TYPE.CADESCOM_CADES_BES,\n            detach\n          )\n        );\n\n        logData.push({ signResult });\n\n        return signResult;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при вычислении электронной подписи.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('sign >>', logData);\n    }\n  })();\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_XML_SIGNATURE_TYPE,\n  CRYPTO_OBJECTS,\n  GOST_KEY_ALGORITHM_TYPES,\n  XML_SIGNATURE_GOST_ALGORITHM_TYPE,\n} from '../constants';\nimport { CPSigner, ICertificate, ISignedXml } from '../types';\nimport { Certificate } from '../Certificate';\nimport { outputDebug } from '../utils';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { createObject } from './createObject';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { validateCertificate } from './validateCertificate';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Получить алгоритм вычисления подписи для Xml.\n * @param {Certificate} certificate сертификат.\n * @throws {CryptoError} в случае ошибки.\n * @returns {string} алгоритм вычисления подписи.\n */\nexport const getXmlSignAlgorithmType = (certificate: Certificate): string => {\n  switch (certificate.algorithm) {\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_256:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3410Url2012256;\n\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_512:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3410Url2012512;\n\n    default:\n      throw CryptoError.create(\n        'CBP-9',\n        `Неизвестный алгоритм (${certificate.algorithm}) при выборе типа алгоритма подписи XmlDSig.`,\n        null\n      );\n  }\n};\n\n/**\n * Получить алгоритм вычисления хэша.\n * @param {Certificate} certificate сертификат.\n * @throws {CryptoError} в случае ошибки.\n * @returns {string} алгоритм вычисления хэша.\n */\nexport const getXmlHashAlgorithmType = (certificate: Certificate): string => {\n  switch (certificate.algorithm) {\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_256:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3411Url2012256;\n\n    case GOST_KEY_ALGORITHM_TYPES.GOST_R3410_12_512:\n      return XML_SIGNATURE_GOST_ALGORITHM_TYPE.XmlDsigGost3411Url2012512;\n\n    default:\n      throw CryptoError.create(\n        'CBP-9',\n        `Неизвестный алгоритм (${certificate.algorithm}) при выборе типа алгоритма хэширования xml.`,\n        null\n      );\n  }\n};\n\n/**\n * Подписать входные данные указанным сертификатом в формате XmlDSig.\n * @param {ICertificate | Certificate} certificate -сертификат пользователя.\n * @param {ArrayBuffer | string} data -входные данные для подписи в формате Base64 или ArrayBuffer.\n * @param {CADESCOM_XML_SIGNATURE_TYPE} xmlSignatureType - тип xml подписи.\n * @param {boolean} [doNotValidate=false] - не проводить валидацию сертификата.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} файл подписи в кодировке Base64.\n */\nexport const signXml = (\n  certificate: ICertificate | Certificate,\n  data: ArrayBuffer | string,\n  xmlSignatureType: CADESCOM_XML_SIGNATURE_TYPE = CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED,\n  doNotValidate: boolean = false\n): Promise<string> => {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ certificate, data, xmlSignatureType, doNotValidate });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для подписания.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n      if (!certificate) {\n        const errorMessage =\n          'Не указан сертификат для вычисления электронной подписи.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      const cert: Certificate =\n        certificate instanceof Certificate\n          ? certificate\n          : // парсим если пришло сырое\n            await Certificate.CreateFrom(certificate);\n\n      if (!doNotValidate && !!cert) {\n        const errorMessage = await validateCertificate(cert);\n\n        if (errorMessage) {\n          throw CryptoError.create(\n            'CBP-6',\n            'Сертификат не прошел проверку при подписи.',\n            null,\n            errorMessage\n          );\n        }\n      }\n\n      const signer: CPSigner = await createObject(CRYPTO_OBJECTS.signer);\n      const signedData: ISignedXml = await createObject(\n        CRYPTO_OBJECTS.signedXml\n      );\n\n      // заполнение параметров для подписи\n      try {\n        await setCryptoProperty(signer, 'Certificate', cert.certificateBin);\n\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        await setCryptoProperty(signedData, 'Content', base64String);\n\n        // указываем тип подписи\n        await setCryptoProperty(signedData, 'SignatureType', xmlSignatureType);\n\n        // указываем алгоритм подписи\n        await setCryptoProperty(\n          signedData,\n          'SignatureMethod',\n          getXmlSignAlgorithmType(cert)\n        );\n\n        // указываем алгоритм хэширования\n        await setCryptoProperty(\n          signedData,\n          'DigestMethod',\n          getXmlHashAlgorithmType(cert)\n        );\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров подписания.'\n        );\n      }\n\n      try {\n        const signResult = await unwrap(signedData.Sign(signer));\n\n        logData.push({ signResult });\n\n        return signResult;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при вычислении электронной подписи.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('signXml >>', logData);\n    }\n  })();\n};\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport {\n  CADESCOM_BASE64_TO_BINARY,\n  CAPICOM_ENCODING_TYPE,\n  CRYPTO_OBJECTS,\n} from '../constants';\nimport { CPEnvelopedData, ICertificate, IRecipients } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Зашировать данные на указанные сертификаты.\n * @param {string} data -входные данные для расшифровки в формате Base64 или ArrayBuffer.\n * @param {ICertificate[]} recipientCertificates -список сертификатов получателей шифрованного сообщения.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} .Зашифрованная строка в кодировке Base64.\n */\nexport function encrypt(\n  data: ArrayBuffer | string,\n  recipientCertificates: ICertificate[]\n): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ data, recipientCertificates });\n    try {\n      if (!data) {\n        const errorMessage = 'Не указаны данные для шифрования.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      if (!recipientCertificates || recipientCertificates?.length === 0) {\n        const errorMessage =\n          'Не указаны сертификаты получателей шифрованного сообщения.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        data instanceof ArrayBuffer\n          ? Buffer.from(data).toString('base64')\n          : data;\n\n      logData.push({ base64String });\n\n      const envelopedData: CPEnvelopedData = await createObject(\n        CRYPTO_OBJECTS.envelopedData\n      );\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        await setCryptoProperty(\n          envelopedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n        await setCryptoProperty(envelopedData, 'Content', base64String);\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров шифрования.'\n        );\n      }\n\n      try {\n        const recipients: IRecipients = await unwrap(envelopedData.Recipients);\n\n        for (const recipientCertificate of recipientCertificates) {\n          await unwrap(recipients.Add(recipientCertificate));\n        }\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при установке сертификатов получателей шифрованного сообщения.'\n        );\n      }\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому расшифровываем предварительно конвертированный в Base64\n\n        const encryptResult = await unwrap(\n          envelopedData.Encrypt(CAPICOM_ENCODING_TYPE.CAPICOM_ENCODE_BASE64)\n        );\n\n        logData.push({ encryptResult });\n\n        return encryptResult;\n      } catch (error) {\n        throw CryptoError.createCadesError(\n          error,\n          'Ошибка при шифровании данных.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('encrypt >>', logData);\n    }\n  })();\n}\n","import { Buffer } from 'buffer';\n\nimport { CryptoError } from '../errors';\nimport { CADESCOM_BASE64_TO_BINARY, CRYPTO_OBJECTS } from '../constants';\nimport { CPEnvelopedData } from '../types';\nimport { outputDebug } from '../utils';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { setCryptoProperty } from './internal/setCryptoProperty';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Расшифровать данные.\n * @param {string} encryptedData -входные данные для расшифровки в формате Base64 или ArrayBuffer.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<string>} .Расшифрованная строка в кодировке Base64.\n */\nexport function decrypt(encryptedData: ArrayBuffer | string): Promise<string> {\n  return afterPluginLoaded(async () => {\n    const logData = [];\n    logData.push({ encryptedData });\n\n    try {\n      if (!encryptedData) {\n        const errorMessage = 'Не указаны данные для расшифровки.';\n        throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n      }\n\n      const base64String =\n        encryptedData instanceof ArrayBuffer\n          ? Buffer.from(encryptedData).toString('base64')\n          : encryptedData;\n\n      logData.push({ base64String });\n\n      const envelopedData: CPEnvelopedData = await createObject(\n        CRYPTO_OBJECTS.envelopedData\n      );\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому подписываем предварительно конвертированный в Base64\n        await setCryptoProperty(\n          envelopedData,\n          'ContentEncoding',\n          CADESCOM_BASE64_TO_BINARY\n        );\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при заполнении параметров расшифровки.'\n        );\n      }\n\n      try {\n        // в криптопро браузер плагине не поддерживается подпись/расшифровка бинарных данных,\n        // поэтому расшифровываем предварительно конвертированный в Base64\n        await unwrap(envelopedData.Decrypt(base64String));\n\n        const decryptedData = await unwrap(envelopedData.Content);\n\n        logData.push({ decryptedData });\n\n        return decryptedData;\n      } catch (err) {\n        throw CryptoError.createCadesError(\n          err,\n          'Ошибка при расшифровке данных.'\n        );\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      outputDebug('decrypt >>', logData);\n    }\n  })();\n}\n","import { CryptoError } from '../errors';\nimport { IStore } from '../types';\nimport {\n  CAPICOM_MY_STORE,\n  CAPICOM_STORE_OPEN_MODE,\n  CRYPTO_OBJECTS,\n  STORE_LOCATION,\n} from '../constants';\n\nimport { createObject } from './createObject';\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Открывает хранилище с сертификатами.\n * @returns {IStore} store хранилище с сертификатами.\n * @param {STORE_LOCATION} storeLocation - расположение хранилища.\n * @param {string} storeName - (!)будет проигнорирован если storeLocation = CAPICOM_SMART_CARD_USER_STORE.\n * @param {CAPICOM_STORE_OPEN_MODE} openMode - режим открытия хранилища.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<IStore>} .\n */\nexport function openStore(\n  storeLocation: STORE_LOCATION = STORE_LOCATION.CAPICOM_CURRENT_USER_STORE,\n  storeName: string = CAPICOM_MY_STORE,\n  openMode: CAPICOM_STORE_OPEN_MODE = CAPICOM_STORE_OPEN_MODE.CAPICOM_STORE_OPEN_EXISTING_ONLY\n): Promise<IStore> {\n  return afterPluginLoaded(async () => {\n    let store: IStore = await createObject(CRYPTO_OBJECTS.store);\n\n    try {\n      await unwrap(store.Open(storeLocation, storeName, openMode));\n\n      return store;\n    } catch (err) {\n      await unwrap(store?.Close());\n      throw CryptoError.createCadesError(\n        err,\n        'Ошибка открытия хранилища сертификатов.'\n      );\n    }\n  })();\n}\n","import {\n  CAPICOM_MY_STORE,\n  CAPICOM_STORE_OPEN_MODE,\n  STORE_LOCATION,\n  STORE_TYPE,\n} from '../constants';\nimport { Certificate } from '../Certificate';\nimport { ICertificate, ICertificates, IStore } from '../types';\nimport { outputDebug } from '../utils';\nimport { CryptoError } from '../errors';\n\nimport { afterPluginLoaded } from './internal/afterPluginLoaded';\nimport { openStore } from './openStore';\nimport { unwrap } from './internal/unwrap';\n\n/**\n * Кэш из запрошенных сертификатов.\n */\nconst certificatesCache = {};\n\n/**\n * Возвращает список сертификатов из указанного хранилища.\n * @param {IStore} store Хранилище\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов.\n */\nasync function getCertificatesFromStore(store: IStore): Promise<Certificate[]> {\n  if (!store) {\n    const errorMessage = 'Не задано хранилище сертификатов.';\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n  const result: Certificate[] = [];\n  let certificates: ICertificates;\n  let certificatesCount = 0;\n  try {\n    certificates = await unwrap(store.Certificates);\n    certificatesCount = await unwrap(certificates.Count);\n  } catch (err) {\n    throw CryptoError.createCadesError(\n      err,\n      'Ошибка получения списка сертификатов.'\n    );\n  }\n\n  // проверяем пригодность и превращаем сертификаты в наш внутренний тип\n  while (certificatesCount) {\n    try {\n      const certBin: ICertificate = await unwrap(\n        certificates.Item(certificatesCount--)\n      );\n      const cert: Certificate = await Certificate.CreateFrom(certBin);\n\n      // работаем только с гостовскими сертами\n      if (cert.isGost) {\n        result.push(cert);\n      }\n    } catch (err) {\n      // не критичная ошибка, просто логируем\n      CryptoError.createCadesError(err, 'Ошибка получения сертификата.');\n    }\n  }\n\n  return result;\n}\n\n/**\n * Получить сертификаты из USB токенов.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов из USB токенов.\n */\nasync function ReadCertificatesFromUsbToken(): Promise<Certificate[]> {\n  let store: IStore | null = null;\n  try {\n    store = await openStore(STORE_LOCATION.CADESCOM_CONTAINER_STORE);\n    return await getCertificatesFromStore(store);\n  } finally {\n    await store?.Close();\n  }\n}\n\n/**\n * Получить сертификаты из реестра.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .Список сертификатов из реестра.\n */\nasync function ReadCertificatesFromRegistry(): Promise<Certificate[]> {\n  let store: IStore | null = null;\n  try {\n    store = await openStore(\n      STORE_LOCATION.CAPICOM_CURRENT_USER_STORE,\n      CAPICOM_MY_STORE,\n      CAPICOM_STORE_OPEN_MODE.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED\n    );\n    return await getCertificatesFromStore(store);\n  } finally {\n    await store?.Close();\n  }\n}\n\n/**\n * Возвращает список валидных доступных для работы сертификатов.\n *\n * @param {STORE_TYPE} storeType из какого хранилища требуется получить сертификаты (из токена, реестра, все...).\n * @param {resetCache} resetCache перезапросить данные, игнорируя закэшированные данные.\n * @throws {CryptoError} в случае ошибки.\n * @returns {Promise<Certificate[]>} .сертификаты.\n */\nexport function getCertificates(\n  storeType: STORE_TYPE = STORE_TYPE.ALL,\n  resetCache: boolean = false\n): Promise<Certificate[]> {\n  if (certificatesCache[storeType] && !resetCache) {\n    return Promise.resolve(certificatesCache[storeType]);\n  }\n  return afterPluginLoaded(async () => {\n    if (certificatesCache[storeType] && !resetCache) {\n      return certificatesCache[storeType];\n    }\n    const logData = [];\n    let result: Certificate[] = [];\n\n    try {\n      switch (storeType) {\n        case STORE_TYPE.USB_TOKEN:\n          result = await ReadCertificatesFromUsbToken();\n          logData.push({ storeType, result });\n          break;\n\n        case STORE_TYPE.REGISTRY:\n          result = await ReadCertificatesFromRegistry();\n          logData.push({ storeType, result });\n          break;\n\n        case STORE_TYPE.ALL:\n          const usbTokenCertificates = await ReadCertificatesFromUsbToken();\n          logData.push({ storeType: 'usb', usbTokenCertificates });\n          const certificatesFromRegistry = await ReadCertificatesFromRegistry();\n          logData.push({ storeType: 'registry', certificatesFromRegistry });\n\n          result = usbTokenCertificates.concat(certificatesFromRegistry);\n\n          result = result.filter(\n            (cert, index) =>\n              result.findIndex((c) => c.thumbprint === cert.thumbprint) ===\n              index\n          );\n          break;\n\n        default:\n          let store: IStore | null = null;\n          try {\n            store = await openStore();\n\n            result = await getCertificatesFromStore(store);\n            logData.push({ storeType: 'default', result });\n          } finally {\n            await store?.Close();\n          }\n          break;\n      }\n    } catch (error) {\n      logData.push({ error });\n      throw error;\n    } finally {\n      logData.push({ result });\n      outputDebug(`getCertificates(${storeType}) >>`, logData);\n    }\n\n    return (certificatesCache[storeType] = result);\n  })();\n}\n","import { Certificate } from '../Certificate';\nimport { CryptoError } from '../errors';\n\nimport { getCertificates } from './../api';\n\n/**\n * Поиск в хранилищах сертификата.\n * @param {string} subjectKeyId -идентификатор ключа субъекта.\n * @throws {CryptoError} в случае ошибки.\n * @returns {@Promise<Certificate | undefined>} сертификат.\n */\nexport async function findCertificateBySkid(\n  subjectKeyId: string\n): Promise<Certificate | undefined> {\n  if (!subjectKeyId) {\n    const errorMessage =\n      'Не указан идентификатор ключа субъекта искомого сертификата.';\n    throw CryptoError.create('CBP-7', errorMessage, null, errorMessage);\n  }\n  try {\n    return (await getCertificates()).find(\n      (c) => c.subjectKeyId == subjectKeyId\n    );\n  } catch (err) {\n    throw CryptoError.createCadesError(err, 'Ошибка получения сертификата.');\n  }\n}\n","import { Certificate } from '@astral/cryptopro-cades';\n\ntype CertificateInfoProps = {\n  certificate: Certificate;\n  onSelect?: Function;\n};\n\nexport const CertificateInfo = ({\n  certificate,\n  onSelect,\n}: CertificateInfoProps) =>\n  certificate ? (\n    <div onClick={(e) => onSelect && onSelect(certificate.subjectKeyId)}>\n      <span>\n        <b>\n          =========================\n          <a\n            download={`${certificate.subject.commonName}.cer`}\n            href={`data:application/x-x509-ca-cert;base64,${certificate.certificateBase64Data}`}\n          >\n            {certificate.subject.commonName}\n          </a>\n          =========================\n        </b>\n        <br />\n        <b>subjectKeyId: </b>\n        <span\n          onClick={(e) =>\n            navigator.clipboard.writeText(certificate.subjectKeyId!)\n          }\n        >\n          {certificate.subjectKeyId}\n        </span>\n      </span>\n      {Object.keys(certificate)\n        .filter(\n          (key) =>\n            ![\n              'certificateBase64Data',\n              'certificateBin',\n              'subjectKeyId',\n            ].includes(key)\n        )\n        .map((key, index) => (\n          <span style={{ display: 'block' }} key={index}>\n            <b>{key}:</b>{' '}\n            {certificate[key] instanceof Object\n              ? JSON.stringify(certificate[key])\n              : certificate[key]?.toString() ?? 'null'}\n          </span>\n        ))}\n    </div>\n  ) : null;\n","import { ICryptoProvider } from '@astral/cryptopro-cades';\n\ntype CryptoProviderProps = {\n  cryptoProvider: ICryptoProvider;\n};\n\nexport const CryptoProviderInfo = ({ cryptoProvider }: CryptoProviderProps) => (\n  <>\n    <span style={{ display: 'block' }}>\n      <b>Имя:</b> {cryptoProvider.ProviderName}\n    </span>\n    <span style={{ display: 'block' }}>\n      <b>Тип:</b> {cryptoProvider.ProviderType}\n    </span>\n    <span style={{ display: 'block' }}>\n      <b>Версия:</b> {cryptoProvider.MajorVersion}.{cryptoProvider.MinorVersion}\n      .{cryptoProvider.BuildVersion}\n    </span>\n  </>\n);\n","import { Buffer } from 'buffer';\n\nimport { useEffect, useState } from 'react';\nimport {\n  Certificate,\n  STORE_TYPE,\n  decrypt,\n  encrypt,\n  findCertificateBySkid,\n  getCertificates,\n  getCryptoProviders,\n  getSystemInfo,\n  outputError,\n  pluginConfig,\n  sign,\n  signXml,\n  CADESCOM_XML_SIGNATURE_TYPE,\n  createObject,\n  CRYPTO_OBJECTS,\n  ICertificate,\n  ICryptoProvider,\n  ISystemInfo,\n  checkIsValidSystemSetup,\n} from '@astral/cryptopro-cades';\n\nimport { CertificateInfo } from './components/CertificateInfo';\nimport { CryptoProviderInfo } from './components/CryptoProviderInfo';\n\nconst CryptoApp = () => {\n  pluginConfig.CheckSystemSetup = true;\n  pluginConfig.Debug = true;\n\n  const [certificates, setCertificates] = useState<Certificate[]>([]);\n  const [versionInfo, setVersionInfo] = useState<ISystemInfo>();\n  const [cryptoProviders, setCryptoProviders] = useState<ICryptoProvider[]>([]);\n  const [showCertificates, setShowCertificates] = useState<boolean>();\n  const [showCryptoProviders, setShowCryptoProviders] = useState<boolean>();\n  const [selectedCertificate, setSelectedCertificate] = useState<Certificate>();\n  const [selectedFile, setSelectedFile] = useState<File>();\n  const [selectedEncryptCert, setSelectedEncryptCert] =\n    useState<ICertificate>();\n  const [selectedEncryptCertBase64, setSelectedEncryptCertBase64] =\n    useState<string>();\n\n  useEffect(() => {\n    async function fetchSystemInfo() {\n      try {\n        const systemInfo = await getSystemInfo();\n        setVersionInfo(systemInfo);\n      } catch (error) {\n        outputError(error);\n        window.alert(error?.toString());\n      }\n    }\n    async function fetchCertificates() {\n      try {\n        const fetchedCertificates = await getCertificates(STORE_TYPE.ALL);\n\n        setCertificates(fetchedCertificates);\n\n        // автоматически берем первый валидный серт если еще выбран\n        if (!selectedCertificate) {\n          setSelectedCertificate(\n            fetchedCertificates.find((c) => c.isGost && c.hasPrivateKey)\n          );\n        }\n      } catch (error) {\n        outputError(error);\n        window.alert(error?.toString());\n      }\n    }\n    async function fetchCryptoProviders() {\n      try {\n        const cryptoProviders = await getCryptoProviders();\n        setCryptoProviders(cryptoProviders);\n      } catch (error) {\n        outputError(error);\n        window.alert(error?.toString());\n      }\n    }\n\n    if (showCryptoProviders) {\n      fetchCryptoProviders();\n    }\n    if (showCertificates) {\n      fetchCertificates();\n    }\n    fetchSystemInfo();\n  }, [showCryptoProviders, showCertificates, selectedCertificate]);\n\n  /**\n   * Попытаться найти сертификат с указанным skid.\n   * @param skid Идентификатор ключа субъекта.\n   */\n  const trySelectCertificate = async (skid: string) => {\n    if (skid) {\n      const certificate = await findCertificateBySkid(skid);\n      if (certificate) {\n        setSelectedCertificate(certificate);\n      }\n    }\n  };\n\n  /**\n   * Скачать файл.\n   * @param blob Блоб\n   * @param name Наименование файла.\n   */\n  const dowloadFile = (blob: Blob, name: string): void => {\n    const url = window.URL.createObjectURL(blob);\n    const a = window.document.createElement('a');\n    a.style.display = 'hidden';\n    window.document.body.appendChild(a);\n    a.href = url;\n    a.download = name;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  };\n\n  /**\n   * Подписать файл в формате CMS.\n   */\n  const signFile = async (): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для подписи не выбран');\n      return;\n    }\n\n    try {\n      const sig = await sign(\n        selectedCertificate,\n        await selectedFile.arrayBuffer() // либо Base64 строку\n      );\n\n      dowloadFile(await convertBase64toBlob(sig), selectedFile.name + '.sig');\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Подписать файл в формате XmlDSig.\n   */\n  const signXmlFile = async (\n    xmlSignatureType: CADESCOM_XML_SIGNATURE_TYPE\n  ): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для подписи не выбран');\n      return;\n    }\n\n    try {\n      const sig = await signXml(\n        selectedCertificate,\n        await selectedFile.arrayBuffer(), // либо Base64 строку\n        xmlSignatureType\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(sig),\n        selectedFile.name.replace('.xml', '') + '.sig.xml'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Зашифровать файл в формате CMS.\n   */\n  const encryptFileCms = async (): Promise<void> => {\n    if (!selectedEncryptCert) {\n      window.alert('Сертификат получателя не выбран');\n      return;\n    }\n    if (!selectedFile) {\n      window.alert('Файл для шифрования не выбран');\n      return;\n    }\n\n    try {\n      const encryptedData = await encrypt(\n        await selectedFile.arrayBuffer(), // либо Base64 строку\n        [selectedEncryptCert]\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(encryptedData),\n        selectedFile.name + '.enc'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Зашифровать файл в формате CMS.\n   */\n  const decryptFileCms = async (): Promise<void> => {\n    if (!selectedFile) {\n      window.alert('Файл для расшифровки не выбран');\n      return;\n    }\n\n    try {\n      const decryptedData = await decrypt(\n        await selectedFile.arrayBuffer() // либо Base64 строку\n      );\n\n      dowloadFile(\n        await convertBase64toBlob(decryptedData),\n        selectedFile.name + '.decrypted'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error?.toString());\n    }\n  };\n\n  /**\n   * Проверить шифрование и расшифровку, зашифровав данные на свой серт.\n   */\n  const checkEncryptDecrypt = async (): Promise<void> => {\n    if (!selectedCertificate) {\n      window.alert('Сертификат не выбран');\n      return;\n    }\n    const originalData = 'Hello world!';\n\n    try {\n      const encryptedData = await encrypt(\n        Buffer.from(originalData).toString('base64'),\n        [selectedCertificate.certificateBin!]\n      );\n\n      const decryptedData = await decrypt(encryptedData);\n      const isOk =\n        Buffer.from(decryptedData, 'base64').toString('utf-8') === originalData;\n\n      window.alert(\n        isOk ? 'Шифрование-расшифровка прошла успешно' : 'Данные не совпали'\n      );\n    } catch (error) {\n      outputError(error);\n      window.alert(error.toString());\n    }\n  };\n\n  /**\n   *\n   * @param base64 строка в формате Base64.\n   * @param type Тип данных.\n   * @returns {Promise<Blob>} Блоб.\n   */\n  const convertBase64toBlob = (\n    base64: string,\n    type: string = 'application/octet-stream'\n  ): Promise<Blob> =>\n    window\n      .fetch(`data:${type};base64,${base64}`)\n      .then((res: Response) => res.blob());\n\n  /**\n   * Выполняет импорт сертификата.\n   * @param data\n   */\n  const importCertificate = async (\n    data: string | ArrayBuffer\n  ): Promise<void> => {\n    if (!data) {\n      setSelectedEncryptCertBase64(undefined);\n      setSelectedEncryptCert(undefined);\n      return;\n    }\n\n    const arrayBufferToString = (buffer) => {\n      return new TextDecoder().decode(buffer);\n    };\n\n    const parseFromArrayBuffer = async (buffer: ArrayBuffer) => {\n      const certificate: ICertificate = await createObject(\n        CRYPTO_OBJECTS.certificate\n      );\n      const base64 = Buffer.from(buffer).toString('base64');\n      await certificate.Import(base64);\n      setSelectedEncryptCertBase64(base64);\n      setSelectedEncryptCert(certificate);\n      return certificate;\n    };\n\n    const parseFromBase64String = async (base64: string) => {\n      const certificate: ICertificate = await createObject(\n        CRYPTO_OBJECTS.certificate\n      );\n      await certificate.Import(base64);\n      setSelectedEncryptCertBase64(base64);\n      setSelectedEncryptCert(certificate);\n      return certificate;\n    };\n    try {\n      if (data instanceof ArrayBuffer) {\n        try {\n          await parseFromArrayBuffer(data);\n        } catch (error) {\n          outputError(error);\n          await parseFromBase64String(arrayBufferToString(data));\n        }\n      } else {\n        try {\n          await parseFromArrayBuffer(Buffer.from(data));\n        } catch (error) {\n          outputError(error);\n          await parseFromBase64String(data);\n        }\n      }\n    } catch (error) {\n      outputError(error);\n      window.alert(error.message);\n    }\n  };\n\n  /**\n   * Проверить систему.\n   */\n  async function checkSystem() {\n    try {\n      await checkIsValidSystemSetup();\n      window.alert('checkSystem: ok');\n    } catch (error) {\n      outputError(error);\n      window.alert(error.toString());\n    }\n  }\n\n  return (\n    <>\n      <p>Версия плагина {versionInfo?.cadesVersion}</p>\n      <p>Версия криптопровайдера {versionInfo?.cspVersion}</p>\n      <button onClick={() => checkSystem()}>Проверить систему</button>\n      <button onClick={() => setShowCryptoProviders(!showCryptoProviders)}>\n        {!showCryptoProviders\n          ? 'Показать криптопровайдеры'\n          : 'Скрыть криптопровайдеры'}\n      </button>\n      <button onClick={() => setShowCertificates(!showCertificates)}>\n        {!showCertificates ? 'Показать сертификаты' : 'Скрыть сертификаты'}\n      </button>\n      <div style={{ display: showCryptoProviders ? '' : 'none' }}>\n        Криптопровайдеры:\n        {cryptoProviders?.map((cryptoProvider, index) => {\n          return (\n            <p key={index}>\n              <CryptoProviderInfo cryptoProvider={cryptoProvider} />\n            </p>\n          );\n        })}\n      </div>\n      <div style={{ display: showCertificates ? '' : 'none' }}>\n        Сертификаты:\n        {certificates?.map((certInfo, index) => {\n          return (\n            <p key={index}>\n              <CertificateInfo\n                certificate={certInfo}\n                onSelect={(skid) => trySelectCertificate(skid)}\n              />\n            </p>\n          );\n        }) ?? 'Ничего нет :('}\n      </div>\n      <br />\n      <br />\n      <br />\n      <div>\n        <b>\n          ========================= Операции с сертификатами\n          =========================\n        </b>\n        <br />\n        <br />\n        skid:\n        <input\n          style={{ width: 350 }}\n          placeholder=\"Введите skid серта\"\n          onChange={(e) => trySelectCertificate(e.target.value)}\n          value={selectedCertificate?.subjectKeyId!}\n        />\n        {selectedCertificate ? (\n          <>\n            <p>Выбранный сертификат</p>\n            <CertificateInfo certificate={selectedCertificate} />\n          </>\n        ) : null}\n        {selectedCertificate ? (\n          <>\n            <br />\n            <br />\n            <button onClick={(_) => checkEncryptDecrypt()}>\n              Проверить шифрование/расшифровку\n            </button>\n            <br />\n          </>\n        ) : null}\n        <br />\n        <br />\n        Выберите файл для криптооперации:\n        <input\n          type=\"file\"\n          onChange={(e) => setSelectedFile(e.target.files![0])}\n        />\n        <br />\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button onClick={(_) => signFile()}>Подписать CMS</button>\n          </>\n        ) : null}\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button\n              onClick={(_) =>\n                signXmlFile(\n                  CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED\n                )\n              }\n            >\n              Подписать XmlDSig (enveloped)\n            </button>\n          </>\n        ) : null}\n        {selectedCertificate && selectedFile ? (\n          <>\n            <br />\n            <button\n              onClick={(_) =>\n                signXmlFile(\n                  CADESCOM_XML_SIGNATURE_TYPE.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE\n                )\n              }\n            >\n              Подписать XmlDSig (template)\n            </button>\n          </>\n        ) : null}\n        <br />\n        {selectedFile ? (\n          <>\n            <button onClick={(_) => decryptFileCms()}>Расшифровать CMS</button>\n            <br />\n          </>\n        ) : null}\n        <br />\n        <br />\n        Укажите Base64 сертификата на которого зашифровать\n        <br /> или выберите серт из файла:\n        <input\n          type=\"file\"\n          onChange={async (e) =>\n            await importCertificate(await e.target.files![0].arrayBuffer())\n          }\n        />\n        <br />\n        <textarea\n          style={{ width: 500, height: 200 }}\n          value={selectedEncryptCertBase64}\n          onChange={async (e) => await importCertificate(e.target.value)}\n        />\n        {selectedEncryptCert && selectedFile ? (\n          <>\n            <br />\n            <button onClick={(_) => encryptFileCms()}>Зашифровать CMS</button>\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nconst App = () => (\n  <div className=\"App\">\n    <CryptoApp />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","// 2.0.14530 от 16.02.2022\n// ГОСТ: 8FE58D912E985DBFA1BB573D102DA68192B442278C586D1BE183A7CEA49C6C19\n// MD5: d0282c948e2b5f6a02f3944a16ebc7e3\n// https://www.cryptopro.ru/sites/default/files/products/cades/current_release_2_0/cadesplugin_api.js.zip\n\n/**\n * @class window.cadesplugin\n */\n;(function () {\n    //already loaded\n    if(window.cadesplugin)\n        return;\n\n    var pluginObject;\n    var plugin_resolved = 0;\n    var plugin_reject;\n    var plugin_resolve;\n    var isOpera = 0;\n    var isFireFox = 0;\n    var isSafari = 0;\n    var isYandex = 0;\n    var canPromise = !!window.Promise;\n    var cadesplugin_loaded_event_recieved = false;\n    var isFireFoxExtensionLoaded = false;\n\n    /**\n    * @class window.cadesplugin\n    */\n    var cadesplugin;\n\n    if(canPromise)\n    {\n        cadesplugin = new Promise(function(resolve, reject)\n        {\n            plugin_resolve = resolve;\n            plugin_reject = reject;\n        });\n    } else\n    {\n        cadesplugin = {};\n    }\n\n    function check_browser() {\n        var ua= navigator.userAgent, tem, M= ua.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n        if(/trident/i.test(M[1])){\n            tem =  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n            return { name:'IE', version:(tem[1] || '')};\n        }\n        if(M[1] === 'Chrome'){\n            tem = ua.match(/\\b(OPR|Edg|YaBrowser)\\/(\\d+)/);\n            if (tem != null)\n                return { name: tem[1].replace('OPR', 'Opera'), version: tem[2] };\n        }\n        M= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\n        if ((tem = ua.match(/version\\/(\\d+)/i)) != null)\n            M.splice(1, 1, tem[1]);\n        return {name:M[0],version:M[1]};\n    }\n    var browserSpecs = check_browser();\n\n    function cpcsp_console_log(level, msg){\n        //IE9 не может писать в консоль если не открыта вкладка developer tools\n        if(typeof(console) === 'undefined')\n            return;\n        if (level <= cadesplugin.current_log_level ){\n            if (level === cadesplugin.LOG_LEVEL_DEBUG)\n                console.log(\"DEBUG: %s\", msg);\n            if (level === cadesplugin.LOG_LEVEL_INFO)\n                console.info(\"INFO: %s\", msg);\n            if (level === cadesplugin.LOG_LEVEL_ERROR)\n                console.error(\"ERROR: %s\", msg);\n            return;\n        }\n    }\n\n    function set_log_level(level){\n        if (!((level === cadesplugin.LOG_LEVEL_DEBUG) ||\n            (level === cadesplugin.LOG_LEVEL_INFO) ||\n            (level === cadesplugin.LOG_LEVEL_ERROR))){\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"cadesplugin_api.js: Incorrect log_level: \" + level);\n            return;\n        }\n        cadesplugin.current_log_level = level;\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = DEBUG\");\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = INFO\");\n        if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR)\n            cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO, \"cadesplugin_api.js: log_level = ERROR\");\n        if(isNativeMessageSupported())\n        {\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_DEBUG)\n                window.postMessage(\"set_log_level=debug\", \"*\");\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_INFO)\n                window.postMessage(\"set_log_level=info\", \"*\");\n            if (cadesplugin.current_log_level === cadesplugin.LOG_LEVEL_ERROR)\n                window.postMessage(\"set_log_level=error\", \"*\");\n        }\n    }\n\n    function set_constantValues()\n    {\n        cadesplugin.CAPICOM_MEMORY_STORE = 0;\n        cadesplugin.CAPICOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CAPICOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CAPICOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_MEMORY_STORE = 0;\n        cadesplugin.CADESCOM_LOCAL_MACHINE_STORE = 1;\n        cadesplugin.CADESCOM_CURRENT_USER_STORE = 2;\n        cadesplugin.CADESCOM_SMART_CARD_USER_STORE = 4;\n        cadesplugin.CADESCOM_CONTAINER_STORE = 100;\n\n        cadesplugin.CAPICOM_MY_STORE = \"My\";\n\n        cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED = 2;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED = 0;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING = 1;\n        cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE = 2;\n\n        cadesplugin.CADESCOM_XADES_DEFAULT = 0x00000010;\n        cadesplugin.CADESCOM_XADES_BES = 0x00000020;\n        cadesplugin.CADESCOM_XADES_T = 0x00000050;\n        cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1 = 0x000005d0;\n        cadesplugin.CADESCOM_XMLDSIG_TYPE = 0x00000000;\n\n        cadesplugin.XmlDsigGost3410UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411UrlObsolete = \"http://www.w3.org/2001/04/xmldsig-more#gostr3411\";\n        cadesplugin.XmlDsigGost3410Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411\";\n        cadesplugin.XmlDsigGost3411Url = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411\";\n        \n        cadesplugin.XmlDsigGost3411Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256\";\n        cadesplugin.XmlDsigGost3410Url2012256 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256\";\n        cadesplugin.XmlDsigGost3411Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512\";\n        cadesplugin.XmlDsigGost3410Url2012512 = \"urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512\";\n\n        cadesplugin.CADESCOM_CADES_DEFAULT = 0;\n        cadesplugin.CADESCOM_CADES_BES = 1;\n        cadesplugin.CADESCOM_CADES_T = 0x5;\n        cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1 = 0x5d;\n        cadesplugin.CADESCOM_PKCS7_TYPE = 0xffff;\n\n        cadesplugin.CADESCOM_ENCODE_BASE64 = 0;\n        cadesplugin.CADESCOM_ENCODE_BINARY = 1;\n        cadesplugin.CADESCOM_ENCODE_ANY = -1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY = 2;\n\n        cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME = 0;\n        cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME = 1;\n\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME = 1;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME = 2;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME = 3;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME = 4;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION = 5;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY = 6;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY = 7;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY = 8;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID = 9;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID = 10;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED = 11;\n        cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE = 12;\n\n        cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE = 128;\n\n        cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE = 9;\n\n        cadesplugin.CAPICOM_OID_OTHER = 0;\n        cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION = 10;\n\n        cadesplugin.CAPICOM_EKU_CLIENT_AUTH = 2;\n        cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON = 5;\n        cadesplugin.CAPICOM_EKU_OTHER = 0;\n\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME = 1;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION = 2;\n        cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO = 0x100;\n        cadesplugin.CADESCOM_ATTRIBUTE_OTHER = -1;\n\n        cadesplugin.CADESCOM_STRING_TO_UCS2LE = 0;\n        cadesplugin.CADESCOM_BASE64_TO_BINARY = 1;\n\n        cadesplugin.CADESCOM_DISPLAY_DATA_NONE = 0;\n        cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT = 1;\n        cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE = 2;\n\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2 = 0;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4 = 1;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES = 2;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES = 3;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES = 4;\n        cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89 = 25;\n\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1 = 0;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD2 = 1;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD4 = 2;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_MD5 = 3;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256 = 4;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384 = 5;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512 = 6;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411 = 100;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256 = 101;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512 = 102;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC = 110;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC = 111;\n        cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC = 112;\n\n        cadesplugin.LOG_LEVEL_DEBUG = 4;\n        cadesplugin.LOG_LEVEL_INFO = 2;\n        cadesplugin.LOG_LEVEL_ERROR = 1;\n\n        cadesplugin.CADESCOM_AllowNone = 0;\n        cadesplugin.CADESCOM_AllowNoOutstandingRequest = 0x1;\n        cadesplugin.CADESCOM_AllowUntrustedCertificate = 0x2;\n        cadesplugin.CADESCOM_AllowUntrustedRoot = 0x4;\n        cadesplugin.CADESCOM_SkipInstallToStore = 0x10000000;\n        cadesplugin.CADESCOM_InstallCertChainToContainer = 0x20000000;\n        cadesplugin.CADESCOM_UseContainerStore = 0x40000000;\n\n        cadesplugin.ENABLE_CARRIER_TYPE_CSP = 0x01;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM = 0x02;\n        cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM = 0x04;\n        cadesplugin.ENABLE_ANY_CARRIER_TYPE = 0x07;\n\n        cadesplugin.DISABLE_EVERY_CARRIER_OPERATION = 0x00;\n        cadesplugin.ENABLE_CARRIER_OPEN_ENUM = 0x01;\n        cadesplugin.ENABLE_CARRIER_CREATE = 0x02;\n        cadesplugin.ENABLE_ANY_OPERATION = 0x03;\n\n        cadesplugin.CADESCOM_PRODUCT_CSP = 0;\n        cadesplugin.CADESCOM_PRODUCT_OCSP = 1;\n        cadesplugin.CADESCOM_PRODUCT_TSP = 2;\n\n        cadesplugin.MEDIA_TYPE_REGISTRY = 0x00000001;\n        cadesplugin.MEDIA_TYPE_HDIMAGE = 0x00000002;\n        cadesplugin.MEDIA_TYPE_CLOUD = 0x00000004;\n        cadesplugin.MEDIA_TYPE_SCARD = 0x00000008;\n\n        cadesplugin.XCN_CRYPT_STRING_BASE64HEADER = 0;\n        cadesplugin.AT_KEYEXCHANGE = 1;\n        cadesplugin.AT_SIGNATURE = 2;\n\n        cadesplugin.CARRIER_FLAG_REMOVABLE = 1;\n        cadesplugin.CARRIER_FLAG_UNIQUE = 2;\n        cadesplugin.CARRIER_FLAG_PROTECTED = 4;\n        cadesplugin.CARRIER_FLAG_FUNCTIONAL_CARRIER = 8;\n        cadesplugin.CARRIER_FLAG_SECURE_MESSAGING = 16;\n        cadesplugin.CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE = 64;\n        cadesplugin.CARRIER_FLAG_VIRTUAL = 128;\n    }\n\n    function async_spawn(generatorFunc) {\n        function continuer(verb, arg) {\n            var result;\n            try {\n                result = generator[verb](arg);\n            } catch (err) {\n                return Promise.reject(err);\n            }\n            if (result.done) {\n                return result.value;\n            } else {\n                return Promise.resolve(result.value).then(onFulfilled, onRejected);\n            }\n        }\n        var generator = generatorFunc(Array.prototype.slice.call(arguments, 1));\n        var onFulfilled = continuer.bind(continuer, \"next\");\n        var onRejected = continuer.bind(continuer, \"throw\");\n        return onFulfilled();\n    }\n\n    function isIE() {\n        // var retVal = ((\"Microsoft Internet Explorer\" == navigator.appName) || // IE < 11\n        //     navigator.userAgent.match(/Trident\\/./i)); // IE 11\n        return (browserSpecs.name === 'IE' || browserSpecs.name === 'MSIE');\n    }\n\n    function isIOS() {\n        return (navigator.userAgent.match(/ipod/i) ||\n            navigator.userAgent.match(/ipad/i) ||\n            navigator.userAgent.match(/iphone/i));\n    }\n\n    function isNativeMessageSupported()\n    {\n        // В IE работаем через NPAPI\n        if(isIE())\n            return false;\n        // В Edge работаем через NativeMessage\n        if (browserSpecs.name === 'Edg') {\n            return true;\n        }\n        if (browserSpecs.name === 'YaBrowser') {\n            isYandex = true;\n            return true;\n        }\n        // В Chrome, Firefox, Safari и Opera работаем через асинхронную версию в зависимости от версии\n        if(browserSpecs.name === 'Opera') {\n            isOpera = true;\n            if(browserSpecs.version >= 33){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        if(browserSpecs.name === 'Firefox') {\n            isFireFox = true;\n            if(browserSpecs.version >= 52){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        if(browserSpecs.name === 'Chrome') {\n            if(browserSpecs.version >= 42){\n                return true;\n            }\n            else{\n                return false;\n            }\n        }\n        //В Сафари начиная с 12 версии нет NPAPI\n        if(browserSpecs.name === 'Safari') {\n            isSafari = true;\n            if(browserSpecs.version >= 12) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    // Функция активации объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObject(name) {\n        if (isIOS()) {\n            // На iOS для создания объектов используется функция\n            // call_ru_cryptopro_npcades_10_native_bridge, определенная в IOS_npcades_supp.js\n            return call_ru_cryptopro_npcades_10_native_bridge(\"CreateObject\", [name]);\n        }\n        if (isIE()) {\n            // В Internet Explorer создаются COM-объекты\n            if (name.match(/X509Enrollment/i)) {\n                try {\n                    // Объекты CertEnroll пробуем создавать через нашу фабрику,\n                    // если не получилось то через CX509EnrollmentWebClassFactory\n                    var objCertEnrollClassFactory = document.getElementById(\"webClassFactory\");\n                    return objCertEnrollClassFactory.CreateObject(name);\n                }\n                catch (e) {\n                    try {\n                        var objWebClassFactory = document.getElementById(\"certEnrollClassFactory\");\n                        return objWebClassFactory.CreateObject(name);\n                    }\n                    catch (err) {\n                        throw (\"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS\");\n                    }\n                }\n            }\n            // Объекты CAPICOM и CAdESCOM создаются через CAdESCOM.WebClassFactory\n            try {\n                var objWebClassFactory = document.getElementById(\"webClassFactory\");\n                return objWebClassFactory.CreateObject(name);\n            }\n            catch (e) {\n                // Для версий плагина ниже 2.0.12538\n        return new ActiveXObject(name); // eslint-disable-line\n            }\n        }\n        // создаются объекты NPAPI\n        return pluginObject.CreateObject(name);\n    }\n\n    function decimalToHexString(number) {\n        if (number < 0) {\n            number = 0xFFFFFFFF + number + 1;\n        }\n\n        return number.toString(16).toUpperCase();\n    }\n\n    function GetMessageFromException(e) {\n        var err = e.message;\n        if (!err) {\n            err = e;\n        } else if (e.number) {\n            err += \" (0x\" + decimalToHexString(e.number) + \")\";\n        }\n        return err;\n    }\n\n    function getLastError(exception) {\n        if(isNativeMessageSupported() || isIE() || isIOS() ) {\n            return GetMessageFromException(exception);\n        }\n\n        try {\n            return pluginObject.getLastError();\n        } catch(e) {\n            return GetMessageFromException(exception);\n        }\n    }\n\n    // Функция для удаления созданных объектов\n    function ReleasePluginObjects() {\n    return cpcsp_chrome_nmcades.ReleasePluginObjects(); // eslint-disable-line\n    }\n\n    // Функция активации асинхронных объектов КриптоПро ЭЦП Browser plug-in\n    function CreateObjectAsync(name) {\n        return pluginObject.CreateObjectAsync(name);\n    }\n\n    //Функции для IOS\n    var ru_cryptopro_npcades_10_native_bridge = {\n        callbacksCount : 1,\n        callbacks : {},\n\n        // Automatically called by native layer when a result is available\n        resultForCallback : function resultForCallback(callbackId, resultArray) {\n            var callback = ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId];\n            if (!callback) return;\n            callback.apply(null,resultArray);\n        },\n\n        // Use this in javascript to request native objective-c code\n        // functionName : string (I think the name is explicit :p)\n        // args : array of arguments\n        // callback : function with n-arguments that is going to be called when the native code returned\n        call : function call(functionName, args, callback) {\n            var hasCallback = callback && typeof callback === \"function\";\n            var callbackId = hasCallback ? ru_cryptopro_npcades_10_native_bridge.callbacksCount++ : 0;\n\n            if (hasCallback)\n                ru_cryptopro_npcades_10_native_bridge.callbacks[callbackId] = callback;\n\n            var iframe = document.createElement(\"IFRAME\");\n            var arrObjs = new Array(\"_CPNP_handle\");\n            try{\n                iframe.setAttribute(\"src\", \"cpnp-js-call:\" + functionName + \":\" + callbackId+ \":\" + encodeURIComponent(JSON.stringify(args, arrObjs)));\n            } catch(e){\n                alert(e);\n            }\n            document.documentElement.appendChild(iframe);\n            iframe.parentNode.removeChild(iframe);\n            iframe = null;\n        }\n    };\n\n    function call_ru_cryptopro_npcades_10_native_bridge(functionName, array){\n        var tmpobj;\n        var ex;\n        ru_cryptopro_npcades_10_native_bridge.call(functionName, array, function(e, response){\n            ex = e;\n            var str='tmpobj='+response;\n            eval(str);\n            if (typeof (tmpobj) === \"string\"){\n                tmpobj = tmpobj.replace(/\\\\\\n/gm, \"\\n\");\n                tmpobj = tmpobj.replace(/\\\\\\r/gm, \"\\r\");\n            }\n        });\n        if(ex)\n            throw ex;\n        return tmpobj;\n    }\n\n    function show_firefox_missing_extension_dialog()\n    {\n        if (!window.cadesplugin_skip_extension_install)\n        {\n            var ovr = document.createElement('div');\n            ovr.id = \"cadesplugin_ovr\";\n            ovr.style = \"visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)\";\n            ovr.innerHTML = \"<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'>\" +\n                \"<button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button>\" +\n                \"<p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.\" +\n                \"<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p>\" +\n                \"</div>\";\n            document.getElementsByTagName(\"Body\")[0].appendChild(ovr);\n            document.getElementById(\"cadesplugin_close_install\").addEventListener('click',function()\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n\n            ovr.addEventListener('click',function()\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n                document.getElementById(\"cadesplugin_ovr\").style.visibility = 'hidden';\n            });\n            ovr.style.visibility=\"visible\";\n        }\n    }\n    function firefox_or_safari_nmcades_onload() {\n        if (window.cadesplugin_extension_loaded_callback)\n            window.cadesplugin_extension_loaded_callback();\n        isFireFoxExtensionLoaded = true;\n        cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error); // eslint-disable-line\n    }\n\n    function nmcades_api_onload() {\n        if (!isIE() && !isFireFox && !isSafari) {\n            if (window.cadesplugin_extension_loaded_callback)\n                window.cadesplugin_extension_loaded_callback();\n        }\n        window.postMessage(\"cadesplugin_echo_request\", \"*\");\n        window.addEventListener(\"message\", function (event){\n            if (typeof(event.data) !== \"string\" || !event.data.match(\"cadesplugin_loaded\"))\n                return;\n            if (cadesplugin_loaded_event_recieved)\n                return;\n            if(isFireFox || isSafari)\n            {\n                // Для Firefox, Сафари вместе с сообщением cadesplugin_loaded прилетает url для загрузки nmcades_plugin_api.js\n                var url = event.data.substring(event.data.indexOf(\"url:\") + 4);\n                if (!url.match(\"^moz-extension://[a-zA-Z0-9-]+/nmcades_plugin_api.js$\")\n                    && !url.match(\"^safari-extension://[a-zA-Z0-9-]+/[a-zA-Z0-9]+/nmcades_plugin_api.js$\"))\n                {\n                    cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR, \"Bad url \\\"\" + url + \"\\\" for load CryptoPro Extension for CAdES Browser plug-in\");\n                    plugin_loaded_error();\n                    return;\n                }\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", url);\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = firefox_or_safari_nmcades_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            }else {\n                cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded, plugin_loaded_error); // eslint-disable-line\n            }\n            cadesplugin_loaded_event_recieved = true;\n        }, false);\n    }\n\n    //Загружаем расширения для Chrome, Opera, YaBrowser, FireFox, Edge, Safari\n    function load_extension()\n    {\n        if(isFireFox || isSafari){\n            // вызываем callback руками т.к. нам нужно узнать ID расширения. Он уникальный для браузера.\n            nmcades_api_onload();\n        } else {\n            // в асинхронном варианте для Yandex и Opera подключаем расширение из Opera store.\n            if (isOpera || isYandex) {\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", \"chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js\");\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = nmcades_api_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            } else {\n                // для Chrome, Chromium, Chromium Edge расширение из Chrome store\n                var fileref = document.createElement('script');\n                fileref.setAttribute(\"type\", \"text/javascript\");\n                fileref.setAttribute(\"src\", \"chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js\");\n                fileref.onerror = plugin_loaded_error;\n                fileref.onload = nmcades_api_onload;\n                document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n            }\n        }\n    }\n\n    //Загружаем плагин для NPAPI\n    function load_npapi_plugin()\n    {\n        var elem = document.createElement('object');\n        elem.setAttribute(\"id\", \"cadesplugin_object\");\n        elem.setAttribute(\"type\", \"application/x-cades\");\n        elem.setAttribute(\"style\", \"visibility: hidden\");\n        document.getElementsByTagName(\"body\")[0].appendChild(elem);\n        pluginObject = document.getElementById(\"cadesplugin_object\");\n        if(isIE())\n        {\n            var elem1 = document.createElement('object');\n            elem1.setAttribute(\"id\", \"certEnrollClassFactory\");\n            elem1.setAttribute(\"classid\", \"clsid:884e2049-217d-11da-b2a4-000e7bbb2b09\");\n            elem1.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem1);\n            var elem2 = document.createElement('object');\n            elem2.setAttribute(\"id\", \"webClassFactory\");\n            elem2.setAttribute(\"classid\", \"clsid:B04C8637-10BD-484E-B0DA-B8A039F60024\");\n            elem2.setAttribute(\"style\", \"visibility: hidden\");\n            document.getElementsByTagName(\"body\")[0].appendChild(elem2);\n        }\n    }\n\n    //Отправляем событие что все ок.\n    function plugin_loaded()\n    {\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_resolve();\n        }else {\n            window.postMessage(\"cadesplugin_loaded\", \"*\");\n        }\n    }\n\n    //Отправляем событие что сломались.\n    function plugin_loaded_error(msg)\n    {\n        if(typeof(msg) === 'undefined' || typeof(msg) === 'object')\n            msg = \"Плагин недоступен\";\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_reject(msg);\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n    }\n\n    //проверяем что у нас хоть какое то событие ушло, и если не уходило кидаем еще раз ошибку\n    function check_load_timeout()\n    {\n        if(plugin_resolved === 1)\n            return;\n        if(isFireFox)\n        {\n            if (!isFireFoxExtensionLoaded)\n                show_firefox_missing_extension_dialog();\n        }\n        plugin_resolved = 1;\n        if(canPromise)\n        {\n            plugin_reject(\"Истекло время ожидания загрузки плагина\");\n        } else {\n            window.postMessage(\"cadesplugin_load_error\", \"*\");\n        }\n\n    }\n\n    //Вспомогательная функция для NPAPI\n    function createPromise(arg)\n    {\n        return new Promise(arg);\n    }\n\n    function check_npapi_plugin (){\n        try {\n            var oAbout = CreateObject(\"CAdESCOM.About\");\n            plugin_loaded();\n        }\n        catch (err) {\n            document.getElementById(\"cadesplugin_object\").style.display = 'none';\n            // Объект создать не удалось, проверим, установлен ли\n            // вообще плагин. Такая возможность есть не во всех браузерах\n            var mimetype = navigator.mimeTypes[\"application/x-cades\"];\n            if (mimetype) {\n                var plugin = mimetype.enabledPlugin;\n                if (plugin) {\n                    plugin_loaded_error(\"Плагин загружен, но не создаются обьекты\");\n                }else\n                {\n                    plugin_loaded_error(\"Ошибка при загрузке плагина\");\n                }\n            }else\n            {\n                plugin_loaded_error(\"Плагин недоступен\");\n            }\n        }\n    }\n\n    //Проверяем работает ли плагин\n    function check_plugin_working()\n    {\n        var div = document.createElement(\"div\");\n        div.innerHTML = \"<!--[if lt IE 9]><i></i><![endif]-->\";\n        var isIeLessThan9 = (div.getElementsByTagName(\"i\").length === 1);\n        if (isIeLessThan9) {\n            plugin_loaded_error(\"Internet Explorer версии 8 и ниже не поддерживается\");\n            return;\n        }\n\n        if(isNativeMessageSupported())\n        {\n            load_extension();\n        }else if(!canPromise) {\n            window.addEventListener(\"message\", function (event){\n                    if (event.data !== \"cadesplugin_echo_request\")\n                        return;\n                    load_npapi_plugin();\n                    check_npapi_plugin();\n                },\n                false);\n        }else\n        {\n            if(document.readyState === \"complete\"){\n                load_npapi_plugin();\n                check_npapi_plugin();\n            } else {\n                window.addEventListener(\"load\", function (event) {\n                    load_npapi_plugin();\n                    check_npapi_plugin();\n                }, false);\n            }\n        }\n    }\n\n    function set_pluginObject(obj)\n    {\n        pluginObject = obj;\n    }\n\n    function is_capilite_enabled()\n    {\n        if ((typeof (cadesplugin.EnableInternalCSP) !== 'undefined') && cadesplugin.EnableInternalCSP)\n            return true;\n        return false;\n    };\n\n    //Export\n    cadesplugin.JSModuleVersion = \"2.3.2\";\n    cadesplugin.async_spawn = async_spawn;\n    cadesplugin.set = set_pluginObject;\n    cadesplugin.set_log_level = set_log_level;\n    cadesplugin.getLastError = getLastError;\n    cadesplugin.is_capilite_enabled = is_capilite_enabled;\n\n    if(isNativeMessageSupported())\n    {\n        cadesplugin.CreateObjectAsync = CreateObjectAsync;\n        cadesplugin.ReleasePluginObjects = ReleasePluginObjects;\n    }\n\n    if(!isNativeMessageSupported())\n    {\n        cadesplugin.CreateObject = CreateObject;\n    }\n\n    if(window.cadesplugin_load_timeout)\n    {\n        setTimeout(check_load_timeout, window.cadesplugin_load_timeout);\n    }\n    else\n    {\n        setTimeout(check_load_timeout, 20000);\n    }\n\n    set_constantValues();\n\n    cadesplugin.current_log_level = cadesplugin.LOG_LEVEL_ERROR;\n    window.cadesplugin = cadesplugin;\n    check_plugin_working();\n}());\n\nexport default window.cadesplugin;\n"],"names":["CADESCOM_XML_SIGNATURE_TYPE","CADESCOM_XADES_TYPE","CADESCOM_CADES_TYPE","XML_SIGNATURE_GOST_ALGORITHM_TYPE","CAPICOM_CERTIFICATE_INCLUDE_OPTION","CADESCOM_ENCODING_TYPE","CAPICOM_ENCODING_TYPE","CAPICOM_STORE_OPEN_MODE","STORE_LOCATION","CAPICOM_CERT_INFO_TYPE","CAPICOM_CERTIFICATE_FIND_TYPE","CAPICOM_KEY_USAGE","CAPICOM_MY_STORE","CAPICOM_PROPID","CADESCOM_MEDIA_TYPE","CRYPTO_OBJECTS","STORE_TYPE","GOST_KEY_ALGORITHM_TYPES","CRYPTO_PROVIDERS","ProviderType","ProviderName","map","c","DEFAULT_CRYPTO_PROVIDER","Default","find","t","Fallback","VIP_NET_CRYPTO_PROVIDER_TYPES","Object","freeze","CRYPTO_PRO_CRYPTO_PROVIDER_TYPES","GOST_KEY_ALGORITHM_OIDS","values","attributeOids","commonName","surname","name","country","locality","region","street","organisation","department","post","ogrnip","ogrn","snils","inn","innLe","email","CRYPTO_PRO_ERRORS","code","message","PLUGIN_ERRORS","ERRORS_WITHOUT_CODE","parseValue","target","attributeName","errorMessage","CryptoError","typesAndValues","type","value","valueBlock","normalizeInn","length","startsWith","substring","parseCertificate","certificate","certificateBase64Data","asn1","fromBER","Uint8Array","Buffer","buffer","parsedCert","x509Certificate","schema","result","publishKeyAlgorithm","subjectPublicKeyInfo","algorithm","algorithmId","isGost","includes","subjectKeyIdentifierExtension","extensions","extnID","subjectKeyId","int8Buffer","i","str","toString","toUpperCase","trim","bufferToHex","parsedValue","valueHex","keys","issuer","forEach","key","subject","error","prepareArgs","args","context","unshift","outputDebug","PluginConfig","console","log","outputError","data","err","slice","pluginConfig","cb","this","errorListeners","addErrorListener","Debug","errors","push","InnerError","setPrototypeOf","prototype","filter","Boolean","join","fullErrorData","window","cadesplugin","getLastError","replace","title","cryptoError","errCode","_extractCode","extractedMsg","_extractMessage","res","errorCode","overrideMessage","match","_RULE_MATCHING_CODE","Error","canAsync","CreateObjectAsync","unwrap","optionalPromise","Promise","resolve","cryptoProvidersCache","Certificate","cfg","organization","certificateBin","cert","SubjectName","subjectName","Thumbprint","thumbprint","ValidToDate","notAfter","ValidFromDate","notBefore","Export","CAPICOM_ENCODE_BASE64","HasPrivateKey","hasPrivateKey","PrivateKey","oPrivateKey","providerName","providerType","createObject","objectIdentifier","afterPluginLoaded","object","CreateObject","getCryptoProviders","resetCache","availableCryptoProviders","logData","about","cadesAbout","CSPVersion","cspVersion","BuildVersion","MajorVersion","MinorVersion","systemInfoCache","getSystemInfo","sysInfo","cadesVersion","cryptoProInstalled","vipNetInstalled","cryptoProviderName","cryptoProvider","PluginVersion","pluginVersion","Version","checkIsSupportedCSPVersion","systemInfo","cryptoProviders","haveValidCryptoProCSPVersion","haveValidVipNetCSPVersion","checkCspVersionFunc","CheckCryptoProviders","cp","cryptoProCSP","vipNetCSP","version","parseFloat","isSupportedCadesVersion","major","minor","patch","parseInt","checkIsValidSystemSetup","isPluginReady","isAlreadyLoaded","require","set_log_level","LOG_LEVEL_DEBUG","callbackResult","apply","setCryptoProperty","obj","validateCertificate","customValidationFunc","now","Date","sign","detach","includeCertChain","doNotValidate","base64String","ArrayBuffer","signer","signedData","CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN","SignCades","CADESCOM_CADES_BES","signResult","getXmlSignAlgorithmType","GOST_R3410_12_256","XmlDsigGost3410Url2012256","GOST_R3410_12_512","XmlDsigGost3410Url2012512","getXmlHashAlgorithmType","XmlDsigGost3411Url2012256","XmlDsigGost3411Url2012512","signXml","xmlSignatureType","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED","signedXml","Sign","encrypt","recipientCertificates","envelopedData","Recipients","recipients","recipientCertificate","Add","Encrypt","encryptResult","decrypt","encryptedData","Decrypt","Content","decryptedData","openStore","storeLocation","CAPICOM_CURRENT_USER_STORE","storeName","openMode","CAPICOM_STORE_OPEN_EXISTING_ONLY","store","Open","Close","certificatesCache","getCertificatesFromStore","certificatesCount","Certificates","certificates","Count","Item","certBin","ReadCertificatesFromUsbToken","CADESCOM_CONTAINER_STORE","ReadCertificatesFromRegistry","CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED","getCertificates","storeType","ALL","USB_TOKEN","REGISTRY","usbTokenCertificates","certificatesFromRegistry","concat","index","findIndex","findCertificateBySkid","CertificateInfo","onSelect","onClick","e","download","href","navigator","clipboard","writeText","style","display","JSON","stringify","CryptoProviderInfo","CryptoApp","CheckSystemSetup","useState","setCertificates","versionInfo","setVersionInfo","setCryptoProviders","showCertificates","setShowCertificates","showCryptoProviders","setShowCryptoProviders","selectedCertificate","setSelectedCertificate","selectedFile","setSelectedFile","selectedEncryptCert","setSelectedEncryptCert","selectedEncryptCertBase64","setSelectedEncryptCertBase64","useEffect","alert","fetchedCertificates","fetchCryptoProviders","fetchCertificates","fetchSystemInfo","trySelectCertificate","skid","dowloadFile","blob","url","URL","createObjectURL","a","document","createElement","body","appendChild","click","revokeObjectURL","remove","signFile","arrayBuffer","sig","convertBase64toBlob","signXmlFile","encryptFileCms","decryptFileCms","checkEncryptDecrypt","originalData","isOk","base64","fetch","then","importCertificate","undefined","arrayBufferToString","TextDecoder","decode","parseFromArrayBuffer","Import","parseFromBase64String","checkSystem","certInfo","width","placeholder","onChange","_","files","CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE","height","className","ReactDOM","getElementById","render","pluginObject","plugin_resolved","plugin_reject","plugin_resolve","isOpera","isFireFox","isSafari","isYandex","canPromise","cadesplugin_loaded_event_recieved","isFireFoxExtensionLoaded","reject","browserSpecs","check_browser","ru_cryptopro_npcades_10_native_bridge","callbacksCount","callbacks","resultForCallback","callbackId","resultArray","callback","call","functionName","hasCallback","iframe","arrObjs","Array","setAttribute","encodeURIComponent","documentElement","parentNode","removeChild","JSModuleVersion","async_spawn","set","set_pluginObject","is_capilite_enabled","isNativeMessageSupported","ReleasePluginObjects","cadesplugin_load_timeout","setTimeout","check_load_timeout","set_constantValues","current_log_level","LOG_LEVEL_ERROR","check_plugin_working","tem","ua","userAgent","M","test","exec","appName","appVersion","splice","cpcsp_console_log","level","msg","LOG_LEVEL_INFO","postMessage","CAPICOM_MEMORY_STORE","CAPICOM_LOCAL_MACHINE_STORE","CAPICOM_SMART_CARD_USER_STORE","CADESCOM_MEMORY_STORE","CADESCOM_LOCAL_MACHINE_STORE","CADESCOM_CURRENT_USER_STORE","CADESCOM_SMART_CARD_USER_STORE","CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME","CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING","CADESCOM_XADES_DEFAULT","CADESCOM_XADES_BES","CADESCOM_XADES_T","CADESCOM_XADES_X_LONG_TYPE_1","CADESCOM_XMLDSIG_TYPE","XmlDsigGost3410UrlObsolete","XmlDsigGost3411UrlObsolete","XmlDsigGost3410Url","XmlDsigGost3411Url","CADESCOM_CADES_DEFAULT","CADESCOM_CADES_T","CADESCOM_CADES_X_LONG_TYPE_1","CADESCOM_PKCS7_TYPE","CADESCOM_ENCODE_BASE64","CADESCOM_ENCODE_BINARY","CADESCOM_ENCODE_ANY","CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT","CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY","CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME","CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME","CAPICOM_CERTIFICATE_FIND_SHA1_HASH","CAPICOM_CERTIFICATE_FIND_ISSUER_NAME","CAPICOM_CERTIFICATE_FIND_ROOT_NAME","CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME","CAPICOM_CERTIFICATE_FIND_EXTENSION","CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY","CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY","CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY","CAPICOM_CERTIFICATE_FIND_TIME_VALID","CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID","CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED","CAPICOM_CERTIFICATE_FIND_KEY_USAGE","CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE","CAPICOM_PROPID_ENHKEY_USAGE","CAPICOM_OID_OTHER","CAPICOM_OID_KEY_USAGE_EXTENSION","CAPICOM_EKU_CLIENT_AUTH","CAPICOM_EKU_SMARTCARD_LOGON","CAPICOM_EKU_OTHER","CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME","CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION","CADESCOM_AUTHENTICATED_ATTRIBUTE_MACHINE_INFO","CADESCOM_ATTRIBUTE_OTHER","CADESCOM_STRING_TO_UCS2LE","CADESCOM_BASE64_TO_BINARY","CADESCOM_DISPLAY_DATA_NONE","CADESCOM_DISPLAY_DATA_CONTENT","CADESCOM_DISPLAY_DATA_ATTRIBUTE","CADESCOM_ENCRYPTION_ALGORITHM_RC2","CADESCOM_ENCRYPTION_ALGORITHM_RC4","CADESCOM_ENCRYPTION_ALGORITHM_DES","CADESCOM_ENCRYPTION_ALGORITHM_3DES","CADESCOM_ENCRYPTION_ALGORITHM_AES","CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89","CADESCOM_HASH_ALGORITHM_SHA1","CADESCOM_HASH_ALGORITHM_MD2","CADESCOM_HASH_ALGORITHM_MD4","CADESCOM_HASH_ALGORITHM_MD5","CADESCOM_HASH_ALGORITHM_SHA_256","CADESCOM_HASH_ALGORITHM_SHA_384","CADESCOM_HASH_ALGORITHM_SHA_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC","CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC","CADESCOM_AllowNone","CADESCOM_AllowNoOutstandingRequest","CADESCOM_AllowUntrustedCertificate","CADESCOM_AllowUntrustedRoot","CADESCOM_SkipInstallToStore","CADESCOM_InstallCertChainToContainer","CADESCOM_UseContainerStore","ENABLE_CARRIER_TYPE_CSP","ENABLE_CARRIER_TYPE_FKC_NO_SM","ENABLE_CARRIER_TYPE_FKC_SM","ENABLE_ANY_CARRIER_TYPE","DISABLE_EVERY_CARRIER_OPERATION","ENABLE_CARRIER_OPEN_ENUM","ENABLE_CARRIER_CREATE","ENABLE_ANY_OPERATION","CADESCOM_PRODUCT_CSP","CADESCOM_PRODUCT_OCSP","CADESCOM_PRODUCT_TSP","MEDIA_TYPE_REGISTRY","MEDIA_TYPE_HDIMAGE","MEDIA_TYPE_CLOUD","MEDIA_TYPE_SCARD","XCN_CRYPT_STRING_BASE64HEADER","AT_KEYEXCHANGE","AT_SIGNATURE","CARRIER_FLAG_REMOVABLE","CARRIER_FLAG_UNIQUE","CARRIER_FLAG_PROTECTED","CARRIER_FLAG_FUNCTIONAL_CARRIER","CARRIER_FLAG_SECURE_MESSAGING","CARRIER_FLAG_ABLE_VISUALISE_SIGNATURE","CARRIER_FLAG_VIRTUAL","generatorFunc","continuer","verb","arg","generator","done","onFulfilled","onRejected","arguments","bind","isIE","isIOS","call_ru_cryptopro_npcades_10_native_bridge","ActiveXObject","decimalToHexString","number","GetMessageFromException","exception","cpcsp_chrome_nmcades","array","tmpobj","ex","response","eval","show_firefox_missing_extension_dialog","cadesplugin_skip_extension_install","ovr","id","innerHTML","getElementsByTagName","addEventListener","plugin_loaded_error","visibility","firefox_or_safari_nmcades_onload","cadesplugin_extension_loaded_callback","check_chrome_plugin","plugin_loaded","nmcades_api_onload","event","indexOf","fileref","onerror","onload","load_extension","load_npapi_plugin","elem","elem1","elem2","createPromise","check_npapi_plugin","mimetype","mimeTypes","enabledPlugin","div","readyState","EnableInternalCSP"],"sourceRoot":""}